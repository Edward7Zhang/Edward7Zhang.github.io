<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EdwardZhang&#39;s Blog</title>
  
  <subtitle>Life starts at the end of your comfort zone. âš½ ğŸ‚ ğŸƒ ğŸš´ âŒ¨ï¸</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://edward7zhang.github.io/"/>
  <updated>2019-03-04T01:13:13.575Z</updated>
  <id>https://edward7zhang.github.io/</id>
  
  <author>
    <name>EdwardZhang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Androidç«¯å„ç±»å›¾ç‰‡åŠ è½½æ¡†æ¶å¯¹æ¯”</title>
    <link href="https://edward7zhang.github.io/2019/03/04/Android%E7%AB%AF%E5%90%84%E7%B1%BB%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E6%A1%86%E6%9E%B6%E5%AF%B9%E6%AF%94/"/>
    <id>https://edward7zhang.github.io/2019/03/04/Androidç«¯å„ç±»å›¾ç‰‡åŠ è½½æ¡†æ¶å¯¹æ¯”/</id>
    <published>2019-03-04T04:07:14.000Z</published>
    <updated>2019-03-04T01:13:13.575Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‰æ®µæ—¶é—´çš„é¢è¯•è¿‡ç¨‹ä¸­è¢«é—®åˆ°ç”¨è¿‡ä»€ä¹ˆå›¾ç‰‡åŠ è½½æ¡†æ¶ï¼Œæˆ‘éšå£è€Œå‡ºGlideï¼Œé¢è¯•å®˜ç»§ç»­è¿½é—®ä¸‹å»æ˜¯åšè¿‡ä»€ä¹ˆæ¯”è¾ƒå¾—å‡ºGlideæ¯”è¾ƒé«˜æ•ˆå—ï¼Ÿæˆ‘å°±é˜»å¡äº†â€¦æ‰€ä»¥åœ¨æ­¤åšä¸€æ¬¡å¤ç›˜ï¼Œé’ˆå¯¹Androidç«¯çš„å„ç§åŠ è½½æ¡†æ¶è¿›è¡Œå¯¹æ¯”</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><ul><li>å›¾ç‰‡åŠ è½½æ˜¯Androidå¼€å‘ä¸­æœ€æœ€åŸºç¡€çš„åŠŸèƒ½ï¼ŒåŒæ—¶å›¾ç‰‡åŠ è½½OOMä¹Ÿä¸€ç›´å›°æ‰°ç€å¾ˆå¤šå¼€å‘è€…ï¼Œå› æ­¤ä¸ºäº†é™ä½å¼€å‘å‘¨æœŸå’Œéš¾åº¦ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé€‰ç”¨ä¸€äº›å›¾ç‰‡åŠ è½½çš„å¼€æºåº“ã€‚</li><li>è€ç‰Œçš„æœ‰ImageLoaderï¼ŒUIL,  Volleyï¼Œä¸»æµçš„æœ‰ï¼ŒPicassoï¼ŒGlideï¼ŒFrescoç­‰ç­‰ï¼Œé€‰æ‹©ä¸€æ¬¾å¥½çš„å›¾ç‰‡åŠ è½½è£¤å°±æˆäº†æˆ‘ä»¬çš„é¦–è¦é—®é¢˜ã€‚</li><li>æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ä¸»æµçš„ä¸‰æ¬¾ Picassoï¼ŒGlideï¼ŒFrescoæ¡†æ¶çš„ä¼˜ç¼ºç‚¹ã€‚</li></ul></blockquote><h1 id="Picassoï¼ŒGlideï¼ŒFrescoçš„å‰ä¸–ä»Šç”Ÿ"><a href="#Picassoï¼ŒGlideï¼ŒFrescoçš„å‰ä¸–ä»Šç”Ÿ" class="headerlink" title="Picassoï¼ŒGlideï¼ŒFrescoçš„å‰ä¸–ä»Šç”Ÿ"></a>Picassoï¼ŒGlideï¼ŒFrescoçš„å‰ä¸–ä»Šç”Ÿ</h1><h2 id="åŸºæœ¬é¡¹å¯¹æ¯”"><a href="#åŸºæœ¬é¡¹å¯¹æ¯”" class="headerlink" title="åŸºæœ¬é¡¹å¯¹æ¯”"></a>åŸºæœ¬é¡¹å¯¹æ¯”</h2><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Picasso</th><th>Glide</th><th>Fresco</th></tr></thead><tbody><tr><td>åœ°å€</td><td><a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fsquare%2Fpicasso" target="_blank" rel="external">github.com/square/picaâ€¦</a></td><td><a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fbumptech%2Fglide" target="_blank" rel="external">github.com/bumptech/glâ€¦</a></td><td><a href="https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Ffresco" target="_blank" rel="external">github.com/facebook/frâ€¦</a></td></tr><tr><td>å‘å¸ƒæ—¶é—´</td><td>2013å¹´5æœˆ</td><td>2014å¹´9æœˆ</td><td>2015å¹´5æœˆ</td></tr><tr><td>æ˜¯å¦æ”¯æŒgif</td><td>false</td><td>true</td><td>true</td></tr><tr><td>æ˜¯å¦æ”¯æŒwebP</td><td>true</td><td>true</td><td>true</td></tr><tr><td>è§†é¢‘ç¼©ç•¥å›¾</td><td>false</td><td>true</td><td>true</td></tr><tr><td>å¤§å°</td><td>100k</td><td>500 KB</td><td>2ï½3M</td></tr><tr><td>åŠ è½½é€Ÿåº¦</td><td>ä¸­</td><td>é«˜</td><td>é«˜</td></tr><tr><td>Disk+Men Cache</td><td>true</td><td>true</td><td>true</td></tr><tr><td>Easy of use</td><td>low</td><td>mediun</td><td>difficult</td></tr><tr><td>star</td><td>13160</td><td>14709</td><td>12444</td></tr><tr><td>å¼€å‘è€…</td><td>Squareä¸»å¯¼</td><td>Googleä¸»å¯¼</td><td>Facebookä¸»å¯¼</td></tr></tbody></table><h2 id="åŠ è½½å›¾ç‰‡è€—æ—¶åŠå†…å­˜å¯¹æ¯”"><a href="#åŠ è½½å›¾ç‰‡è€—æ—¶åŠå†…å­˜å¯¹æ¯”" class="headerlink" title="åŠ è½½å›¾ç‰‡è€—æ—¶åŠå†…å­˜å¯¹æ¯”"></a>åŠ è½½å›¾ç‰‡è€—æ—¶åŠå†…å­˜å¯¹æ¯”</h2><h3 id="without-animations"><a href="#without-animations" class="headerlink" title="without animations"></a>without animations</h3><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Picasso</th><th>Glide</th><th>Fresco</th></tr></thead><tbody><tr><td>java heapï¼native heap/å¹³å‡è€—æ—¶ï¼ˆwithout animationsï¼‰</td><td><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d4ab13d?imageslim" alt="PicassoåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d2b55e8?imageslim) | ![GlideåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d1496bb?imageslim) | ![FrescoåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡" title="">                </div>                <div class="image-caption">PicassoåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d2b55e8?imageslim) | ![GlideåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d1496bb?imageslim) | ![FrescoåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡</div>            </figure></td></tr><tr><td>max java heap</td><td>12.6MB</td><td>11.1MB</td><td>13.9MB</td></tr><tr><td>max native heap</td><td>43.8MB</td><td>43.8MB</td><td>43.8MB</td></tr><tr><td>avg wait time</td><td>241ms</td><td>34ms</td><td>44ms</td></tr></tbody></table><p>ä»ä¸Šé¢çš„åŠ è½½é™æ€å›¾ç‰‡å¯ä»¥çœ‹å‡ºä¸‰å¤§ä¸»æµæ¡†æ¶æ€§èƒ½éƒ½ä¸é”™ï¼Œä¸è¿‡ç”¨æ•°æ®è¯´è¯æ•´ä½“è€Œè¨€Glideæ›´èƒœä¸€ç­¹ã€‚</p><hr><h3 id="allow-animations"><a href="#allow-animations" class="headerlink" title="allow animations"></a>allow animations</h3><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Picasso</th><th>Glide</th><th>Fresco</th></tr></thead><tbody><tr><td>java heapï¼native heap/å¹³å‡è€—æ—¶ï¼ˆallow animationsï¼‰</td><td><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2018/5/14/1635f431b88df0e0?imageslim" alt="PicassoåŠ è½½åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d57eddb?imageslim) | ![GlideåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f431b031be09?imageslim) | ![FrescoåŠ è½½åŠ¨ç”»å›¾ç‰‡" title="">                </div>                <div class="image-caption">PicassoåŠ è½½åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f4318d57eddb?imageslim) | ![GlideåŠ è½½æ— åŠ¨ç”»å›¾ç‰‡](https://user-gold-cdn.xitu.io/2018/5/14/1635f431b031be09?imageslim) | ![FrescoåŠ è½½åŠ¨ç”»å›¾ç‰‡</div>            </figure></td></tr><tr><td>max java heap</td><td>6.8MB</td><td>74.8.1MB</td><td>36.1MB</td></tr><tr><td>max native heap</td><td>18.2MB</td><td>66.8MB</td><td>545.3MB</td></tr><tr><td>avg wait time</td><td>1707ms</td><td>33910ms</td><td>15142ms</td></tr></tbody></table><p><em>ä¸Šé¢çš„æ•°æ®æˆ‘ä»¬å¯ä»¥å¿½ç•¥Picassoäº†ï¼Œå› ä¸ºå®ƒæ ¹æœ¬ä¸æ”¯æŒgifï¼Œé‚£ä¹ˆGlideå’ŒFrescoå¯ä»¥çœ‹å‡ºFrescoçš„java heapåŸºæœ¬ä¿æŒè¾ƒä½å¹³ç¨³çŠ¶æ€ï¼Œè€ŒGlideçš„java heapåŸºæœ¬ä¸ºFrescoçš„ä¸€å€ï¼Œæ‰€ä»¥OOMçš„é£é™©ä¹Ÿæ¯”frescoå¤§ä¸€å€ã€‚</em><br><em>ä»æ—¶é—´ä¸Šglideæ˜¯æœ‰ä¸€å®šå·®è·ï¼Œä¸è¿‡frescoæœ‰ä¸¤å¼ å›¾ç‰‡æ²¡åŠ è½½å®Œæˆï¼Œæ‰€ä»¥æ—¶é—´ä¸æ˜¯å®Œå…¨å¯é çš„æ•°æ®</em><br><em>ä»native heapå¯ä»¥çœ‹å‡ºFrescoæœ€é«˜545MBï¼Œè¿™ä¸ªæœ‰ç‚¹ææ€–ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸ªçŸ¥è¯†ç‚¹ã€‚</em></p><p><strong><em>çŸ¥è¯†ç‚¹</em></strong></p><blockquote><ul><li>Java Heapæ˜¯å¯¹äºJava è™šæ‹Ÿæœºè€Œè¯´çš„ï¼Œä¸€èˆ¬çš„å¤§å°ä¸Šé™æ˜¯ 16M 24M 48M 76M å…·ä½“è§†æ‰‹æœºè€Œå®šã€‚</li><li>Native Heapæ˜¯å¯¹äºC/C++ç›´æ¥æ“çºµçš„ç³»ç»Ÿå †å†…å­˜ï¼Œæ‰€ä»¥å®ƒçš„ä¸Šé™ä¸€èˆ¬æ˜¯å…·ä½“RAMçš„2/3å·¦å³ã€‚</li><li>æ‰€ä»¥å¯¹äº2Gçš„æ‰‹æœºè€Œè¨€ï¼ŒJava Heap å¤§æ¦‚76Mï¼Œè€ŒNative Heapæ˜¯760Må·¦å³ï¼Œç›¸å·®10å€ã€‚</li></ul></blockquote><p>æ‰€ä»¥Frescoä¹Ÿæ˜¯å­˜åœ¨ä¸€å®šé£é™©çš„ï¼Œå› ä¸ºnative heapæ•°æ®å®åœ¨æ˜¯å¤ªææ€–äº†ã€‚</p><h2 id="è¯¦ç»†å±æ€§å¯¹æ¯”"><a href="#è¯¦ç»†å±æ€§å¯¹æ¯”" class="headerlink" title="è¯¦ç»†å±æ€§å¯¹æ¯”"></a>è¯¦ç»†å±æ€§å¯¹æ¯”</h2><p>æ¥ä¸‹æ¥åªè¯¦ç»†å¯¹æ¯”Frescoå’ŒGlide<br>Picassoä»å„æ–¹é¢éƒ½æ¯”è¿™ä¸¤ä¸ªå¼±ï¼Œè¿™é‡Œå°±ä¸æµªè´¹æ—¶é—´äº†ã€‚</p><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Glide</th><th>Fresco</th></tr></thead><tbody><tr><td>é…ç½®</td><td><code>compile &#39;com.github.bumptech.glide:glide:XXX.XXX&#39;</code></td><td><code>compile &#39;com.facebook.fresco:fresco:XXX.XXX</code></td></tr><tr><td>åˆå§‹åŒ–</td><td>ç›´æ¥ä½¿ç”¨</td><td><code>Fresco.initialize(this);</code></td></tr><tr><td>layout</td><td>æ™®é€šImageView</td><td>ç‹¬æœ‰çš„SimpleDraweeView</td></tr><tr><td>åœ†è§’ï¼Œ åœ†å½¢</td><td>éœ€è¦è‡ªå·±å®ç°åœ†è§’ï¼Œç»§æ‰¿è‡ªBitmapTransformationæ“ä½œbitmapå¯¹è±¡å®ç°</td><td>é€šè¿‡RoundingParamsè®¾ç½®å‚æ•°</td></tr><tr><td>ç¼“å­˜</td><td>Glideå†…å­˜å’Œç£ç›˜ç¼“å­˜</td><td>ä¸‰çº§ç¼“å­˜ï¼Œåˆ†åˆ«æ˜¯ Bitmapç¼“å­˜ï¼Œæœªè§£ç å›¾ç‰‡ç¼“å­˜ï¼Œ æ–‡ä»¶ç¼“å­˜ã€‚</td></tr><tr><td>ç¼“å­˜å›¾åƒå¤§å°</td><td>Glideåˆ™ä¼šæ ¹æ®ImageViewæ§ä»¶å°ºå¯¸è·å¾—å¯¹åº”çš„å¤§å°çš„bitmapæ¥å±•ç¤ºï¼Œä»è€Œç¼“å­˜ä¹Ÿå¯ä»¥é’ˆå¯¹ä¸åŒçš„å¯¹è±¡ï¼šåŸå§‹å›¾åƒï¼ˆsourceï¼‰ï¼Œç»“æœå›¾åƒ(result)</td><td>ç¼“å­˜åŸå§‹å›¾åƒ</td></tr><tr><td>åŠ è½½ç­–ç•¥</td><td>Glideåªæœ‰å ä½å›¾</td><td>å…ˆåŠ è½½å°å°ºå¯¸å›¾ç‰‡ï¼Œå†åŠ è½½å¤§å°ºå¯¸çš„</td></tr><tr><td>åŠ è½½è¿›åº¦</td><td>false</td><td>true</td></tr></tbody></table><p>ä»ä¸Šé¢çš„å¯¹æ¯”ä¸­å¯ä»¥çœ‹å‡ºæ¥Frescoè›®å¼ºå¤§çš„ï¼Œä¸è¿‡ä½¿ç”¨èµ·æ¥ç›¸å¯¹Glideè¦å¤æ‚ä¸€ç‚¹ï¼Œè€Œä¸”éœ€è¦è‡ªå·±çš„SimpleDraweeViewï¼Œè¿™ä¸€ç‚¹åœ¨åˆ‡æ¢æ¡†æ¶çš„æ—¶å€™æœ€è®©äººå¤´ç–¼äº†ã€‚è€Œä¸”Glideç›´æ¥ç¼“å­˜ç›¸å¯¹å¤§å°çš„å›¾ç‰‡ï¼ŒèŠ‚çœç©ºé—´çš„åŒæ—¶ä¸‹åœºå¦‚æœæ˜¯åŒæ ·å¤§å°çš„å›¾ç‰‡å°±ä¸è¦å†æ¬¡è¯·æ±‚ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨ã€‚</p><h3 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h3><p><strong>Glide</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">repositories &#123;</div><div class="line">  mavenCentral()</div><div class="line">  google()</div><div class="line">&#125;</div><div class="line"></div><div class="line">dependencies &#123;</div><div class="line">  implementation <span class="string">'com.github.bumptech.glide:glide:4.9.0'</span></div><div class="line">  annotationProcessor <span class="string">'com.github.bumptech.glide:compiler:4.9.0'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p><strong>Fresco</strong><br>è¦ä½¿ç”¨å®Œæ•´çš„FrescoåŠŸèƒ½å°±è¦å¯¼å…¥å¦‚ä¸‹çš„ä¾èµ–<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">  implementation <span class="string">'com.facebook.fresco:fresco:1.12.1'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><h3 id="bitmapæ“ä½œ"><a href="#bitmapæ“ä½œ" class="headerlink" title="bitmapæ“ä½œ"></a>bitmapæ“ä½œ</h3><p><strong>Glide</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Bitmap myBitmap = Glide.with(ä¸Šä¸‹æ–‡)  </div><div class="line">    .load(url)  </div><div class="line">    .asBitmap() //å¿…é¡»    </div><div class="line">    .get()</div></pre></td></tr></table></figure><p><strong>Fresco</strong><br>Frescoè¦è·å–bitmapæ›´åŠ å¤æ‚ï¼Œ è€Œä¸”ä½¿ç”¨èµ·æ¥ä¹Ÿå¹¶ä¸æ˜¯é‚£ä¹ˆé¡ºç•…ã€‚é¦–å…ˆï¼ŒFrescoä¸ºäº†æ›´å¥½åœ°ç®¡ç†bitmap å¯¹è±¡ï¼ˆbitmapå¯¹è±¡ç”³è¯·å’Œé‡Šæ”¾ä¼šå¼•èµ·é¢‘ç¹çš„GCæ“ä½œï¼Œä»è€Œå¼•èµ·ç•Œé¢å¡é¡¿ï¼‰ï¼Œ å¼•å…¥äº†å¯å…³é—­çš„å¼•ç”¨ï¼ˆCloseableReferenceï¼‰, æŒæœ‰è€…åœ¨ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™éœ€è¦å…³é—­è¯¥å¼•ç”¨ï¼Œè€Œæˆ‘ä»¬è¦è·å–çš„bitmap å¯¹è±¡å°±æ˜¯å¯å…³é—­çš„å¼•ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸èƒ½åƒä¸Šé¢Glideé‚£æ ·æŠŠbitmap å¯¹è±¡å–å‡ºæ¥ä¼ é€’ç»™å…¶å®ƒåœ°æ–¹ä½¿ç”¨ï¼Œ åªèƒ½åœ¨Frescoæä¾›çš„ä½œç”¨åŸŸèŒƒå›´å†…ä½¿ç”¨ã€‚<br>å®é™…é¡¹ç›®ä¸­ä¼šè·å–ç¼“å†²çš„æ–‡ä»¶å¯¹è±¡ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//åŒæ ·åœ¨DataSubscriberä¸­è·å–</div><div class="line">FileBinaryResource resource = (FileBinaryResource) Fresco.getImagePipelineFactory().getMainFileCache().getResource(new SimpleCacheKey(url));</div><div class="line">if (resource != null &amp;&amp; resource.getFile() != null) &#123;           </div><div class="line">    setImage(ImageSource.uri(Uri.fromFile(resource.getFile())));</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><p><strong>Glide</strong></p><blockquote><ul><li>å¤šç§å›¾ç‰‡æ ¼å¼çš„ç¼“å­˜ï¼Œé€‚ç”¨äºæ›´å¤šçš„å†…å®¹è¡¨ç°å½¢å¼ï¼ˆå¦‚Gifã€WebPã€ç¼©ç•¥å›¾ã€Videoï¼‰</li><li>ç”Ÿå‘½å‘¨æœŸé›†æˆï¼ˆæ ¹æ®Activityæˆ–è€…Fragmentçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†å›¾ç‰‡åŠ è½½è¯·æ±‚ï¼‰</li><li>é«˜æ•ˆå¤„ç†Bitmapï¼ˆbitmapçš„å¤ç”¨å’Œä¸»åŠ¨å›æ”¶ï¼Œå‡å°‘ç³»ç»Ÿå›æ”¶å‹åŠ›ï¼‰</li><li>é«˜æ•ˆçš„ç¼“å­˜ç­–ç•¥ï¼Œçµæ´»ï¼ˆPicassoåªä¼šç¼“å­˜åŸå§‹å°ºå¯¸çš„å›¾ç‰‡ï¼ŒGlideç¼“å­˜çš„æ˜¯å¤šç§è§„æ ¼ï¼‰ï¼ŒåŠ è½½é€Ÿåº¦å¿«ä¸”å†…å­˜å¼€é”€å°ï¼ˆé»˜è®¤Bitmapæ ¼å¼çš„ä¸åŒï¼Œä½¿å¾—å†…å­˜å¼€é”€æ˜¯Picassoçš„ä¸€åŠï¼‰</li></ul></blockquote><p><strong>Fresco</strong></p><blockquote><ul><li>æœ€å¤§çš„ä¼˜åŠ¿åœ¨äº5.0ä»¥ä¸‹(æœ€ä½2.3)çš„bitmapåŠ è½½ã€‚åœ¨5.0ä»¥ä¸‹ç³»ç»Ÿï¼ŒFrescoå°†å›¾ç‰‡æ”¾åˆ°ä¸€ä¸ªç‰¹åˆ«çš„å†…å­˜åŒºåŸŸ(AshmemåŒº)</li><li>å¤§å¤§å‡å°‘OOMï¼ˆåœ¨æ›´åº•å±‚çš„Nativeå±‚å¯¹OOMè¿›è¡Œå¤„ç†ï¼Œå›¾ç‰‡å°†ä¸å†å ç”¨Appçš„å†…å­˜ï¼‰</li><li>é€‚ç”¨äºéœ€è¦é«˜æ€§èƒ½åŠ è½½å¤§é‡å›¾ç‰‡çš„åœºæ™¯</li></ul></blockquote><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><p><strong>Glide</strong></p><blockquote><p>-æ²¡æœ‰æ–‡ä»¶ç¼“å­˜ -java heapæ¯”Frescoé«˜</p></blockquote><p><strong>Fresco</strong></p><blockquote><ul><li>åŒ…è¾ƒå¤§ï¼ˆ2~3Mï¼‰</li><li>ç”¨æ³•å¤æ‚</li><li>åº•å±‚æ¶‰åŠc++é¢†åŸŸï¼Œé˜…è¯»æºç æ·±å…¥å­¦ä¹ éš¾åº¦å¤§</li></ul></blockquote><h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h1><p>Frescoè™½ç„¶å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯åŒ…å¾ˆå¤§ï¼Œä¾èµ–å¾ˆå¤šï¼Œä½¿ç”¨å¤æ‚ï¼Œè€Œä¸”è¿˜è¦åœ¨å¸ƒå±€ä½¿ç”¨SimpleDraweeViewæ§ä»¶åŠ è½½å›¾ç‰‡ã€‚ç›¸å¯¹è€Œè¨€Glideä¼šè½»å¥½å¤šï¼Œä¸Šæ‰‹å¿«ï¼Œä½¿ç”¨ç®€å•ï¼Œé…ç½®æ–¹ä¾¿ï¼Œè€Œä¸”ä»åŠ è½½é€Ÿåº¦å’Œæ€§èƒ½æ–¹é¢ä¸ç›¸ä¸Šä¸‹ã€‚å¯¹äºä¸€èˆ¬çš„APPæ¥è¯´Glideæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå¦‚æœæ˜¯ä¸“ä¸šçš„å›¾ç‰‡APPé‚£ä¹ˆFrescoè¿˜æ˜¯å¿…è¦çš„ã€‚</p><p><em><a href="https://juejin.im/entry/5af9aabf51882542bd69d0c0" target="_blank" rel="external">æ–‡ç« éƒ¨åˆ†è½¬è½½äº</a></em></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‰æ®µæ—¶é—´çš„é¢è¯•è¿‡ç¨‹ä¸­è¢«é—®åˆ°ç”¨è¿‡ä»€ä¹ˆå›¾ç‰‡åŠ è½½æ¡†æ¶ï¼Œæˆ‘éšå£è€Œå‡ºGlideï¼Œé¢è¯•å®˜ç»§ç»­è¿½é—®ä¸‹å»æ˜¯åšè¿‡ä»€ä¹ˆæ¯”è¾ƒå¾—å‡ºGlideæ¯”è¾ƒé«˜æ•ˆå—ï¼Ÿæˆ‘å°±é˜»å¡äº†â€¦æ‰€ä»¥åœ¨æ­¤åšä¸€æ¬¡å¤ç›˜ï¼Œé’ˆå¯¹Androidç«¯çš„å„ç§åŠ è½½æ¡†æ¶è¿›è¡Œå¯¹æ¯”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 
      
    
    </summary>
    
    
      <category term="Android" scheme="https://edward7zhang.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Retrofit2.0 ä½¿ç”¨æ•™ç¨‹ï¼ˆä¸å¸¸è§ç½‘ç»œè¯·æ±‚åº“å¯¹æ¯”ï¼‰</title>
    <link href="https://edward7zhang.github.io/2019/03/03/Retrofit2.0%20%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%8E%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%BA%93%E5%AF%B9%E6%AF%94%EF%BC%89/"/>
    <id>https://edward7zhang.github.io/2019/03/03/Retrofit2.0 ä½¿ç”¨æ•™ç¨‹ï¼ˆä¸å¸¸è§ç½‘ç»œè¯·æ±‚åº“å¯¹æ¯”ï¼‰/</id>
    <published>2019-03-03T04:07:14.000Z</published>
    <updated>2019-03-03T09:11:48.794Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><ul><li>åœ¨<strong>Android</strong>å¼€å‘ä¸­ï¼Œç½‘ç»œè¯·æ±‚ååˆ†å¸¸ç”¨</li><li>å½“ä¸‹çš„ç½‘ç»œè¯·æ±‚åŠ è½½åº“ä¸­ï¼Œ<strong>Retrofit</strong>åˆ™æ˜¯å½“ä¸‹hottestçš„ä¸€ä¸ªç½‘ç»œè¯·æ±‚åº“</li></ul><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-a3109ad0446b0540.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>ç‰¹åˆ«æ³¨æ„ï¼š</p><ul><li>å‡†ç¡®æ¥è¯´ï¼Œ<strong>Retrofitæ˜¯ä¸€ä¸ª RESTful çš„ HTTP ç½‘ç»œè¯·æ±‚æ¡†æ¶çš„å°è£…</strong></li><li>åŸå› ï¼šç½‘ç»œè¯·æ±‚çš„å·¥ä½œæœ¬è´¨ä¸Šæ˜¯<code>OkHttp</code>å®Œæˆçš„ï¼Œè€Œ<code>Retrofit</code>ä»…è´Ÿè´£ç½‘ç»œè¯·æ±‚æ¥å£çš„å°è£…<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-b5194f1d16673589.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></li><li>Appåº”ç”¨ç¨‹åºé€šè¿‡ Retrofit è¯·æ±‚ç½‘ç»œï¼Œå®é™…ä¸Šæ˜¯ä½¿ç”¨Retrofitæ¥å£å±‚å°è£…è¯·æ±‚å‚æ•°ã€Headerã€Urlç­‰ä¿¡æ¯ï¼Œä¹‹åç”±OkHttpå®Œæˆåç»­çš„è¯·æ±‚æ“ä½œ</li><li>åœ¨æœåŠ¡ç«¯è¿”å›æ•°æ®ä¹‹åï¼ŒOkHttpå°†åŸå§‹çš„ç»“æœäº¤ç»™Retrofitï¼ŒRetrofitæ ¹æ®ç”¨æˆ·çš„éœ€æ±‚å¯¹ç»“æœè¿›è¡Œè§£æ</li></ul><h1 id="ä¸å…¶ä»–å¼€æºåº“å¯¹æ¯”"><a href="#ä¸å…¶ä»–å¼€æºåº“å¯¹æ¯”" class="headerlink" title="ä¸å…¶ä»–å¼€æºåº“å¯¹æ¯”"></a>ä¸å…¶ä»–å¼€æºåº“å¯¹æ¯”</h1><p>é™¤äº† Retrofitï¼Œå¦‚ä»Š Android ä¸­ä¸»æµçš„ç½‘ç»œè¯·æ±‚æ¡†æ¶æœ‰ï¼š</p><ul><li>Android-Async-Http</li><li>Volly</li><li>OkHttp<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-3089d23889f04d87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä»‹ç»" title="">                </div>                <div class="image-caption">ä»‹ç»</div>            </figure></li></ul><p>å‡ ç§ç½‘ç»œè¯·æ±‚åº“ä¹‹é—´çš„åŒºåˆ«å¯¹æ¯”<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-58819416dfd2767a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></p><p>é™„ï¼šå„ä¸ªä¸»æµç½‘ç»œè¯·æ±‚åº“çš„ Github åœ°å€</p><ul><li><a href="https://github.com/loopj/android-async-http" target="_blank" rel="external">Android-Async-Http</a></li><li><a href="https://github.com/stormzhang/AndroidVolley" target="_blank" rel="external">Volley</a></li><li><a href="https://github.com/square/okhttp" target="_blank" rel="external">OkHttp</a></li><li><a href="https://github.com/square/retrofit" target="_blank" rel="external">Retrofit</a></li></ul><h1 id="Retrofitä½¿ç”¨ä»‹ç»"><a href="#Retrofitä½¿ç”¨ä»‹ç»" class="headerlink" title="Retrofitä½¿ç”¨ä»‹ç»"></a>Retrofitä½¿ç”¨ä»‹ç»</h1><p>ä½¿ç”¨Retrofitçš„æ­¥éª¤å…±æœ‰7ä¸ªï¼š</p><pre><code>æ­¥éª¤1ï¼šæ·»åŠ  Retrofit åº“çš„ä¾èµ–æ­¥éª¤2ï¼šåˆ›å»º æ¥å—æœåŠ¡å™¨è¿”å›æ•°æ® çš„ç±»æ­¥éª¤3ï¼šåˆ›å»º ç”¨äºæè¿°ç½‘ç»œè¯·æ±‚ çš„æ¥å£æ­¥éª¤4ï¼šåˆ›å»º Retrofit å®ä¾‹æ­¥éª¤5ï¼šåˆ›å»º ç½‘ç»œè¯·æ±‚æ¥å£å®ä¾‹ å¹¶ é…ç½®ç½‘ç»œè¯·æ±‚å‚æ•°æ­¥éª¤6ï¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼ˆå¼‚æ­¥\åŒæ­¥ï¼‰    &gt; å°è£…äº† æ•°æ®è½¬æ¢ã€çº¿ç¨‹åˆ‡æ¢çš„æ“ä½œæ­¥éª¤7ï¼šå¤„ç†æœåŠ¡å™¨è¿”å›çš„æ•°æ®</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿™äº›æ­¥éª¤è¿›è¡Œåˆ†è§£</p><h2 id="æ­¥éª¤1ï¼šæ·»åŠ -Retrofit-åº“çš„ä¾èµ–"><a href="#æ­¥éª¤1ï¼šæ·»åŠ -Retrofit-åº“çš„ä¾èµ–" class="headerlink" title="æ­¥éª¤1ï¼šæ·»åŠ  Retrofit åº“çš„ä¾èµ–"></a>æ­¥éª¤1ï¼šæ·»åŠ  Retrofit åº“çš„ä¾èµ–</h2><h3 id="1-åœ¨GradleåŠ å…¥Retrofitåº“çš„ä¾èµ–"><a href="#1-åœ¨GradleåŠ å…¥Retrofitåº“çš„ä¾èµ–" class="headerlink" title="1.åœ¨GradleåŠ å…¥Retrofitåº“çš„ä¾èµ–"></a>1.åœ¨<code>Gradle</code>åŠ å…¥<code>Retrofit</code>åº“çš„ä¾èµ–</h3><blockquote><p>ç”±äº<code>Retrofit</code>æ˜¯åŸºäº<code>OkHttp</code>ï¼Œæ‰€ä»¥è¿˜éœ€è¦æ·»åŠ <code>OkHttp</code>åº“ä¾èµ–</p></blockquote><p><em>build.gradle</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dependencies &#123; </div><div class="line">  compile&apos;com.squareup.retrofit2:retrofit:2.0.2&apos;  </div><div class="line">  // Retrofitåº“ </div><div class="line">  compile &apos;com.squareup.okhttp3:okhttp:3.1.2&apos;  </div><div class="line">  // Okhttpåº“ </div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="2-æ·»åŠ -ç½‘ç»œæƒé™"><a href="#2-æ·»åŠ -ç½‘ç»œæƒé™" class="headerlink" title="2.æ·»åŠ  ç½‘ç»œæƒé™"></a>2.æ·»åŠ  ç½‘ç»œæƒé™</h3><p><em>AndroidManifest.xml</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</div></pre></td></tr></table></figure><h2 id="æ­¥éª¤2ï¼šåˆ›å»º-æ¥å—æœåŠ¡å™¨è¿”å›æ•°æ®-çš„ç±»"><a href="#æ­¥éª¤2ï¼šåˆ›å»º-æ¥å—æœåŠ¡å™¨è¿”å›æ•°æ®-çš„ç±»" class="headerlink" title="æ­¥éª¤2ï¼šåˆ›å»º æ¥å—æœåŠ¡å™¨è¿”å›æ•°æ® çš„ç±»"></a>æ­¥éª¤2ï¼šåˆ›å»º æ¥å—æœåŠ¡å™¨è¿”å›æ•°æ® çš„ç±»</h2><p><em>Reception.java</em><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Reception</span></span>&#123;</div><div class="line">  ...</div><div class="line">  <span class="comment">//æ ¹æ®è¿”å›æ•°æ®çš„æ ¼å¼å’Œæ•°æ®è§£ææ–¹å¼ï¼ˆJsonã€XMLç­‰ï¼‰å®šä¹‰</span></div><div class="line">  <span class="comment">//ä¸‹é¢ä¼šåœ¨å®ä¾‹ä¸­è¿›è¡Œè¯´æ˜</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><h2 id="æ­¥éª¤3ï¼šåˆ›å»º-ç”¨äºæè¿°ç½‘ç»œè¯·æ±‚-çš„æ¥å£"><a href="#æ­¥éª¤3ï¼šåˆ›å»º-ç”¨äºæè¿°ç½‘ç»œè¯·æ±‚-çš„æ¥å£" class="headerlink" title="æ­¥éª¤3ï¼šåˆ›å»º ç”¨äºæè¿°ç½‘ç»œè¯·æ±‚ çš„æ¥å£"></a>æ­¥éª¤3ï¼šåˆ›å»º ç”¨äºæè¿°ç½‘ç»œè¯·æ±‚ çš„æ¥å£</h2><ul><li>Retrofitå°†Httpè¯·æ±‚æŠ½è±¡æˆJavaæ¥å£ï¼šé‡‡ç”¨<strong>æ³¨è§£</strong>æè¿°ç½‘ç»œè¯·æ±‚çš„å‚æ•° å’Œ é…ç½®ç½‘ç»œè¯·æ±‚å‚æ•°</li></ul><blockquote><p>1.ç”¨ åŠ¨æ€ä»£ç† åŠ¨æ€ å°†è¯¥æ¥å£çš„æ³¨è§£â€œç¿»è¯‘â€æˆä¸€ä¸ªHttpè¯·æ±‚ï¼Œæœ€åå†æ‰§è¡ŒHttpè¯·æ±‚<br>2.æ³¨ï¼šæ¥å£ä¸­çš„æ¯ä¸ªæ–¹æ³•çš„å‚æ•°éƒ½éœ€è¦ä½¿ç”¨æ³¨è§£æ ‡æ³¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p></blockquote><p>_GetRequest<em>Interface.interface</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GetRequest_Interface</span></span>&#123;</div><div class="line">    <span class="meta">@GET</span>(<span class="string">"openapi.do?keyfrom=Yanzhikai&amp;key=2032414398&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=car"</span>)</div><div class="line">    <span class="function">Call&lt;Translation&gt; <span class="title">getCall</span><span class="params">()</span></span>;</div><div class="line">    <span class="comment">//@GETæ³¨è§£çš„ä½œç”¨ï¼šé‡‡ç”¨Getæ–¹æ³•å‘é€ç½‘ç»œè¯·æ±‚</span></div><div class="line">    <span class="comment">//getCall() = æ¥å—ç½‘ç»œè¯·æ±‚æ•°æ®çš„æ–¹æ³•</span></div><div class="line">    <span class="comment">//å…¶ä¸­è¿”å›ç±»å‹ä¸ºCall&lt;*&gt;,*æ˜¯æ¥æ”¶æ•°æ®çš„ç±»ï¼ˆå³ä¸Šé¢å®šä¹‰çš„Translationç±»ï¼‰</span></div><div class="line">    <span class="comment">//å¦‚æœæƒ³ç›´æ¥è·å¾—Responsebodyä¸­çš„å†…å®¹ï¼Œå¯ä»¥å®šä¹‰ç½‘ç»œè¯·æ±‚è¿”å›å€¼ä¸ºCall&lt;ResponseBody&gt;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä¸‹é¢è¯¦ç»†ä»‹ç»Retrofitç½‘ç»œè¯·æ±‚æ¥å£ çš„æ³¨è§£ç±»å‹<br><strong>æ³¨è§£ç±»å‹</strong><br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-ee747d1e331ed5a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><br><strong>æ³¨è§£è¯´æ˜</strong></p><h3 id="ç¬¬ä¸€ç±»ï¼šç½‘ç»œè¯·æ±‚æ–¹æ³•"><a href="#ç¬¬ä¸€ç±»ï¼šç½‘ç»œè¯·æ±‚æ–¹æ³•" class="headerlink" title="ç¬¬ä¸€ç±»ï¼šç½‘ç»œè¯·æ±‚æ–¹æ³•"></a>ç¬¬ä¸€ç±»ï¼šç½‘ç»œè¯·æ±‚æ–¹æ³•</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-e97379b8e0942459.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="è¯¦ç»†è¯´æ˜ï¼š"><a href="#è¯¦ç»†è¯´æ˜ï¼š" class="headerlink" title="è¯¦ç»†è¯´æ˜ï¼š"></a>è¯¦ç»†è¯´æ˜ï¼š</h3><h4 id="a-GETã€-POSTã€-PUTã€-DELETEã€-HEAD"><a href="#a-GETã€-POSTã€-PUTã€-DELETEã€-HEAD" class="headerlink" title="a.@GETã€@POSTã€@PUTã€@DELETEã€@HEAD"></a>a.@GETã€@POSTã€@PUTã€@DELETEã€@HEAD</h4><p>ä»¥ä¸Šæ–¹æ³•åˆ†åˆ«å¯¹åº”HTTPä¸­çš„ç½‘ç»œè¯·æ±‚æ–¹å¼<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">interface</span> <span class="title">GetRequest_Interface</span> </span>&#123; </div><div class="line">  <span class="meta">@GET</span>(<span class="string">"openapi.do?keyfrom=Yanzhikai&amp;key=2032414398&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=car"</span>) </div><div class="line">  <span class="function">Call&lt;Translation&gt; <span class="title">getCall</span><span class="params">()</span></span>; </div><div class="line">  <span class="comment">// @GETæ³¨è§£çš„ä½œç”¨:é‡‡ç”¨Getæ–¹æ³•å‘é€ç½‘ç»œè¯·æ±‚  </span></div><div class="line">  <span class="comment">// getCall() = æ¥æ”¶ç½‘ç»œè¯·æ±‚æ•°æ®çš„æ–¹æ³•  </span></div><div class="line">  <span class="comment">// å…¶ä¸­è¿”å›ç±»å‹ä¸ºCall&lt;*&gt;ï¼Œ*æ˜¯æ¥æ”¶æ•°æ®çš„ç±»ï¼ˆå³ä¸Šé¢å®šä¹‰çš„Translationç±»ï¼‰ </span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p><strong>æ­¤å¤„ç‰¹æ„è¯´æ˜URLçš„ç»„æˆï¼šRetrofitæŠŠ ç½‘ç»œè¯·æ±‚çš„URLåˆ†æˆäº†ä¸¤éƒ¨åˆ†è®¾ç½®ï¼š</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç¬¬1éƒ¨åˆ†ï¼šåœ¨ç½‘ç»œè¯·æ±‚æ¥å£çš„æ³¨è§£è®¾ç½®</span></div><div class="line"> <span class="meta">@GET</span>(<span class="string">"openapi.do?keyfrom=Yanzhikai&amp;key=2032414398&amp;type=data&amp;doctype=json&amp;version=1.1&amp;q=car"</span>)</div><div class="line"><span class="function">Call&lt;Translation&gt;  <span class="title">getCall</span><span class="params">()</span></span>;</div><div class="line"></div><div class="line"><span class="comment">// ç¬¬2éƒ¨åˆ†ï¼šåœ¨åˆ›å»ºRetrofitå®ä¾‹æ—¶é€šè¿‡.baseUrl()è®¾ç½®</span></div><div class="line">Retrofit retrofit = <span class="keyword">new</span> Retrofit.Builder()</div><div class="line">                .baseUrl(<span class="string">"http://fanyi.youdao.com/"</span>) <span class="comment">//è®¾ç½®ç½‘ç»œè¯·æ±‚çš„Urlåœ°å€</span></div><div class="line">                .addConverterFactory(GsonConverterFactory.create()) <span class="comment">//è®¾ç½®æ•°æ®è§£æå™¨</span></div><div class="line">                .build();</div><div class="line"></div><div class="line"><span class="comment">// ä»ä¸Šé¢çœ‹å‡ºï¼šä¸€ä¸ªè¯·æ±‚çš„URLå¯ä»¥é€šè¿‡ æ›¿æ¢å— å’Œ è¯·æ±‚æ–¹æ³•çš„å‚æ•° æ¥è¿›è¡ŒåŠ¨æ€çš„URLæ›´æ–°ã€‚</span></div><div class="line"><span class="comment">// æ›¿æ¢å—æ˜¯ç”± è¢«&#123;&#125;åŒ…è£¹èµ·æ¥çš„å­—ç¬¦ä¸²æ„æˆ</span></div><div class="line"><span class="comment">// å³ï¼šRetrofitæ”¯æŒåŠ¨æ€æ”¹å˜ç½‘ç»œè¯·æ±‚æ ¹ç›®å½•</span></div></pre></td></tr></table></figure></p><ul><li>ç½‘ç»œè¯·æ±‚çš„å®Œæ•´ Url = åœ¨åˆ›å»º Retrofit å®ä¾‹æ—¶é€šè¿‡.baseUrl() è®¾ç½® + ç½‘ç»œè¯·æ±‚æ¥å£çš„æ³¨è§£è®¾ç½®ï¼ˆä¸‹é¢ç§°â€œpathâ€ï¼‰</li><li>å…·ä½“æ•´åˆçš„è§„åˆ™å¦‚ä¸‹ï¼š<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-3dc42017038302d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><blockquote><p>å»ºè®®é‡‡ç”¨ç¬¬ä¸‰ç§æ–¹å¼æ¥é…ç½®ï¼Œå¹¶å°½é‡ä½¿ç”¨åŒä¸€ç§è·¯å¾„å½¢å¼ã€‚</p></blockquote></li></ul><h4 id="b-HTTP"><a href="#b-HTTP" class="headerlink" title="b.@HTTP"></a>b.@HTTP</h4><ul><li>ä½œç”¨ï¼šæ›¿æ¢@GETã€@POSTã€@PUTã€@DELETEã€@HEADæ³¨è§£çš„ä½œç”¨ åŠ æ›´å¤šåŠŸèƒ½æ‹“å±•</li><li>å…·ä½“ä½¿ç”¨ï¼šé€šè¿‡å±æ€§ methodã€pathã€hasBodyè¿›è¡Œè®¾ç½®</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GetRequest_Interface</span> </span>&#123;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * methodï¼šç½‘ç»œè¯·æ±‚çš„æ–¹æ³•ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</div><div class="line">     * pathï¼šç½‘ç»œè¯·æ±‚åœ°å€è·¯å¾„</div><div class="line">     * hasBodyï¼šæ˜¯å¦æœ‰è¯·æ±‚ä½“</div><div class="line">     */</div><div class="line">    <span class="meta">@HTTP</span>(method = <span class="string">"GET"</span>, path = <span class="string">"blog/&#123;id&#125;"</span>, hasBody = <span class="keyword">false</span>)</div><div class="line">    <span class="function">Call&lt;ResponseBody&gt; <span class="title">getCall</span><span class="params">(@Path(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>;</div><div class="line">    <span class="comment">// &#123;id&#125; è¡¨ç¤ºæ˜¯ä¸€ä¸ªå˜é‡</span></div><div class="line">    <span class="comment">// method çš„å€¼ retrofit ä¸ä¼šåšå¤„ç†ï¼Œæ‰€ä»¥è¦è‡ªè¡Œä¿è¯å‡†ç¡®</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="ç¬¬äºŒç±»ï¼šæ ‡è®°"><a href="#ç¬¬äºŒç±»ï¼šæ ‡è®°" class="headerlink" title="ç¬¬äºŒç±»ï¼šæ ‡è®°"></a>ç¬¬äºŒç±»ï¼šæ ‡è®°</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-a6f1fc997c23a2e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h4 id="a-FormUrlEncoded"><a href="#a-FormUrlEncoded" class="headerlink" title="a.@FormUrlEncoded"></a>a.@FormUrlEncoded</h4><ul><li>ä½œç”¨ï¼šè¡¨ç¤ºå‘é€form-encoded çš„æ•°æ®<blockquote><p>æ¯ä¸ªé”®å€¼å¯¹éœ€è¦ç”¨ @Filed æ¥æ³¨è§£é”®åï¼Œéšåçš„å¯¹è±¡éœ€è¦æä¾›å€¼ã€‚</p></blockquote></li></ul><h4 id="b-Multipart"><a href="#b-Multipart" class="headerlink" title="b.@Multipart"></a>b.@Multipart</h4><ul><li>ä½œç”¨ï¼šè¡¨ç¤ºå‘é€form-encoded çš„æ•°æ®ï¼ˆé€‚ç”¨äº æœ‰æ–‡ä»¶ ä¸Šä¼ çš„åœºæ™¯ï¼‰<blockquote><p>æ¯ä¸ªé”®å€¼å¯¹éœ€è¦ç”¨ @Part æ¥æ³¨è§£é”®åï¼Œéšåçš„å¯¹è±¡éœ€è¦æä¾›å€¼ã€‚</p></blockquote></li></ul><p>å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š<br>_GetRequest<em>Interface</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GetRequest_Interface</span> </span>&#123;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         *è¡¨æ˜æ˜¯ä¸€ä¸ªè¡¨å•æ ¼å¼çš„è¯·æ±‚ï¼ˆContent-Type:application/x-www-form-urlencodedï¼‰</div><div class="line">         * &lt;code&gt;Field("username")&lt;/code&gt; è¡¨ç¤ºå°†åé¢çš„ &lt;code&gt;String name&lt;/code&gt; ä¸­nameçš„å–å€¼ä½œä¸º username çš„å€¼</div><div class="line">         */</div><div class="line">        <span class="meta">@POST</span>(<span class="string">"/form"</span>)</div><div class="line">        <span class="meta">@FormUrlEncoded</span></div><div class="line">        <span class="function">Call&lt;ResponseBody&gt; <span class="title">testFormUrlEncoded1</span><span class="params">(@Field(<span class="string">"username"</span>)</span> String name, @<span class="title">Field</span><span class="params">(<span class="string">"age"</span>)</span> <span class="keyword">int</span> age)</span>;</div><div class="line"></div><div class="line">        <span class="comment">/**</span></div><div class="line">         * &#123;<span class="doctag">@link</span> Part&#125; åé¢æ”¯æŒä¸‰ç§ç±»å‹ï¼Œ&#123;<span class="doctag">@link</span> RequestBody&#125;ã€&#123;<span class="doctag">@link</span> okhttp3.MultipartBody.Part&#125; ã€ä»»æ„ç±»å‹</div><div class="line">         * é™¤ &#123;<span class="doctag">@link</span> okhttp3.MultipartBody.Part&#125; ä»¥å¤–ï¼Œå…¶å®ƒç±»å‹éƒ½å¿…é¡»å¸¦ä¸Šè¡¨å•å­—æ®µ(&#123;<span class="doctag">@link</span> okhttp3.MultipartBody.Part&#125; ä¸­å·²ç»åŒ…å«äº†è¡¨å•å­—æ®µçš„ä¿¡æ¯)ï¼Œ</div><div class="line">         */</div><div class="line">        <span class="meta">@POST</span>(<span class="string">"/form"</span>)</div><div class="line">        <span class="meta">@Multipart</span></div><div class="line">        <span class="function">Call&lt;ResponseBody&gt; <span class="title">testFileUpload1</span><span class="params">(@Part(<span class="string">"name"</span>)</span> RequestBody name, @<span class="title">Part</span><span class="params">(<span class="string">"age"</span>)</span> RequestBody age, @Part MultipartBody.Part file)</span>;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å…·ä½“ä½¿ç”¨</span></div><div class="line">       GetRequest_Interface service = retrofit.create(GetRequest_Interface.class);</div><div class="line">        <span class="comment">// @FormUrlEncoded </span></div><div class="line">        Call&lt;ResponseBody&gt; call1 = service.testFormUrlEncoded1(<span class="string">"Carson"</span>, <span class="number">24</span>);</div><div class="line"></div><div class="line">        <span class="comment">//  @Multipart</span></div><div class="line">        RequestBody name = RequestBody.create(textType, <span class="string">"Carson"</span>);</div><div class="line">        RequestBody age = RequestBody.create(textType, <span class="string">"24"</span>);</div><div class="line"></div><div class="line">        MultipartBody.Part filePart = MultipartBody.Part.createFormData(<span class="string">"file"</span>, <span class="string">"test.txt"</span>, file);</div><div class="line">        Call&lt;ResponseBody&gt; call3 = service.testFileUpload1(name, age, filePart);</div></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰ç±»ï¼šç½‘ç»œè¯·æ±‚å‚æ•°"><a href="#ç¬¬ä¸‰ç±»ï¼šç½‘ç»œè¯·æ±‚å‚æ•°" class="headerlink" title="ç¬¬ä¸‰ç±»ï¼šç½‘ç»œè¯·æ±‚å‚æ•°"></a>ç¬¬ä¸‰ç±»ï¼šç½‘ç»œè¯·æ±‚å‚æ•°</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-c547f2344eef630b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><strong>è¯¦ç»†è¯´æ˜</strong></p><h4 id="a-Header-amp-Headers"><a href="#a-Header-amp-Headers" class="headerlink" title="a.@Header &amp; @Headers"></a>a.@Header &amp; @Headers</h4><ul><li>ä½œç”¨ï¼šæ·»åŠ è¯·æ±‚å¤´ &amp; æ·»åŠ ä¸å›ºå®šçš„è¯·æ±‚å¤´</li><li>å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @Header</span></div><div class="line"><span class="meta">@GET</span>(<span class="string">"user"</span>)</div><div class="line"><span class="function">Call&lt;User&gt; <span class="title">getUser</span><span class="params">(@Header(<span class="string">"Authorization"</span>)</span> String authorization)</span></div><div class="line"></div><div class="line"><span class="comment">// @Headers</span></div><div class="line">@<span class="title">Headers</span><span class="params">(<span class="string">"Authorization: authorization"</span>)</span></div><div class="line">@<span class="title">GET</span><span class="params">(<span class="string">"user"</span>)</span></div><div class="line">Call&lt;User&gt; <span class="title">getUser</span><span class="params">()</span></div><div class="line"></div><div class="line"><span class="comment">// ä»¥ä¸Šçš„æ•ˆæœæ˜¯ä¸€è‡´çš„ã€‚</span></div><div class="line"><span class="comment">// åŒºåˆ«åœ¨äºä½¿ç”¨åœºæ™¯å’Œä½¿ç”¨æ–¹å¼</span></div><div class="line"><span class="comment">// 1. ä½¿ç”¨åœºæ™¯ï¼š@Headerç”¨äºæ·»åŠ ä¸å›ºå®šçš„è¯·æ±‚å¤´ï¼Œ@Headersç”¨äºæ·»åŠ å›ºå®šçš„è¯·æ±‚å¤´</span></div><div class="line"><span class="comment">// 2. ä½¿ç”¨æ–¹å¼ï¼š@Headerä½œç”¨äºæ–¹æ³•çš„å‚æ•°ï¼›@Headersä½œç”¨äºæ–¹æ³•</span></div></pre></td></tr></table></figure></li></ul><h4 id="b-Body"><a href="#b-Body" class="headerlink" title="b.@Body"></a>b.@Body</h4><ul><li>ä½œç”¨ï¼šä»¥<code>post</code>æ–¹å¼ ä¼ é€’ è‡ªå®šä¹‰æ•°æ®ç±»å‹ç»™æœåŠ¡å™¨</li><li>ç‰¹åˆ«æ³¨æ„ï¼šå¦‚æœæäº¤çš„æ˜¯ä¸€ä¸ªMapï¼Œé‚£ä¹ˆä½œç”¨ç›¸å½“äº<code>@Field</code><blockquote><p>ä¸è¿‡ Map è¦ç»è¿‡<code>FormBody.Builder</code>ç±»å¤„ç†æˆä¸ºç¬¦åˆOkHttpæ ¼å¼çš„è¡¨å•ï¼Œå¦‚ï¼š</p></blockquote></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">FormBody.Builder builder = <span class="keyword">new</span> ForBody.Builder();</div><div class="line">builder.add(<span class="string">"key"</span>,<span class="string">"value"</span>);</div></pre></td></tr></table></figure><h4 id="c-Field-amp-FieldMap"><a href="#c-Field-amp-FieldMap" class="headerlink" title="c.@Field &amp; @FieldMap"></a>c.@Field &amp; @FieldMap</h4><ul><li>ä½œç”¨ï¼šå‘é€ Post è¯·æ±‚ æ—¶æäº¤è¯·æ±‚çš„è¡¨å•å­—æ®µ</li><li>å…·ä½“ä½¿ç”¨ï¼šä¸ @FormUrlEncoded æ³¨è§£é…åˆä½¿ç”¨<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GetRequest_Interface</span> </span>&#123;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         *è¡¨æ˜æ˜¯ä¸€ä¸ªè¡¨å•æ ¼å¼çš„è¯·æ±‚ï¼ˆContent-Type:application/x-www-form-urlencodedï¼‰</div><div class="line">         * &lt;code&gt;Field("username")&lt;/code&gt; è¡¨ç¤ºå°†åé¢çš„ &lt;code&gt;String name&lt;/code&gt; ä¸­nameçš„å–å€¼ä½œä¸º username çš„å€¼</div><div class="line">         */</div><div class="line">        <span class="meta">@POST</span>(<span class="string">"/form"</span>)</div><div class="line">        <span class="meta">@FormUrlEncoded</span></div><div class="line">        <span class="function">Call&lt;ResponseBody&gt; <span class="title">testFormUrlEncoded1</span><span class="params">(@Field(<span class="string">"username"</span>)</span> String name, @<span class="title">Field</span><span class="params">(<span class="string">"age"</span>)</span> <span class="keyword">int</span> age)</span>;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">         * Mapçš„keyä½œä¸ºè¡¨å•çš„é”®</div><div class="line">         */</div><div class="line">        <span class="meta">@POST</span>(<span class="string">"/form"</span>)</div><div class="line">        <span class="meta">@FormUrlEncoded</span></div><div class="line">        <span class="function">Call&lt;ResponseBody&gt; <span class="title">testFormUrlEncoded2</span><span class="params">(@FieldMap Map&lt;String, Object&gt; map)</span></span>;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å…·ä½“ä½¿ç”¨</span></div><div class="line">         <span class="comment">// @Field</span></div><div class="line">        Call&lt;ResponseBody&gt; call1 = service.testFormUrlEncoded1(<span class="string">"Carson"</span>, <span class="number">24</span>);</div><div class="line"></div><div class="line">        <span class="comment">// @FieldMap</span></div><div class="line">        <span class="comment">// å®ç°çš„æ•ˆæœä¸ä¸Šé¢ç›¸åŒï¼Œä½†è¦ä¼ å…¥Map</span></div><div class="line">        Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        map.put(<span class="string">"username"</span>, <span class="string">"Carson"</span>);</div><div class="line">        map.put(<span class="string">"age"</span>, <span class="number">24</span>);</div><div class="line">        Call&lt;ResponseBody&gt; call2 = service.testFormUrlEncoded2(map);</div></pre></td></tr></table></figure></li></ul><h4 id="d-Part-amp-PartMap"><a href="#d-Part-amp-PartMap" class="headerlink" title="d.@Part &amp; @PartMap"></a>d.@Part &amp; @PartMap</h4><h4 id="e-Query-amp-QueryMap"><a href="#e-Query-amp-QueryMap" class="headerlink" title="e.@Query &amp; @QueryMap"></a>e.@Query &amp; @QueryMap</h4><h4 id="f-Path"><a href="#f-Path" class="headerlink" title="f.@Path"></a>f.@Path</h4><h4 id="g-Url"><a href="#g-Url" class="headerlink" title="g.@Url"></a>g.@Url</h4><h3 id="æ±‡æ€»"><a href="#æ±‡æ€»" class="headerlink" title="æ±‡æ€»"></a>æ±‡æ€»</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://upload-images.jianshu.io/upload_images/944365-f9f8994497df7fd3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h2 id="æ­¥éª¤4ï¼šåˆ›å»º-Retrofit-å®ä¾‹"><a href="#æ­¥éª¤4ï¼šåˆ›å»º-Retrofit-å®ä¾‹" class="headerlink" title="æ­¥éª¤4ï¼šåˆ›å»º Retrofit å®ä¾‹"></a>æ­¥éª¤4ï¼šåˆ›å»º Retrofit å®ä¾‹</h2><h2 id="æ­¥éª¤5ï¼šåˆ›å»º-ç½‘ç»œè¯·æ±‚æ¥å£å®ä¾‹-å¹¶-é…ç½®ç½‘ç»œè¯·æ±‚å‚æ•°"><a href="#æ­¥éª¤5ï¼šåˆ›å»º-ç½‘ç»œè¯·æ±‚æ¥å£å®ä¾‹-å¹¶-é…ç½®ç½‘ç»œè¯·æ±‚å‚æ•°" class="headerlink" title="æ­¥éª¤5ï¼šåˆ›å»º ç½‘ç»œè¯·æ±‚æ¥å£å®ä¾‹ å¹¶ é…ç½®ç½‘ç»œè¯·æ±‚å‚æ•°"></a>æ­¥éª¤5ï¼šåˆ›å»º ç½‘ç»œè¯·æ±‚æ¥å£å®ä¾‹ å¹¶ é…ç½®ç½‘ç»œè¯·æ±‚å‚æ•°</h2><h2 id="æ­¥éª¤6ï¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼ˆå¼‚æ­¥-åŒæ­¥ï¼‰"><a href="#æ­¥éª¤6ï¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼ˆå¼‚æ­¥-åŒæ­¥ï¼‰" class="headerlink" title="æ­¥éª¤6ï¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼ˆå¼‚æ­¥\åŒæ­¥ï¼‰"></a>æ­¥éª¤6ï¼šå‘é€ç½‘ç»œè¯·æ±‚ï¼ˆå¼‚æ­¥\åŒæ­¥ï¼‰</h2><h2 id="æ­¥éª¤7ï¼šå¤„ç†æœåŠ¡å™¨è¿”å›çš„æ•°æ®"><a href="#æ­¥éª¤7ï¼šå¤„ç†æœåŠ¡å™¨è¿”å›çš„æ•°æ®" class="headerlink" title="æ­¥éª¤7ï¼šå¤„ç†æœåŠ¡å™¨è¿”å›çš„æ•°æ®"></a>æ­¥éª¤7ï¼šå¤„ç†æœåŠ¡å™¨è¿”å›çš„æ•°æ®</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;åœ¨&lt;strong&gt;Android&lt;/strong&gt;å¼€å‘ä¸­ï¼Œç½‘ç»œè¯·æ±‚ååˆ†å¸¸ç”¨&lt;/li&gt;
&lt;li&gt;å½“ä¸‹çš„ç½‘ç»œè¯·æ±‚åŠ è½½åº“ä¸­ï¼Œ&lt;stro
      
    
    </summary>
    
    
      <category term="Android" scheme="https://edward7zhang.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Androidç«¯å„ç±»å›¾ç‰‡åŠ è½½æ¡†æ¶å¯¹æ¯”</title>
    <link href="https://edward7zhang.github.io/2019/03/02/AndroidStudio%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B/"/>
    <id>https://edward7zhang.github.io/2019/03/02/AndroidStudioç¼–è¯‘è¿‡ç¨‹/</id>
    <published>2019-03-02T04:07:14.000Z</published>
    <updated>2019-03-04T05:18:44.446Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨æ­¤è®°å½•ä¸€ä¸‹AndroidStudioç¼–è¯‘è¿‡ç¨‹</p></blockquote><p>å…¶ä¸­ä½¿ç”¨åˆ°çš„ç¼–è¯‘å·¥å…·ï¼š<br>aaptã€aidlã€Java Compilerã€dexã€zipalign</p><p>ä¸»è¦æ­¥éª¤æè¿°ï¼š</p><pre><code>1.é€šè¿‡aaptæ‰“åŒ…resèµ„æºæ–‡ä»¶ï¼Œç”ŸæˆR.javaã€resource.arscå’Œresæ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶&amp;éäºŒè¿›åˆ¶å¦‚res/rawå’Œpicä¿æŒåŸæ ·ï¼‰2.å¤„ç†.aidlæ–‡ä»¶ï¼Œç”Ÿæˆå¯¹åº”çš„Javaæ¥å£æ–‡ä»¶3.é€šè¿‡Java Compilerç¼–è¯‘R.javaã€Javaæ¥å£æ–‡ä»¶ã€Javaæºæ–‡ä»¶ï¼Œç”Ÿæˆ.classæ–‡ä»¶4.é€šè¿‡dexå‘½ä»¤ï¼Œå°†.classæ–‡ä»¶å’Œç¬¬ä¸‰æ–¹åº“ä¸­çš„.classæ–‡ä»¶å¤„ç†ç”Ÿæˆclasses.dex5.é€šè¿‡apkbuilderå·¥å…·ï¼Œå°†aaptç”Ÿæˆçš„resource.arscå’Œresæ–‡ä»¶ã€assetsæ–‡ä»¶å’Œclasses.dexä¸€èµ·æ‰“åŒ…ç”Ÿæˆapk6.é€šè¿‡Jarsignerå·¥å…·ï¼Œå¯¹ä¸Šé¢çš„apkè¿›è¡Œdebugæˆ–releaseç­¾å7.é€šè¿‡zipalignå·¥å…·ï¼Œå°†ç­¾ååçš„apkè¿›è¡Œå¯¹é½å¤„ç†</code></pre><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload-images.jianshu.io/upload_images/1420866-79b675761018ff57.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/536/format/webp" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://upload-images.jianshu.io/upload_images/1420866-1402494a5225964e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/993/format/webp" alt="link" title="">                </div>                <div class="image-caption">link</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨æ­¤è®°å½•ä¸€ä¸‹AndroidStudioç¼–è¯‘è¿‡ç¨‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å…¶ä¸­ä½¿ç”¨åˆ°çš„ç¼–è¯‘å·¥å…·ï¼š&lt;br&gt;aaptã€aidlã€Java Compilerã€dexã€zipalign&lt;/p&gt;
&lt;p&gt;ä¸»è¦æ­¥éª¤æè¿°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;co
      
    
    </summary>
    
    
      <category term="Android" scheme="https://edward7zhang.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€é“ç®€å•çš„Javaé¢è¯•é¢˜ã€è½¬è½½è‡ª çŸ¥ä¹â€”â€”æ–¹å¿—å®ã€‘</title>
    <link href="https://edward7zhang.github.io/2019/03/01/%E8%AE%B0%E4%B8%80%E9%81%93%E7%AE%80%E5%8D%95%E7%9A%84Java%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>https://edward7zhang.github.io/2019/03/01/è®°ä¸€é“ç®€å•çš„Javaé¢è¯•é¢˜/</id>
    <published>2019-03-01T11:07:14.000Z</published>
    <updated>2019-03-01T08:35:17.911Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™å¯èƒ½æ˜¯å†å²ä¸Šæœ€ç®€å•çš„ä¸€é“javaé¢è¯•é¢˜äº†ã€‚</p><p>é¢˜ç›®å¾ˆç®€å•ï¼Œå®Œæˆä»£ç ï¼Œåˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å¥‡æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span></span></div></pre></td></tr></table></figure><p>ç›¸ä¿¡ç›¸å½“æ•°é‡çš„äººéƒ½å·²ç»åœ¨å‡†å¤‡åæ§½äº†ï¼Œåªè¦çœ‹è¿‡ã€Šç¼–ç¨‹ç ç‘ã€‹çš„äººéƒ½çŸ¥é“è¿™é“é¢˜çš„ç­”æ¡ˆå’Œå…¶ä¸­æä¸ºç®€å•çš„é“ç†ã€‚ä¸è¿‡åˆ«ç€æ€¥éª‚è¡—ï¼Œä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œè¿™é“ç¬”è¯•é¢˜æˆ‘æ‹¿åˆ°çš„ç­”æ¡ˆå¥½å¤šéƒ½é•¿è¿™æ ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">1</span>) &#123;</div><div class="line">        System.out.println(<span class="string">"æ˜¯å¥‡æ•°"</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        System.out.println(<span class="string">"æ˜¯å¶æ•°"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç„¶åç¼–è¯‘ä¸€ä¸‹ï¼Œå‘ç°é”™è¯¯äº†ï¼ŒæŒ æŒ å¤´ï¼Œé¡¶å¤šæ”¹æˆè¿™æ ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¥½å§ï¼Œæˆ‘æ‰¿è®¤æˆ‘åœ¨ç­›é€‰ç®€å†çš„èƒ½åŠ›å¯èƒ½æœ‰ä¸€äº›é—®é¢˜ï¼Œä¸è¿‡ä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œå¥½å¤šå¤§å‚å·¥ä½œäº†å‡ å¹´çš„ç¨‹åºå‘˜ï¼Œéƒ½ä¼šå†™å‡ºå¦‚ä¸Šé£æ ¼çš„ä»£ç ã€‚</p><p>äºæ˜¯æˆ‘ç»§ç»­è¿›è¡Œå¼•å¯¼ï¼š</p><p>æˆ‘ï¼šâ€œè¿™ä¸ªå‡½æ•°çš„å®šä¹‰è¦æ±‚è¿”å›ä¸€ä¸ªä»€ä¹ˆç±»å‹çš„å€¼ï¼Ÿâ€</p><p>å€™é€‰äººçœ‹äº†çœ‹é¢˜å¹²ï¼šâ€œå¸ƒå°”ç±»å‹ã€‚â€</p><p>æˆ‘ï¼šâ€œé‚£ä¹ˆï¼Œä½ ifåé¢çš„æ‹¬å·é‡Œé¢çš„è¡¨è¾¾å¼çš„å€¼æ˜¯ä¸€ä¸ªä»€ä¹ˆç±»å‹çš„ï¼Ÿâ€</p><p>å¼•å¯¼åˆ°è¿™ä¸€æ­¥çš„æ—¶å€™ï¼Œä¾ç„¶æœ‰é«˜è¾¾ä¸¤æˆçš„å€™é€‰äººé€‰æ‹©äº†æ”¾å¼ƒï¼Œè¡¨ç¤ºä»–ä»¬ä¸çŸ¥é“ã€‚å¥½å§ï¼Œæˆ‘çœŸçš„ä¸çŸ¥é“ä½ ä»¬æ¥é¢è¯•è¿™ä¸ªèŒä½çš„ä¿¡å¿ƒä½•åœ¨ã€‚ä¸è¿‡å¤§éƒ¨åˆ†äººæƒ³äº†æƒ³ï¼Œè¿˜ä¼šå›ç­”å‡ºæ­£ç¡®ç­”æ¡ˆï¼š</p><p>å€™é€‰äººï¼šâ€œä¹Ÿæ˜¯å¸ƒå°”ç±»å‹ã€‚â€</p><p>æˆ‘ï¼šâ€œç„¶åå‘¢ï¼Ÿâ€</p><p>æœ‰å°‘é‡å€™é€‰äººè™½ç„¶æ²¡è¯´å‡ºæ¥ï¼Œä½†æ˜¯æˆ‘èƒ½çœ‹å‡ºæ¥ä»–ä»¬è§‰å¾—è¿™åªæ˜¯ä¸€ä¸ªå·§åˆï¼Œå¹¶ä¸çŸ¥é“æ€ä¹ˆè¿›è¡Œä¸‹ä¸€æ­¥ã€‚ä¸è¿‡ï¼Œå¤§å¤šæ•°äººæƒ³äº†æƒ³ä¹‹åï¼Œè¿˜æ˜¯ä¼šä¼˜åŒ–æˆå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> i % <span class="number">2</span> == <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç»ˆäºè¿‡äº†ç¬¬ä¸€å…³äº†ï¼Œè¿›è¡Œç¬¬äºŒå…³çš„å¼•å¯¼ï¼š</p><p>æˆ‘ï¼šâ€œé‚£æˆ‘ä¼ è¿›æ¥ä¸€ä¸ª-1å‘¢ï¼Ÿâ€</p><p>å°†è¿‘ä¸€åŠçš„äººåœ¨æƒ³äº†æƒ³ä¹‹åä¼šå˜´ç¡¬åœ°è¡¨ç¤ºä»–ä»¬ä»å°è¢«æ•™å¯¼åªæœ‰è‡ªç„¶æ•°æ‰æœ‰å¥‡æ•°å¶æ•°ä¹‹åˆ†ï¼Œè´Ÿæ•°æ²¡æœ‰å¥‡å¶è¿™ä¸€è¯´ã€‚å‰©ä½™çš„äººæ¥å—äº†è¿™ä¸ªè®¾å®šï¼Œæƒ³äº†ä¸€ä¼šå„¿ï¼Œæ”¹æˆè¿™æ ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> i % <span class="number">2</span> == <span class="number">1</span> || i % <span class="number">2</span> == -<span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¹¶ä¸”åœ¨æç¤ºä¹‹åä¼˜åŒ–æˆè¿™æ ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> i % <span class="number">2</span> != <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¥½å§ï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢ç¬¬ä¸€ä¸ªèƒ½é€šè¿‡ç¼–è¯‘ä¸”å®Œå…¨æ»¡è¶³äº†éœ€æ±‚çš„ä»£ç å®ç°äº†ã€‚è¯´å®è¯ï¼Œä¸€å¼€å§‹å°±å†™æˆè¿™æ ·çš„äººï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–ä»€ä¹ˆæ˜æ˜¾çš„ç¼ºç‚¹çš„è¯ï¼Œæˆ‘è¿™é‡ŒåŸºæœ¬å°±èƒ½é€šè¿‡äº†ã€‚æˆ‘æ‰¿è®¤æˆ‘çš„è¦æ±‚æ¯”è¾ƒä½ï¼Œä½†æ˜¯æ¥é¢è¯•çš„äººèƒ½ç›´æ¥å†™å‡ºè¿™æ ·çš„çœŸçš„ä¸å¤ªå¤šï¼Œç²—ç•¥åœ°ä¼°è®¡çš„è¯ï¼Œå¤§æ¦‚å ä¸€åˆ°ä¸¤æˆå§ã€‚</p><p>ä½†æ˜¯è¿™é‡Œè¿˜æ²¡å®Œå‘¢ï¼Œè¿˜æœ‰æœ€é‡è¦çš„ç¬¬ä¸‰å…³å‘¢ï¼š</p><p>æˆ‘ï¼šâ€œæœ‰æ›´å¥½çš„åŠæ³•å—ï¼Ÿâ€</p><p>å€™é€‰äººï¼šâ€œï¼Ÿâ€</p><p>æˆ‘ï¼šâ€œæˆ‘è§‰å¾—å–æ¨¡æ“ä½œæ¯”è¾ƒæ…¢ï¼Œæœ‰æ›´å¿«çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿâ€</p><p>é™¤äº†å°‘æ•°äººèƒ½è‡ªå·±æƒ³æƒ³å°±æƒ³å‡ºæ¥äº†ä¹‹å¤–ï¼Œç»å¤§éƒ¨åˆ†ï¼ˆæ¯«ä¸å¤¸å¼ ï¼‰å€™é€‰äººè¡¨ç¤ºæ²¡æœ‰æˆ–è€…ä¸çŸ¥é“ï¼Œäºæ˜¯è¿›è¡Œä¸‹ä¸€æ­¥æç¤ºï¼š</p><p>æˆ‘ï¼šâ€œå¥‡æ•°å’Œå¶æ•°è½¬æ¢æˆäºŒè¿›åˆ¶æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿâ€</p><p>ç›¸å½“ä¸€éƒ¨åˆ†å€™é€‰äººè¡¨ç¤ºè‡ªå·±ä¸æ‡‚ä»€ä¹ˆå«äºŒè¿›åˆ¶å’Œä½è¿ç®—ï¼Œæœ‰çš„è¿˜è¡¨ç¤ºjavaä¸æ˜¯cè¯­è¨€ï¼Œä¸ç”¨ç ”ç©¶è¿™äº›ï¼Œå°±è·Ÿå¾ˆå¤šè¯„è®ºä¼šåæ§½æˆ‘åœ¨è£…é€¼ä¸€æ ·ã€‚å°‘éƒ¨åˆ†å€™é€‰äººæƒ³äº†æƒ³ï¼Œä¼šæ€¯æ€¯åœ°å›ç­”ã€‚</p><p>å€™é€‰äººï¼šâ€œå¥‡æ•°æœ€åä¸€ä½æ˜¯1ï¼Œå¶æ•°æœ€åä¸€ä½æ˜¯0ã€‚â€</p><p>æˆ‘ï¼šâ€œç„¶åå‘¢ï¼Ÿâ€</p><p>è¿™é‡Œå¾ˆå¥‡æ€ªçš„ç‚¹æ˜¯ï¼Œå¤§éƒ¨åˆ†èƒ½èŠåˆ°è¿™é‡Œæ¥çš„å€™é€‰äººä¼šæƒ³èµ·æ¥ç§»ä½æ“ä½œï¼Œæˆ‘çœŸçš„ä¸çŸ¥é“æ˜¯ä¸ºä»€ä¹ˆï¼Œè™½ç„¶è¿™é“é¢˜ç¡®å®å¯ä»¥æœ‰è¿™ç§æ“ä½œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> i &gt;&gt; <span class="number">1</span> &lt;&lt; <span class="number">1</span> != i;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ¹æœ¬ä¸æ˜¯é‡ç‚¹å¥½å§ï¼ï¼ï¼</p><p>æ€»ä¹‹ï¼Œæ— è®ºå¦‚ä½•ï¼Œèƒ½åœ¨ç¬¬ä¸‰å…³çš„å„ç§å¼•å¯¼ä¹‹åï¼Œèƒ½å†™å‡ºä¸‹é¢è¿™ä¸ªç»“æœæ¥çš„äººï¼ŒçœŸçš„ä¸å¤šã€‚èƒ½ä¸€å¼€å§‹æ²¡æœ‰ä»»ä½•å¼•å¯¼çš„å°±å†™å‡ºæ¥çš„äººï¼Œè‡³ä»Šåªè§è¿‡ä¸¤ä¸ªï¼Œä¸€ä¸ªæˆ‘å»å“ªå„¿éƒ½å¸¦ç€ï¼Œä¸€ä¸ªæ‹’äº†æˆ‘çš„offerã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOdd</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> (i &amp; <span class="number">1</span>) == <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åˆ«ä»¥ä¸ºè¿™å°±å®Œäº†ï¼ç»ˆæbossæ¥äº†ï¼š</p><p>æˆ‘ï¼šâ€œè¿™æ ·æ˜¯ä¸æ˜¯æ¯”ä¸Šé¢å–æ¨¡è¿ç®—è¦å¿«ï¼Ÿâ€</p><p>å€™é€‰äººï¼šâ€œé‚£å½“ç„¶äº†ï¼Œä½è¿ç®—è‚¯å®šå¿«å•Šã€‚â€</p><p>æˆ‘ï¼šâ€œä½†æ˜¯æˆ‘ä»¬å®é™…ä»£ç æµ‹è¯•è¿‡ï¼Œå‘ç°ä¸Šé¢çš„æŒ‰ä½ä¸æ“ä½œå’Œå–æ¨¡æ“ä½œï¼Œå®é™…è¿è¡Œçš„æ—¶é—´æ˜¯å·®ä¸å¤šçš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿâ€</p><p>å€™é€‰äººå¿ƒé‡Œmmpï¼šâ€œé—¹äº†åŠå¤©ä½ è¿™æ˜¯åœ¨é€—æˆ‘ç©å•Šï¼Ÿï¼Ÿï¼Ÿâ€</p><p>ç„¶è€ŒçœŸæ­£èƒ½å›ç­”å‡ºåŸå› æ¥çš„äººï¼Œé¢è¯•è¿‡ç¨‹ä¸­æˆ‘æ²¡è§è¿‡ï¼Œå¯èƒ½æ˜¯å¤§ç‰›éƒ½çœ‹ä¸ä¸Šæˆ‘æ‰€åœ¨çš„å…¬å¸å§ã€‚åªæœ‰åœ¨æŸå…¬å¸çš„æ—¶å€™ï¼Œä¸€ä¸ªåŒäº‹æƒ³äº†æƒ³ï¼Œç»™å‡ºäº†æˆ‘æ­£ç¡®ç­”æ¡ˆï¼šâ€œç¼–è¯‘å™¨ä¼šå°†å¯¹2çš„æŒ‡æ•°çš„å–æ¨¡æ“ä½œï¼Œä¼˜åŒ–æˆä½è¿ç®—æ“ä½œã€‚â€</p><p>éš¾é“æ˜¯æˆ‘ç»å†çš„å…¬å¸éƒ½å¤ªlowäº†ä¹ˆâ€¦â€¦</p><p>ä½œè€…ï¼šæ–¹å¿—å®<br>é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/57859872" target="_blank" rel="external">https://zhuanlan.zhihu.com/p/57859872</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™å¯èƒ½æ˜¯å†å²ä¸Šæœ€ç®€å•çš„ä¸€é“javaé¢è¯•é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¢˜ç›®å¾ˆç®€å•ï¼Œå®Œæˆä»£ç ï¼Œåˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å¥‡æ•°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;l
      
    
    </summary>
    
    
      <category term="Java" scheme="https://edward7zhang.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>ByteDanceã€ä¸€é¢æ€»ç»“ã€‘</title>
    <link href="https://edward7zhang.github.io/2019/02/18/ByteDance%E3%80%90%E4%B8%80%E9%9D%A2%E6%80%BB%E7%BB%93%E3%80%91/"/>
    <id>https://edward7zhang.github.io/2019/02/18/ByteDanceã€ä¸€é¢æ€»ç»“ã€‘/</id>
    <published>2019-02-18T11:07:14.000Z</published>
    <updated>2019-03-02T14:28:47.932Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§æ¦‚åœ¨æ•°å¤©å‰æŠ•é€’äº†å­—èŠ‚è·³åŠ¨-æŠ–éŸ³æ–¹å‘çš„å®ä¹ ç”Ÿå²—ä½<br>æ˜¨å¤©æ¥åˆ°äº†é¢è¯•é€šçŸ¥ï¼Œä»Šå¤©é¢è¯•åå¯¹æ¶‰åŠåˆ°çš„é—®é¢˜è¿›è¡Œä¸€ä¸ªå¤ç›˜ã€‚ï¼ˆå­—èŠ‚è·³åŠ¨æœç„¶åä¸è™šä¼ â€¦é¢è¯•å®˜ç›¸å½“äº²åˆ‡ä¸”å–„äºå¾ªå¾ªå–„è¯±æ¥å¼•å¯¼æˆ‘å›ç­”é—®é¢˜ï¼‰</p><h2 id="1-Javaä¸­çš„å¼•ç”¨ç±»å‹æœ‰æ²¡æœ‰ä»€ä¹ˆäº†è§£ï¼Ÿ"><a href="#1-Javaä¸­çš„å¼•ç”¨ç±»å‹æœ‰æ²¡æœ‰ä»€ä¹ˆäº†è§£ï¼Ÿ" class="headerlink" title="1.Javaä¸­çš„å¼•ç”¨ç±»å‹æœ‰æ²¡æœ‰ä»€ä¹ˆäº†è§£ï¼Ÿ"></a>1.Javaä¸­çš„å¼•ç”¨ç±»å‹æœ‰æ²¡æœ‰ä»€ä¹ˆäº†è§£ï¼Ÿ</h2><p>Java.lang.refæ˜¯Javaç±»åº“ä¸­æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ä¸ªåŒ…ï¼Œå®ƒæä¾›äº†ä¸Javaåƒåœ¾å›æ”¶å™¨å¯†åˆ‡ç›¸å…³çš„å¼•ç”¨ç±»ã€‚</p><pre><code>StrongReferenceï¼ˆå¼ºå¼•ç”¨ï¼‰SoftReferenceï¼ˆè½¯å¼•ç”¨ï¼‰WeakReferenceï¼ˆå¼±å¼•ç”¨ï¼‰PhantomReferenceï¼ˆè™šå¼•ç”¨ï¼‰</code></pre><h3 id="å¼•ç”¨ç±»å‹å¯¹æ¯”"><a href="#å¼•ç”¨ç±»å‹å¯¹æ¯”" class="headerlink" title="å¼•ç”¨ç±»å‹å¯¹æ¯”"></a>å¼•ç”¨ç±»å‹å¯¹æ¯”</h3><table><thead><tr><th>åºå·</th><th>å¼•ç”¨ç±»å‹</th><th>å–å¾—ç›®æ ‡å¯¹è±¡æ–¹å¼</th><th>åƒåœ¾å›æ”¶æ¡ä»¶</th><th>æ˜¯å¦å¯èƒ½å†…å­˜æ³„æ¼</th></tr></thead><tbody><tr><td>1</td><td>å¼ºå¼•ç”¨</td><td>ç›´æ¥è°ƒç”¨</td><td>ä¸å›æ”¶</td><td>å¯èƒ½</td></tr><tr><td>2</td><td>è½¯å¼•ç”¨</td><td>é€šè¿‡ get()æ–¹æ³•</td><td>è§†å†…å­˜æƒ…å†µå›æ”¶</td><td>ä¸å¯èƒ½</td></tr><tr><td>3</td><td>å¼±å¼•ç”¨</td><td>é€šè¿‡ get()æ–¹æ³•</td><td>æ°¸è¿œå›æ”¶</td><td>ä¸å¯èƒ½</td></tr><tr><td>4</td><td>è™šå¼•ç”¨</td><td>æ— æ³•å–å¾—</td><td>ä¸å›æ”¶</td><td>å¯èƒ½</td></tr></tbody></table><h4 id="1-StrongReferenceï¼ˆå¼ºå¼•ç”¨ï¼‰"><a href="#1-StrongReferenceï¼ˆå¼ºå¼•ç”¨ï¼‰" class="headerlink" title="1.StrongReferenceï¼ˆå¼ºå¼•ç”¨ï¼‰"></a>1.StrongReferenceï¼ˆå¼ºå¼•ç”¨ï¼‰</h4><p>å¦‚æœä¸€ä¸ªå¯¹è±¡å…·æœ‰å¼ºå¼•ç”¨ï¼Œé‚£åƒåœ¾å›æ”¶å™¨ç»ä¸ä¼šå›æ”¶å®ƒã€‚å½“å†…å­˜ç©ºé—´ä¸è¶³ï¼ŒJavaè™šæ‹Ÿæœºå®æ„¿æŠ›å‡ºOutOfMemoryErroré”™è¯¯ï¼Œä½¿ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ï¼Œä¹Ÿä¸ä¼šé éšæ„å›æ”¶å…·æœ‰å¼ºå¼•ç”¨çš„å¯¹è±¡æ¥è§£å†³å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;;</div></pre></td></tr></table></figure><h4 id="2-SoftReferenceï¼ˆè½¯å¼•ç”¨ï¼‰"><a href="#2-SoftReferenceï¼ˆè½¯å¼•ç”¨ï¼‰" class="headerlink" title="2.SoftReferenceï¼ˆè½¯å¼•ç”¨ï¼‰"></a>2.SoftReferenceï¼ˆè½¯å¼•ç”¨ï¼‰</h4><p>å¦‚æœä¸€ä¸ªå¯¹è±¡åªå…·æœ‰è½¯å¼•ç”¨ï¼Œå¦‚æœå†…å­˜ç©ºé—´è¶³å¤Ÿï¼Œåƒåœ¾å›æ”¶å™¨å°±ä¸ä¼šå›æ”¶å®ƒï¼›å¦‚æœå†…å­˜ç©ºé—´ä¸è¶³ï¼Œå°±ä¼šå›æ”¶è¿™äº›å¯¹è±¡çš„å†…å­˜ã€‚åªè¦åƒåœ¾å›æ”¶å™¨æ²¡æœ‰å›æ”¶å®ƒï¼Œè¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨‹åºä½¿ç”¨ã€‚è½¯å¼•ç”¨å¯ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚<br>è½¯å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æœè½¯å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªè½¯å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚</p><p><strong>ç¤ºä¾‹</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Example1</span></div><div class="line">SoftReference&lt;String[]&gt; softBean = <span class="keyword">new</span> SoftReference&lt;String[]&gt;(<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>&#125;);</div><div class="line"></div><div class="line"><span class="comment">//Example2</span></div><div class="line">ReferenceQueue&lt;String[]&gt; referenceQueue = <span class="keyword">new</span> ReferenceQueue&lt;String[]&gt;();</div><div class="line">SoftReference&lt;String[]&gt; softBean = <span class="keyword">new</span> SoftReference&lt;String[]&gt;(<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>&#125;, referenceQueue);</div></pre></td></tr></table></figure></p><h4 id="3-WeakReferenceï¼ˆå¼±å¼•ç”¨ï¼‰"><a href="#3-WeakReferenceï¼ˆå¼±å¼•ç”¨ï¼‰" class="headerlink" title="3.WeakReferenceï¼ˆå¼±å¼•ç”¨ï¼‰"></a>3.WeakReferenceï¼ˆå¼±å¼•ç”¨ï¼‰</h4><p>å¼±å¼•ç”¨ä¸è½¯å¼•ç”¨çš„åŒºåˆ«åœ¨äºï¼šåªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åƒåœ¾å›æ”¶å™¨çº¿ç¨‹æ‰«æå®ƒæ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘ç°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸å¦ï¼Œéƒ½ä¼šå›æ”¶å®ƒçš„å†…å­˜ã€‚ä¸è¿‡ï¼Œç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„çº¿ç¨‹ï¼Œå› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘ç°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ã€‚<br>â€‚â€‚â€‚â€‚å¼±å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æœå¼±å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªå¼±å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚<br>â€‚â€‚â€‚â€‚<br><strong>ç¤ºä¾‹</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Example1</span></div><div class="line">WeakReference&lt;String[]&gt; weakBean = <span class="keyword">new</span> WeakReference&lt;String[]&gt;(<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>&#125;);</div><div class="line"><span class="comment">//Example2</span></div><div class="line">ReferenceQueue&lt;String[]&gt; referenceQueue = <span class="keyword">new</span> ReferenceQueue&lt;String[]&gt;();</div><div class="line">WeakReference&lt;String[]&gt; softBean = <span class="keyword">new</span> WeakReference&lt;String[]&gt;(<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>&#125;, referenceQueue);</div></pre></td></tr></table></figure></p><h4 id="4-PhantomReferenceï¼ˆè™šå¼•ç”¨ï¼‰"><a href="#4-PhantomReferenceï¼ˆè™šå¼•ç”¨ï¼‰" class="headerlink" title="4.PhantomReferenceï¼ˆè™šå¼•ç”¨ï¼‰"></a>4.PhantomReferenceï¼ˆè™šå¼•ç”¨ï¼‰</h4><p>â€œè™šå¼•ç”¨â€é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å½¢åŒè™šè®¾ï¼Œä¸å…¶ä»–å‡ ç§å¼•ç”¨éƒ½ä¸åŒï¼Œè™šå¼•ç”¨å¹¶ä¸ä¼šå†³å®šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä»…æŒæœ‰è™šå¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±å’Œæ²¡æœ‰ä»»ä½•å¼•ç”¨ä¸€æ ·ï¼Œåœ¨ä»»ä½•æ—¶å€™éƒ½å¯èƒ½è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚<br>è™šå¼•ç”¨ä¸»è¦ç”¨æ¥è·Ÿè¸ªå¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶çš„æ´»åŠ¨ã€‚è™šå¼•ç”¨ä¸è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºï¼šè™šå¼•ç”¨å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ã€‚å½“åƒåœ¾å›æ”¶å™¨å‡†å¤‡æ”¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æœå‘ç°å®ƒè¿˜æœ‰è™šå¼•ç”¨ï¼Œå°±ä¼šåœ¨å›æ”¶å¯¹è±¡çš„å†…å­˜ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªè™šå¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚</p><p><strong>ç¤ºä¾‹</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ReferenceQueue&lt;String[]&gt; referenceQueue = <span class="keyword">new</span> ReferenceQueue&lt;String[]&gt;();</div><div class="line">PhantomReference&lt;String[]&gt; referent = <span class="keyword">new</span> PhantomReference&lt;String&gt;(<span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>&#125;, referenceQueue);</div></pre></td></tr></table></figure></p><h2 id="2-Javaä¸­åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›"><a href="#2-Javaä¸­åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›" class="headerlink" title="2.Javaä¸­åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›"></a>2.Javaä¸­åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›</h2><h3 id="1-ç»§æ‰¿Threadç±»åˆ›å»ºçº¿ç¨‹ç±»"><a href="#1-ç»§æ‰¿Threadç±»åˆ›å»ºçº¿ç¨‹ç±»" class="headerlink" title="1.ç»§æ‰¿Threadç±»åˆ›å»ºçº¿ç¨‹ç±»"></a>1.ç»§æ‰¿Threadç±»åˆ›å»ºçº¿ç¨‹ç±»</h3><pre><code>(1) å®šä¹‰Threadç±»çš„å­ç±»ï¼Œå¹¶é‡å†™è¯¥ç±»çš„runæ–¹æ³•ï¼Œè¯¥runæ–¹æ³•çš„æ–¹æ³•ä½“å°±ä»£è¡¨äº†çº¿ç¨‹è¦å®Œæˆçš„ä»»åŠ¡ã€‚å› æ­¤æŠŠrun()æ–¹æ³•ç§°ä¸ºæ‰§è¡Œä½“ã€‚(2) åˆ›å»ºThreadå­ç±»çš„å®ä¾‹ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡ã€‚(3) è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•æ¥å¯ç”¨è¯¥çº¿ç¨‹ã€‚</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span>  <span class="title">FirstThreadTest</span>  <span class="keyword">extends</span>  <span class="title">Thread</span> </span>&#123;</div><div class="line"><span class="keyword">int</span>  i  =  <span class="number">0</span>; <span class="comment">//é‡å†™runæ–¹æ³•ï¼Œrunæ–¹æ³•çš„æ–¹æ³•ä½“å°±æ˜¯ç°åœºæ‰§è¡Œä½“</span></div><div class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">void</span>  <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="keyword">for</span> (; i &lt;  <span class="number">100</span>; i++) &#123;</div><div class="line">System.out.println(getName() +  <span class="string">" "</span>  + i);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">static</span>  <span class="keyword">void</span>  <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span>  i  =  <span class="number">0</span>; i &lt;  <span class="number">100</span>; i++) &#123;</div><div class="line">System.out.println(Thread.currentThread().getName() +  <span class="string">" : "</span>  + i);</div><div class="line"><span class="keyword">if</span> (i ==  <span class="number">20</span>) &#123;</div><div class="line"><span class="keyword">new</span>  FirstThreadTest().start();</div><div class="line"><span class="keyword">new</span>  FirstThreadTest().start();</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­Thread.currentThread()æ–¹æ³•è¿”å›å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ã€‚GetName() æ–¹æ³•è¿”å›è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹çš„åå­—ã€‚</p><h3 id="2-é€šè¿‡Runnableæ¥å£åˆ›å»ºçº¿ç¨‹ç±»"><a href="#2-é€šè¿‡Runnableæ¥å£åˆ›å»ºçº¿ç¨‹ç±»" class="headerlink" title="2.é€šè¿‡Runnableæ¥å£åˆ›å»ºçº¿ç¨‹ç±»"></a>2.é€šè¿‡Runnableæ¥å£åˆ›å»ºçº¿ç¨‹ç±»</h3><pre><code>ï¼ˆ1ï¼‰å®šä¹‰runnableæ¥å£çš„å®ç°ç±»ï¼Œå¹¶é‡å†™è¯¥æ¥å£çš„run()æ–¹æ³•ï¼Œè¯¥run()æ–¹æ³•çš„æ–¹æ³• ä½“åŒæ ·æ˜¯è¯¥çº¿ç¨‹çš„çº¿ç¨‹æ‰§è¡Œä½“ã€‚ï¼ˆ2ï¼‰åˆ›å»º Runnableå®ç°ç±»çš„å®ä¾‹ï¼Œå¹¶ä¾æ­¤å®ä¾‹ä½œä¸ºThreadçš„targetæ¥åˆ›å»ºThread å¯¹è±¡ï¼Œè¯¥Threadå¯¹è±¡æ‰æ˜¯çœŸæ­£çš„çº¿ç¨‹å¯¹è±¡ã€‚ï¼ˆ3ï¼‰è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚</code></pre><h3 id="3-é€šè¿‡Callableå’ŒFutureåˆ›å»ºçº¿ç¨‹"><a href="#3-é€šè¿‡Callableå’ŒFutureåˆ›å»ºçº¿ç¨‹" class="headerlink" title="3.é€šè¿‡Callableå’ŒFutureåˆ›å»ºçº¿ç¨‹"></a>3.é€šè¿‡Callableå’ŒFutureåˆ›å»ºçº¿ç¨‹</h3><pre><code>ï¼ˆ1ï¼‰åˆ›å»ºCallableæ¥å£çš„å®ç°ç±»ï¼Œå¹¶å®ç°call()æ–¹æ³•ï¼Œè¯¥call()æ–¹æ³•å°†ä½œä¸ºçº¿ç¨‹æ‰§è¡Œ ä½“ï¼Œå¹¶ä¸”æœ‰è¿”å›å€¼ã€‚ï¼ˆ2ï¼‰åˆ›å»ºCallableå®ç°ç±»çš„å®ä¾‹ï¼Œä½¿ç”¨FutureTaskç±»æ¥åŒ…è£…Callableå¯¹è±¡ï¼Œè¯¥ FutureTaskå¯¹è±¡å°è£…äº†è¯¥Callableå¯¹è±¡çš„call()æ–¹æ³•çš„è¿”å›å€¼ã€‚ï¼ˆ3ï¼‰ä½¿ç”¨FutureTaskå¯¹è±¡ä½œä¸ºThreadå¯¹è±¡çš„targetåˆ›å»ºå¹¶å¯åŠ¨æ–°çº¿ç¨‹ã€‚ï¼ˆ4ï¼‰è°ƒç”¨FutureTaskå¯¹è±¡çš„get()æ–¹æ³•æ¥è·å¾—å­çº¿ç¨‹æ‰§è¡Œç»“æŸåçš„è¿”å›å€¼ï¼Œè°ƒç”¨ get()æ–¹æ³•ä¼šé˜»å¡çº¿ç¨‹ã€‚</code></pre><h3 id="åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼çš„å¯¹æ¯”"><a href="#åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼çš„å¯¹æ¯”" class="headerlink" title="åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼çš„å¯¹æ¯”"></a>åˆ›å»ºçº¿ç¨‹çš„ä¸‰ç§æ–¹å¼çš„å¯¹æ¯”</h3><p>é‡‡ç”¨å®ç°Runnableã€Callableæ¥å£çš„æ–¹å¼åˆ›è§å¤šçº¿ç¨‹æ—¶ï¼Œä¼˜åŠ¿æ˜¯ï¼š çº¿ç¨‹ç±»åªæ˜¯å®ç°äº†Runnableæ¥å£æˆ–Callableæ¥å£ï¼Œè¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ã€‚ åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªtargetå¯¹è±¡ï¼Œæ‰€ä»¥éå¸¸é€‚åˆå¤šä¸ªç›¸åŒçº¿ç¨‹ æ¥å¤„ç†åŒä¸€ä»½èµ„æºçš„æƒ…å†µï¼Œä»è€Œå¯ä»¥å°†CPUã€ä»£ç å’Œæ•°æ®åˆ†å¼€ï¼Œå½¢æˆæ¸…æ™°çš„æ¨¡å‹ï¼Œ è¾ƒå¥½åœ°ä½“ç°äº†é¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚ åŠ£åŠ¿æ˜¯ï¼š ç¼–ç¨‹ç¨å¾®å¤æ‚ï¼Œå¦‚æœè¦è®¿é—®å½“å‰çº¿ç¨‹ï¼Œåˆ™å¿…é¡»ä½¿ç”¨Thread.currentThread()æ–¹æ³•ã€‚ ä½¿ç”¨ç»§æ‰¿Threadç±»çš„æ–¹å¼åˆ›å»ºå¤šçº¿ç¨‹æ—¶ä¼˜åŠ¿æ˜¯ï¼š ç¼–å†™ç®€å•ï¼Œå¦‚æœéœ€è¦è®¿é—®å½“å‰çº¿ç¨‹ï¼Œåˆ™æ— éœ€ä½¿ç”¨Thread.currentThread()æ–¹æ³•ï¼Œç›´æ¥ ä½¿ç”¨thiså³å¯è·å¾—å½“å‰çº¿ç¨‹ã€‚ åŠ£åŠ¿æ˜¯ï¼š çº¿ç¨‹ç±»å·²ç»ç»§æ‰¿äº†Threadç±»ï¼Œæ‰€ä»¥ä¸èƒ½å†ç»§æ‰¿å…¶ä»–çˆ¶ç±»ã€‚</p><h2 id="3-Objectç±»å¯¹è±¡å«æœ‰çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ"><a href="#3-Objectç±»å¯¹è±¡å«æœ‰çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="3.Objectç±»å¯¹è±¡å«æœ‰çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ"></a>3.Objectç±»å¯¹è±¡å«æœ‰çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h2><p>Javaä¸­çš„Objectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œå®ƒæä¾›äº†ä»¥ä¸‹11ä¸ªæ–¹æ³•ï¼š</p><pre><code>1.public final native Class&lt;?&gt;getClass()2.public native int hashCode()3.public boolean equals(Object obj)4.protected native Object clone() throws CloneNotSupportedException5.public String toString()6.public final native void notify()7.public final native void notifyAll()8.public final native void wait(long timeout) throws InterruptedException9.public final void wait(long timeout,int nanos)throws InterruptedException10.public final void wait() throws InterruptedException11.protected void finalize() throws Throwable{}</code></pre><h2 id="4-Androidä¸­çš„è¿›ç¨‹é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿå…·ä½“è¯´è¯´Binder"><a href="#4-Androidä¸­çš„è¿›ç¨‹é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿå…·ä½“è¯´è¯´Binder" class="headerlink" title="4.Androidä¸­çš„è¿›ç¨‹é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿå…·ä½“è¯´è¯´Binder"></a>4.Androidä¸­çš„è¿›ç¨‹é—´é€šä¿¡æœ‰å“ªäº›æ–¹å¼ï¼Ÿå…·ä½“è¯´è¯´Binder</h2><p>Androidä¸­çš„IPCæ–¹å¼</p><pre><code>ä½¿ç”¨Intentä½¿ç”¨æ–‡ä»¶å…±äº«ä½¿ç”¨Messengerä½¿ç”¨AIDLä½¿ç”¨ContentProviderä½¿ç”¨Socket</code></pre><h3 id="1-ä½¿ç”¨Intent"><a href="#1-ä½¿ç”¨Intent" class="headerlink" title="1.ä½¿ç”¨Intent"></a>1.ä½¿ç”¨Intent</h3><h4 id="1-Activityï¼ŒServiceï¼ŒReceiveréƒ½æ”¯æŒåœ¨Intentä¸­ä¼ é€’Bundleæ•°æ®ï¼Œè€ŒBundleå®ç°äº†Parcelableæ¥å£ï¼Œå¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹é—´è¿›è¡Œä¼ è¾“ã€‚"><a href="#1-Activityï¼ŒServiceï¼ŒReceiveréƒ½æ”¯æŒåœ¨Intentä¸­ä¼ é€’Bundleæ•°æ®ï¼Œè€ŒBundleå®ç°äº†Parcelableæ¥å£ï¼Œå¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹é—´è¿›è¡Œä¼ è¾“ã€‚" class="headerlink" title="1.Activityï¼ŒServiceï¼ŒReceiveréƒ½æ”¯æŒåœ¨Intentä¸­ä¼ é€’Bundleæ•°æ®ï¼Œè€ŒBundleå®ç°äº†Parcelableæ¥å£ï¼Œå¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹é—´è¿›è¡Œä¼ è¾“ã€‚"></a>1.Activityï¼ŒServiceï¼ŒReceiveréƒ½æ”¯æŒåœ¨Intentä¸­ä¼ é€’Bundleæ•°æ®ï¼Œè€ŒBundleå®ç°äº†Parcelableæ¥å£ï¼Œå¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹é—´è¿›è¡Œä¼ è¾“ã€‚</h4><h4 id="2-åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŠ¨äº†å¦ä¸€ä¸ªè¿›ç¨‹çš„Activityï¼ŒServiceå’ŒReceiverï¼Œå¯ä»¥åœ¨Bundleä¸­é™„åŠ è¦ä¼ é€’çš„æ•°æ®é€šè¿‡Intentå‘é€å‡ºå»ã€‚"><a href="#2-åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŠ¨äº†å¦ä¸€ä¸ªè¿›ç¨‹çš„Activityï¼ŒServiceå’ŒReceiverï¼Œå¯ä»¥åœ¨Bundleä¸­é™„åŠ è¦ä¼ é€’çš„æ•°æ®é€šè¿‡Intentå‘é€å‡ºå»ã€‚" class="headerlink" title="2.åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŠ¨äº†å¦ä¸€ä¸ªè¿›ç¨‹çš„Activityï¼ŒServiceå’ŒReceiverï¼Œå¯ä»¥åœ¨Bundleä¸­é™„åŠ è¦ä¼ é€’çš„æ•°æ®é€šè¿‡Intentå‘é€å‡ºå»ã€‚"></a>2.åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŠ¨äº†å¦ä¸€ä¸ªè¿›ç¨‹çš„Activityï¼ŒServiceå’ŒReceiverï¼Œå¯ä»¥åœ¨Bundleä¸­é™„åŠ è¦ä¼ é€’çš„æ•°æ®é€šè¿‡Intentå‘é€å‡ºå»ã€‚</h4><h3 id="2-ä½¿ç”¨æ–‡ä»¶å…±äº«"><a href="#2-ä½¿ç”¨æ–‡ä»¶å…±äº«" class="headerlink" title="2.ä½¿ç”¨æ–‡ä»¶å…±äº«"></a>2.ä½¿ç”¨æ–‡ä»¶å…±äº«</h3><h4 id="1-Windowsä¸Šï¼Œä¸€ä¸ªæ–‡ä»¶å¦‚æœè¢«åŠ äº†æ’æ–¥é”ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æ— æ³•å¯¹å…¶è¿›è¡Œè®¿é—®ï¼ŒåŒ…æ‹¬è¯»å’Œå†™ï¼›è€ŒAndroidç³»ç»ŸåŸºäºLinuxï¼Œä½¿å¾—å…¶å¹¶å‘è¯»å–æ–‡ä»¶æ²¡æœ‰é™åˆ¶åœ°è¿›è¡Œï¼Œç”šè‡³å…è®¸ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼Œalthough-this-may-be-a-problem"><a href="#1-Windowsä¸Šï¼Œä¸€ä¸ªæ–‡ä»¶å¦‚æœè¢«åŠ äº†æ’æ–¥é”ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æ— æ³•å¯¹å…¶è¿›è¡Œè®¿é—®ï¼ŒåŒ…æ‹¬è¯»å’Œå†™ï¼›è€ŒAndroidç³»ç»ŸåŸºäºLinuxï¼Œä½¿å¾—å…¶å¹¶å‘è¯»å–æ–‡ä»¶æ²¡æœ‰é™åˆ¶åœ°è¿›è¡Œï¼Œç”šè‡³å…è®¸ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼Œalthough-this-may-be-a-problem" class="headerlink" title="1.Windowsä¸Šï¼Œä¸€ä¸ªæ–‡ä»¶å¦‚æœè¢«åŠ äº†æ’æ–¥é”ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æ— æ³•å¯¹å…¶è¿›è¡Œè®¿é—®ï¼ŒåŒ…æ‹¬è¯»å’Œå†™ï¼›è€ŒAndroidç³»ç»ŸåŸºäºLinuxï¼Œä½¿å¾—å…¶å¹¶å‘è¯»å–æ–‡ä»¶æ²¡æœ‰é™åˆ¶åœ°è¿›è¡Œï¼Œç”šè‡³å…è®¸ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼Œalthough this may be a problem."></a>1.Windowsä¸Šï¼Œä¸€ä¸ªæ–‡ä»¶å¦‚æœè¢«åŠ äº†æ’æ–¥é”ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹æ— æ³•å¯¹å…¶è¿›è¡Œè®¿é—®ï¼ŒåŒ…æ‹¬è¯»å’Œå†™ï¼›è€ŒAndroidç³»ç»ŸåŸºäºLinuxï¼Œä½¿å¾—å…¶å¹¶å‘è¯»å–æ–‡ä»¶æ²¡æœ‰é™åˆ¶åœ°è¿›è¡Œï¼Œç”šè‡³å…è®¸ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œï¼Œalthough this may be a problem.</h4><h4 id="2-å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­ååºåˆ—åŒ–æ¢å¤è¿™ä¸ªå¯¹è±¡ï¼ˆAttentionï¼šå¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å†…å®¹ç›¸åŒï¼‰"><a href="#2-å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­ååºåˆ—åŒ–æ¢å¤è¿™ä¸ªå¯¹è±¡ï¼ˆAttentionï¼šå¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å†…å®¹ç›¸åŒï¼‰" class="headerlink" title="2.å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­ååºåˆ—åŒ–æ¢å¤è¿™ä¸ªå¯¹è±¡ï¼ˆAttentionï¼šå¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å†…å®¹ç›¸åŒï¼‰"></a>2.å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­ååºåˆ—åŒ–æ¢å¤è¿™ä¸ªå¯¹è±¡ï¼ˆAttentionï¼šå¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å†…å®¹ç›¸åŒï¼‰</h4><h4 id="3-SharePreferenceæ˜¯ä¸ªç‰¹ä¾‹ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»-å†™æœ‰ä¸€å®šçš„ç¼“å­˜ç­–ç•¥ï¼Œå³å†…å­˜ä¸­ä¼šæœ‰ä¸€ä»½SharePreferencesæ–‡ä»¶çš„ç¼“å­˜ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»-å†™å°±å˜å¾—ä¸å¯é ï¼Œå½“é¢å¯¹é«˜å¹¶å‘çš„è¯»å†™è®¿é—®ï¼ŒSharePreferencesæœ‰å¾ˆå¤§çš„å‡ ç‡ä¸¢å¤±æ•°æ®ã€‚å› æ­¤ï¼ŒIPCä¸å»ºè®®é‡‡ç”¨SharePreferencesã€‚"><a href="#3-SharePreferenceæ˜¯ä¸ªç‰¹ä¾‹ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»-å†™æœ‰ä¸€å®šçš„ç¼“å­˜ç­–ç•¥ï¼Œå³å†…å­˜ä¸­ä¼šæœ‰ä¸€ä»½SharePreferencesæ–‡ä»¶çš„ç¼“å­˜ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»-å†™å°±å˜å¾—ä¸å¯é ï¼Œå½“é¢å¯¹é«˜å¹¶å‘çš„è¯»å†™è®¿é—®ï¼ŒSharePreferencesæœ‰å¾ˆå¤§çš„å‡ ç‡ä¸¢å¤±æ•°æ®ã€‚å› æ­¤ï¼ŒIPCä¸å»ºè®®é‡‡ç”¨SharePreferencesã€‚" class="headerlink" title="3.SharePreferenceæ˜¯ä¸ªç‰¹ä¾‹ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»/å†™æœ‰ä¸€å®šçš„ç¼“å­˜ç­–ç•¥ï¼Œå³å†…å­˜ä¸­ä¼šæœ‰ä¸€ä»½SharePreferencesæ–‡ä»¶çš„ç¼“å­˜ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»/å†™å°±å˜å¾—ä¸å¯é ï¼Œå½“é¢å¯¹é«˜å¹¶å‘çš„è¯»å†™è®¿é—®ï¼ŒSharePreferencesæœ‰å¾ˆå¤§çš„å‡ ç‡ä¸¢å¤±æ•°æ®ã€‚å› æ­¤ï¼ŒIPCä¸å»ºè®®é‡‡ç”¨SharePreferencesã€‚"></a>3.SharePreferenceæ˜¯ä¸ªç‰¹ä¾‹ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»/å†™æœ‰ä¸€å®šçš„ç¼“å­˜ç­–ç•¥ï¼Œå³å†…å­˜ä¸­ä¼šæœ‰ä¸€ä»½SharePreferencesæ–‡ä»¶çš„ç¼“å­˜ï¼Œç³»ç»Ÿå¯¹å®ƒçš„è¯»/å†™å°±å˜å¾—ä¸å¯é ï¼Œå½“é¢å¯¹é«˜å¹¶å‘çš„è¯»å†™è®¿é—®ï¼ŒSharePreferencesæœ‰å¾ˆå¤§çš„å‡ ç‡ä¸¢å¤±æ•°æ®ã€‚å› æ­¤ï¼ŒIPCä¸å»ºè®®é‡‡ç”¨SharePreferencesã€‚</h4><h3 id="3-ä½¿ç”¨Messenger"><a href="#3-ä½¿ç”¨Messenger" class="headerlink" title="3.ä½¿ç”¨Messenger"></a>3.ä½¿ç”¨Messenger</h3><p>Messengeræ˜¯ä¸€ç§è½»é‡çº§çš„IPCæ–¹æ¡ˆï¼Œå®ƒçš„åº•å±‚å®ç°æ˜¯AIDLï¼Œå¯ä»¥åœ¨ä¸åŒè¿›ç¨‹ä¸­ä¼ é€’Messageå¯¹è±¡ï¼Œå®ƒä¸€æ¬¡åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œåœ¨æœåŠ¡ç«¯ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹åŒæ­¥çš„é—®é¢˜ï¼ŒæœåŠ¡ç«¯ä¸å­˜åœ¨å¹¶å‘æ‰§è¡Œçš„æƒ…å½¢</p><ul><li><p>æœåŠ¡ç«¯è¿›ç¨‹ï¼šæœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªServiceæ¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼ŒåŒæ—¶é€šè¿‡ä¸€ä¸ªHandlerå¯¹è±¡æ¥å®ä¾‹åŒ–ä¸€ä¸ªMeaaengerå¯¹è±¡ï¼Œç„¶ååœ¨Serviveçš„onBindä¸­è¿”å›è¿™ä¸ªMessengerå¯¹è±¡åº•å±‚çš„Binderå³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessengerSercive</span> <span class="keyword">extends</span> <span class="title">Service</span></span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = MessengerSercive.class.getSimpleName();</div><div class="line">    </div><div class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MessengerHandler</span> <span class="keyword">extends</span> <span class="title">Handler</span></span>&#123;</div><div class="line">        <span class="comment">/**</span></div><div class="line">         * <span class="doctag">@param</span> msg</div><div class="line">         */</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span></span>&#123;</div><div class="line">            <span class="keyword">switch</span> (msg.what) &#123;</div><div class="line">                <span class="keyword">case</span> Constants.MSG_FROM_CLIENT:</div><div class="line">                    Log.d(TAG, <span class="string">"receive msg from client: msg = ["</span></div><div class="line">                    + msg.getData().getString(Constants.MSG_KEY) + <span class="string">"]"</span>);</div><div class="line">                    Toast.makeText(MessengerService.<span class="keyword">this</span>, <span class="string">"receive msg from client: msg = ["</span> + msg.getData().getString(Constants.MSG_KEY) + <span class="string">"]"</span>, Toast.LENGTH_SHORT).show();</div><div class="line">                    Messenger client = msg.replyTo;</div><div class="line">                    Message replyMsg = Message.obtain(<span class="keyword">null</span>, Constants.MSG_FROM_SERVICE);</div><div class="line">                    Bundle bundle = <span class="keyword">new</span> Bundle();</div><div class="line">                    bundle.putString(Constants.MSG_KEY, <span class="string">"æˆ‘å·²ç»æ”¶åˆ°ä½ çš„æ¶ˆæ¯ï¼Œç¨åå›å¤ä½ ï¼"</span>);</div><div class="line">                    replyMsg.setData(bundle);</div><div class="line">                    <span class="keyword">try</span> &#123;</div><div class="line">                        client.send(replyMsg);</div><div class="line">                    &#125; <span class="keyword">catch</span> (RemoteException e) &#123;</div><div class="line">                        e.printStackTrace();</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">default</span>:</div><div class="line">                    <span class="keyword">super</span>.handleMessage(msg);</div><div class="line">            &#125;</div><div class="line">                </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Messenger mMessenger = <span class="keyword">new</span> Messenger(<span class="keyword">new</span> MessengerHandler());</div><div class="line"></div><div class="line">    <span class="meta">@Nullable</span></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> IBinder <span class="title">onBind</span><span class="params">(Intent intent)</span></span>&#123;</div><div class="line">        <span class="keyword">return</span> mMessenger.getBinder();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯è¿›ç¨‹ï¼šé¦–å…ˆç»‘å®šæœåŠ¡ç«¯Serviceï¼Œç»‘å®šæˆåŠŸä¹‹åç”¨æœåŠ¡ç«¯çš„IBinderå¯¹è±¡åˆ›å»ºä¸€ä¸ªMessengerï¼Œé€šè¿‡è¿™ä¸ªMessengerå°±å¯ä»¥å‘æœåŠ¡ç«¯å‘é€æ¶ˆæ¯äº†ï¼Œæ¶ˆæ¯ç±»å‹æ˜¯Messageã€‚å¦‚æœéœ€è¦æœåŠ¡ç«¯å“åº”ï¼Œåˆ™éœ€è¦åˆ›å»ºä¸€ä¸ªHandlerå¹¶é€šè¿‡å®ƒæ¥åˆ›å»ºä¸€ä¸ªMessengerï¼ˆå’ŒæœåŠ¡ç«¯ä¸€æ ·ï¼‰ï¼Œå¹¶é€šè¿‡Messageçš„replyToå‚æ•°ä¼ é€’ç»™æœåŠ¡ç«¯ã€‚æœåŠ¡ç«¯é€šè¿‡Messageçš„replyToå‚æ•°å°±å¯ä»¥å›åº”å®¢æˆ·ç«¯äº†ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends AppCompatActivity&#123;</div><div class="line">    private static final String TAG = MainActivity.class.getSimpleName();</div><div class="line">    private Messenger mGetReplyMessenger = new Messenger(new MessageHandler());</div><div class="line">    private Messenger mService;</div><div class="line">    private class MessageHandler extends Handler&#123;</div><div class="line">        @Override</div><div class="line">        public void handleMessage(Message msg)&#123;</div><div class="line">            switch(msg.what)&#123;</div><div class="line">                case Constants.MSG_FROM_SERVICE:</div><div class="line">                Log.d(TAG, "received msg form service: msg = </div><div class="line">                [" + msg.getData().getString(Constants.MSG_KEY) + "]");</div><div class="line">                Toast.makeText(MainActivity.this, "received vice: msg = [" + msg.getData().getString(Constants.MSG_KEY) + "]", Toast.LENGTH_SHORT).show();</div><div class="line">                break;</div><div class="line">            default:</div><div class="line">                super.handleMessage(msg);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    protected void onCreate(Bundle savedInsttanceState)&#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">    &#125;</div><div class="line">    public void bindService(View v)&#123;</div><div class="line">        Intent mIntent = new Intent(thia,MessengerService.class);</div><div class="line">        bindService(mIntent, mServiceConnection, Context.BIND_AUTO_CREATE);</div><div class="line">    &#125;</div><div class="line">    public void sendMessage(View v)&#123;</div><div class="line">        Message msg = Message.obtain(null,Constants.MSG_FROM_CLIENT);</div><div class="line">        Bundle data = new Bunle();</div><div class="line">        data.putString(Constants.MSG_KEY, "Hello! This is client.");</div><div class="line">        msg.setData(data);</div><div class="line">        msg.replyTo = mGetReplyMessenger;</div><div class="line">        try&#123;</div><div class="line">            mService.send(mag);</div><div class="line">        &#125;catch(RemoteException e)&#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    @Override</div><div class="line">    protected void onDestroy()&#123;</div><div class="line">        unbindService(mServiceConnection);</div><div class="line">        super.onDestroy();</div><div class="line">    &#125;</div><div class="line">    private ServiceConnection mServiceConnection = new ServiceConnection()&#123;</div><div class="line">        /**</div><div class="line">         * @param name</div><div class="line">         * @param service</div><div class="line">         */</div><div class="line">        @Override</div><div class="line">        public void onServiceConnected(ComponentName name, IBinder service)&#123;</div><div class="line">            mService = new Messenger(service);</div><div class="line">            Message msg = Message.obtain(null, Constants.MSG_FROM_CLIENT);</div><div class="line">            Bundle data = new Bundle();</div><div class="line">            data.putString(Constants.MSG_KEY,"Hello! This is cient.");</div><div class="line">            msg.setData(data);</div><div class="line">            mag.replyTo = mGetReplyMessenger;</div><div class="line">            try&#123;</div><div class="line">                mService.send(msg);</div><div class="line">            &#125;catch(RemoteException e)&#123;</div><div class="line">                e.printStackTrace();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        /**</div><div class="line">         * @param name</div><div class="line">         */</div><div class="line">        @Override</div><div class="line">        public void onServiceDiscommected(ComponentName name)&#123;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li></ul><p>æ³¨æ„ï¼š å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ˜¯é€šè¿‡é€šè¿‡æ‹¿åˆ°å¯¹æ–¹çš„Messengeræ¥å‘é€Messageçš„ã€‚åªä¸è¿‡å®¢æˆ·ç«¯é€šè¿‡bindService onServiceConnectedè€ŒæœåŠ¡ç«¯é€šè¿‡message.replyToæ¥è·å¾—å¯¹æ–¹çš„Messengerã€‚Messengerä¸­æœ‰ä¸€ä¸ªHanlderä»¥ä¸²è¡Œçš„æ–¹å¼å¤„ç†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚ä¸å­˜åœ¨å¹¶å‘æ‰§è¡Œï¼Œå› æ­¤æˆ‘ä»¬ä¸è€ƒè™‘çº¿ç¨‹åŒæ­¥çš„é—®é¢˜ã€‚</p><h3 id="4-ä½¿ç”¨AIDL"><a href="#4-ä½¿ç”¨AIDL" class="headerlink" title="4.ä½¿ç”¨AIDL"></a>4.ä½¿ç”¨AIDL</h3><p>Messengeræ˜¯ä»¥ä¸²è¡Œçš„æ–¹å¼å¤„ç†å®¢æˆ·ç«¯å‘æ¥çš„æ¶ˆæ¯ï¼Œå¦‚æœå¤§é‡æ¶ˆæ¯åŒæ—¶å‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯åªèƒ½ä¸€ä¸ªä¸€ä¸ªå¤„ç†ï¼Œæ‰€ä»¥å¤§é‡å¹¶å‘è¯·æ±‚å°±ä¸é€‚åˆç”¨Messengerï¼Œè€Œä¸”Messengeråªé€‚åˆä¼ é€’æ¶ˆæ¯ï¼Œä¸èƒ½è·¨è¿›ç¨‹è°ƒç”¨æ–¹æ³•çš„é—®é¢˜ï¼Œè¦çŸ¥é“Messengeræœ¬è´¨ä¸Šä¹Ÿæ˜¯AIDLï¼Œåªä¸è¿‡ç³»ç»Ÿåšäº†å°è£…æ–¹ä¾¿ä¸Šå±‚çš„è°ƒç”¨è€Œå·²ã€‚</p><p><strong>AIDLæ–‡ä»¶æ”¯æŒçš„æ•°æ®ç±»å‹</strong></p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼›</li><li>Stringå’ŒCharSequenceï¼›</li><li>ArrayListï¼Œé‡Œé¢çš„å…ƒç´ å¿…é¡»èƒ½å¤Ÿè¢«AIDLæ”¯æŒï¼›</li><li>HashMapï¼Œå®ç°Parcelableæ¥å£çš„å¯¹è±¡ï¼›æ³¨æ„ï¼šå¦‚æœAIDLæ–‡ä»¶ä¸­ç”¨åˆ°äº†è‡ªå®šä¹‰çš„Parcelableå¯¹è±¡ï¼Œå¿…é¡»æ–°å»ºä¸€ä¸ªå’Œå®ƒåŒåçš„AIDLæ–‡ä»¶ã€‚</li><li>AIDLï¼ŒAIDLæ¥å£æœ¬èº«ä¹Ÿå¯ä»¥åœ¨AIDLæ–‡ä»¶ä¸­ä½¿ç”¨ã€‚<br><strong>æœåŠ¡ç«¯</strong><br>æœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªServiceç”¨æ¥ç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªAIDLæ–‡ä»¶ï¼Œå°†æš´éœ²ç»™å®¢æˆ·ç«¯çš„æ¥å£åœ¨è¿™ä¸ªAIDLæ–‡ä»¶ä¸­å£°æ˜ï¼Œæœ€ååœ¨Serviceä¸­å®ç°è¿™ä¸ªAIDLæ¥å£å³å¯ã€‚<br><strong>å®¢æˆ·ç«¯</strong><br>ç»‘å®šæœåŠ¡ç«¯çš„Serviceï¼Œç»‘å®šæˆåŠŸåï¼Œå°†æœåŠ¡ç«¯è¿”å›çš„Binderå¯¹è±¡è½¬æˆAIDLæ¥å£æ‰€å±çš„ç±»å‹ï¼Œç„¶åå°±å¯ä»¥è°ƒç”¨AIDLä¸­çš„æ–¹æ³•äº†ã€‚å®¢æˆ·ç«¯è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æ–¹æ³•ï¼Œè¢«è°ƒç”¨çš„æ–¹æ³•è¿è¡Œåœ¨æœåŠ¡ç«¯çš„Binderçº¿ç¨‹æ± ä¸­ï¼ŒåŒæ—¶å®¢æˆ·ç«¯çš„çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œå¦‚æœæœåŠ¡ç«¯æ–¹æ³•æ‰§è¡Œæ¯”è¾ƒè€—æ—¶ï¼Œå°±ä¼šå¯¼è‡´å®¢æˆ·ç«¯çº¿ç¨‹é•¿æ—¶é—´é˜»å¡ï¼Œå¯¼è‡´ANRã€‚å®¢æˆ·ç«¯çš„onServiceConnectedå’ŒonServiceDisconnectedæ–¹æ³•éƒ½åœ¨UIçº¿ç¨‹ä¸­ã€‚</li></ul><h2 id="5-Androidä¸­çš„AsyncTaskçš„ä½œç”¨ï¼Ÿ"><a href="#5-Androidä¸­çš„AsyncTaskçš„ä½œç”¨ï¼Ÿ" class="headerlink" title="5.Androidä¸­çš„AsyncTaskçš„ä½œç”¨ï¼Ÿ"></a>5.Androidä¸­çš„AsyncTaskçš„ä½œç”¨ï¼Ÿ</h2><h2 id="6-Androidä¸­çš„æ¶ˆæ¯æœºåˆ¶ï¼Ÿ"><a href="#6-Androidä¸­çš„æ¶ˆæ¯æœºåˆ¶ï¼Ÿ" class="headerlink" title="6.Androidä¸­çš„æ¶ˆæ¯æœºåˆ¶ï¼Ÿ"></a>6.Androidä¸­çš„æ¶ˆæ¯æœºåˆ¶ï¼Ÿ</h2><h2 id="7-Androidä¸­çš„äº‹ä»¶åˆ†å‘æœºåˆ¶äº†è§£å¤šå°‘ï¼Ÿå¦‚ä½•è§£å†³æ»‘åŠ¨å†²çª"><a href="#7-Androidä¸­çš„äº‹ä»¶åˆ†å‘æœºåˆ¶äº†è§£å¤šå°‘ï¼Ÿå¦‚ä½•è§£å†³æ»‘åŠ¨å†²çª" class="headerlink" title="7.Androidä¸­çš„äº‹ä»¶åˆ†å‘æœºåˆ¶äº†è§£å¤šå°‘ï¼Ÿå¦‚ä½•è§£å†³æ»‘åŠ¨å†²çª"></a>7.Androidä¸­çš„äº‹ä»¶åˆ†å‘æœºåˆ¶äº†è§£å¤šå°‘ï¼Ÿå¦‚ä½•è§£å†³æ»‘åŠ¨å†²çª</h2><h2 id="8-Javaä¸­çš„æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼Ÿ"><a href="#8-Javaä¸­çš„æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="8.Javaä¸­çš„æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼Ÿ"></a>8.Javaä¸­çš„æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼Ÿ</h2><h3 id="ç†è§£æŠ½è±¡"><a href="#ç†è§£æŠ½è±¡" class="headerlink" title="ç†è§£æŠ½è±¡"></a>ç†è§£æŠ½è±¡</h3><p>abstract class å’Œ interface æ˜¯Javaè¯­è¨€ä¸­å¯¹äºæŠ½è±¡ç±»å®šä¹‰è¿›è¡Œæ”¯æŒçš„ä¸¤ç§æœºåˆ¶ï¼Œæ­£æ˜¯ç”±äºè¿™ä¸¤ç§æœºåˆ¶çš„å­˜åœ¨ï¼Œæ‰èµ‹äºˆäº†Javaå¼ºå¤§çš„é¢å‘å¯¹è±¡èƒ½åŠ›ã€‚abstract calsså’Œinterfaceä¹‹é—´å¯¹äºæŠ½è±¡ç±»å®šä¹‰çš„æ”¯æŒæ–¹é¢å…·æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œç”šè‡³å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œå› æ­¤å¾ˆå¤šå¼€å‘è€…åœ¨è¿›è¡ŒæŠ½è±¡ç±»å®šä¹‰æ—¶å¯¹äºabstract classå’Œinterfaceçš„é€‰æ‹©æ˜¾å¾—æ¯”è¾ƒéšæ„ã€‚</p><p>å…¶å®ï¼Œä¸¤è€…ä¹‹é—´è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ï¼Œå¯¹äºå®ƒä»¬çš„é€‰æ‹©ç”šè‡³åæ˜ å‡ºå¯¹äºé—®é¢˜é¢†åŸŸæœ¬è´¨çš„ç†è§£ã€å¯¹äºè®¾è®¡æ„å›¾çš„ç†è§£æ˜¯å¦æ­£ç¡®ã€åˆç†ã€‚</p><h3 id="è¯­æ³•å®šä¹‰ç†è§£"><a href="#è¯­æ³•å®šä¹‰ç†è§£" class="headerlink" title="è¯­æ³•å®šä¹‰ç†è§£"></a>è¯­æ³•å®šä¹‰ç†è§£</h3><h4 id="1-æŠ½è±¡ç±»"><a href="#1-æŠ½è±¡ç±»" class="headerlink" title="1.æŠ½è±¡ç±»"></a>1.æŠ½è±¡ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span></span>&#123;</div><div class="line">  <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>;</div><div class="line">  <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="2-æ¥å£"><a href="#2-æ¥å£" class="headerlink" title="2.æ¥å£"></a>2.æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Demo</span></span>&#123;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span></span>;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åœ¨abstract classæ–¹å¼ä¸­ï¼ŒDemoå¯ä»¥æœ‰è‡ªå·±çš„æ•°æ®æˆå‘˜ï¼Œä¹Ÿå¯ä»¥æœ‰éabstarctçš„æˆå‘˜æ–¹æ³•ï¼Œè€Œåœ¨interfaceæ–¹å¼çš„å®ç°ä¸­ï¼ŒDemoåªèƒ½å¤Ÿæœ‰é™æ€çš„ä¸èƒ½è¢«ä¿®é¥°çš„æ•°æ®æˆå‘˜ï¼ˆä¹Ÿå°±æ˜¯å¿…é¡»æ˜¯<strong>static final</strong>çš„ï¼Œä¸è¿‡åœ¨interfaceä¸­ä¸€èˆ¬ä¸å®šä¹‰æ•°æ®æˆå‘˜ï¼‰ï¼Œæ‰€æœ‰çš„æˆå‘˜æ–¹æ³•éƒ½æ˜¯abstractçš„ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œinterfaceæ˜¯ä¸€ç§ç‰¹æ®Šå½¢å¼çš„abstract calssã€‚</p><h3 id="ç¼–ç¨‹è§’åº¦ç†è§£"><a href="#ç¼–ç¨‹è§’åº¦ç†è§£" class="headerlink" title="ç¼–ç¨‹è§’åº¦ç†è§£"></a>ç¼–ç¨‹è§’åº¦ç†è§£</h3><p>é¦–å…ˆï¼Œabstract classåœ¨Javaè¯­è¨€ä¸­è¡¨ç¤ºçš„æ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œä¸€ä¸ªç±»åªèƒ½ä½¿ç”¨ä¸€æ¬¡ç»§æ‰¿å…³ç³»ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªç±»å´å¯ä»¥å®ç°å¤šä¸ªinterfaceã€‚ä¹Ÿè®¸ï¼Œè¿™æ˜¯Javaè¯­è¨€çš„è®¾è®¡è€…åœ¨è€ƒè™‘Javaå¯¹äºå¤šç»§æ‰¿çš„æ”¯æŒæ–¹é¢çš„ä¸€ç§æŠ˜ä¸­è€ƒè™‘å§ã€‚</p><p>å…¶æ¬¡ï¼Œåœ¨abstract classçš„å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥èµ‹äºˆæ–¹æ³•çš„é»˜è®¤è¡Œä¸ºã€‚</p><p>ä½†æ˜¯åœ¨interfaceçš„å®šä¹‰ä¸­ï¼Œæ–¹æ³•å´ä¸èƒ½æ‹¥æœ‰é»˜è®¤è¡Œä¸ºï¼Œä¸è¿‡åœ¨JDK1.8ä¸­å¯ä»¥ä½¿ç”¨<strong>default</strong>å…³é”®å­—å®ç°é»˜è®¤æ–¹æ³•ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">interface</span> <span class="title">InterfaceA</span></span>&#123;</div><div class="line">  <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span>&#123;</div><div class="line">    System.out.println(<span class="string">"InterfaceA foo"</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>åœ¨ Java 8 ä¹‹å‰ï¼Œæ¥å£ä¸å…¶å®ç°ç±»ä¹‹é—´çš„<strong>è€¦åˆåº¦</strong>å¤ªé«˜äº†ï¼ˆtightly coupledï¼‰ï¼Œå½“éœ€è¦ä¸ºä¸€ä¸ªæ¥å£æ·»åŠ æ–¹æ³•æ—¶ï¼Œæ‰€æœ‰çš„å®ç°ç±»éƒ½å¿…é¡»éšä¹‹ä¿®æ”¹ã€‚é»˜è®¤æ–¹æ³•è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå¯ä»¥ä¸ºæ¥å£æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œè€Œä¸ä¼šç ´åå·²æœ‰çš„æ¥å£çš„å®ç°ã€‚è¿™åœ¨lambdaè¡¨è¾¾å¼ä½œä¸ºJava8è¯­è¨€çš„é‡è¦ç‰¹æ€§è€Œå‡ºç°ä¹‹é™…ï¼Œä¸ºå‡çº§æ—§æ¥å£ä¸”ä¿æŒå‘åå…¼å®¹ï¼ˆbackward compatibilityï¼‰æä¾›äº†é€”å¾„ã€‚</p><h3 id="ä¸€èˆ¬æ€§ç†è§£"><a href="#ä¸€èˆ¬æ€§ç†è§£" class="headerlink" title="ä¸€èˆ¬æ€§ç†è§£"></a>ä¸€èˆ¬æ€§ç†è§£</h3><p>æ¥å£å’ŒæŠ½è±¡ç±»çš„æ¦‚å¿µä¸ä¸€æ ·ã€‚æ¥å£æ˜¯å¯¹åŠ¨ä½œçš„æŠ½è±¡ï¼ŒæŠ½è±¡ç±»æ˜¯å¯¹æ ¹æºçš„æŠ½è±¡ã€‚ä»è®¾è®¡ç†å¿µä¸Šï¼Œæ¥å£åæ˜ çš„æ˜¯â€œlike-aâ€å…³ç³»ï¼ŒæŠ½è±¡ç±»åæ˜ çš„æ˜¯â€œis-aâ€å…³ç³»ã€‚æŠ½è±¡ç±»è¡¨ç¤ºçš„æ˜¯ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆã€‚æ¥å£è¡¨ç¤ºçš„æ˜¯ï¼Œè¿™ä¸ªå¯¹è±¡èƒ½åšä»€ä¹ˆã€‚æ¯”å¦‚ï¼Œç”·äººï¼Œå¥³äººï¼Œè¿™ä¸¤ä¸ªç±»ï¼ˆif they are classï¼‰ï¼Œä»–ä»¬çš„æŠ½è±¡ç±»æ˜¯äººã€‚è¯´æ˜ï¼Œä»–ä»¬éƒ½æ˜¯äººã€‚äººå¯ä»¥åƒä¸œè¥¿ï¼Œç‹—ä¹Ÿå¯ä»¥åƒä¸œè¥¿ï¼Œä½ å¯ä»¥æŠŠâ€œåƒä¸œè¥¿â€å®šä¹‰æˆä¸€ä¸ªæ¥å£ï¼Œç„¶åè®©è¿™äº›ç±»å»å®ç°å®ƒï¼Œæ‰€ä»¥ï¼Œåœ¨é«˜çº§è¯­è¨€ä¸Šï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼ˆæŠ½è±¡ç±»ï¼‰ï¼ˆæ­£å¦‚äººä¸å¯èƒ½åŒæ—¶æ˜¯ç”Ÿç‰©å’Œéç”Ÿç‰©ï¼‰ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼ˆåƒé¥­æ¥å£ã€èµ°è·¯æ¥å£ï¼‰ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><pre><code>1.æŠ½è±¡ç±»å’Œæ¥å£éƒ½ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œå¦‚æœè¦å®ä¾‹åŒ–ï¼ŒæŠ½è±¡ç±»å˜é‡å¿…é¡»æŒ‡å‘å®ç°æ‰€æœ‰æŠ½è±¡æ–¹æ³•çš„å­ç±»å¯¹è±¡ï¼Œæ¥å£å˜é‡å¿…é¡»æŒ‡å‘å®ç°æ‰€æœ‰æ¥å£æ–¹æ³•çš„ç±»å¯¹è±¡ã€‚2.æŠ½è±¡ç±»è¦è¢«å­ç±»ç»§æ‰¿ï¼Œæ¥å£è¦è¢«ç±»å®ç°ã€‚3.æ¥å£é‡Œå®šä¹‰çš„å˜é‡åªèƒ½æ˜¯å…¬å…±çš„é™æ€çš„å¸¸é‡ï¼ŒæŠ½è±¡ç±»ä¸­çš„å˜é‡æ˜¯æ™®é€šå˜é‡ã€‚4.æŠ½è±¡ç±»é‡Œå¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ã€‚5.æ¥å£å¯ä»¥è¢«ç±»å¤šå®ç°ï¼ˆè¢«å…¶ä»–æ¥å£å¤šç»§æ‰¿ï¼‰ï¼ŒæŠ½è±¡ç±»åªèƒ½è¢«å•ç»§æ‰¿ã€‚6.æ¥å£ä¸­æ²¡æœ‰ this æŒ‡é’ˆï¼Œæ²¡æœ‰æ„é€ å‡½æ•°ï¼Œä¸èƒ½æ‹¥æœ‰å®ä¾‹å­—æ®µï¼ˆå®ä¾‹å˜é‡ï¼‰æˆ–å®ä¾‹æ–¹æ³•ã€‚7.æŠ½è±¡ç±»ä¸èƒ½åœ¨Java 8çš„ lambda è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚</code></pre><h2 id="9-Javaè®¾è®¡æ¨¡å¼äº†è§£å¤šå°‘ï¼Ÿè§‚å¯Ÿè€…æ¨¡å¼åœ¨å“ªé‡Œä½¿ç”¨è¿‡ï¼Ÿ"><a href="#9-Javaè®¾è®¡æ¨¡å¼äº†è§£å¤šå°‘ï¼Ÿè§‚å¯Ÿè€…æ¨¡å¼åœ¨å“ªé‡Œä½¿ç”¨è¿‡ï¼Ÿ" class="headerlink" title="9.Javaè®¾è®¡æ¨¡å¼äº†è§£å¤šå°‘ï¼Ÿè§‚å¯Ÿè€…æ¨¡å¼åœ¨å“ªé‡Œä½¿ç”¨è¿‡ï¼Ÿ"></a>9.Javaè®¾è®¡æ¨¡å¼äº†è§£å¤šå°‘ï¼Ÿè§‚å¯Ÿè€…æ¨¡å¼åœ¨å“ªé‡Œä½¿ç”¨è¿‡ï¼Ÿ</h2><h2 id="10-æœ‰æ²¡æœ‰ç”¨è¿‡MVC-MVP-MVVMï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸMVPæ˜¯å¦‚ä½•ä½¿modelä¸viewè¿›è¡Œäº’é€šçš„ï¼Ÿ"><a href="#10-æœ‰æ²¡æœ‰ç”¨è¿‡MVC-MVP-MVVMï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸMVPæ˜¯å¦‚ä½•ä½¿modelä¸viewè¿›è¡Œäº’é€šçš„ï¼Ÿ" class="headerlink" title="10.æœ‰æ²¡æœ‰ç”¨è¿‡MVC\MVP\MVVMï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸMVPæ˜¯å¦‚ä½•ä½¿modelä¸viewè¿›è¡Œäº’é€šçš„ï¼Ÿ"></a>10.æœ‰æ²¡æœ‰ç”¨è¿‡MVC\MVP\MVVMï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸMVPæ˜¯å¦‚ä½•ä½¿modelä¸viewè¿›è¡Œäº’é€šçš„ï¼Ÿ</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¤§æ¦‚åœ¨æ•°å¤©å‰æŠ•é€’äº†å­—èŠ‚è·³åŠ¨-æŠ–éŸ³æ–¹å‘çš„å®ä¹ ç”Ÿå²—ä½&lt;br&gt;æ˜¨å¤©æ¥åˆ°äº†é¢è¯•é€šçŸ¥ï¼Œä»Šå¤©é¢è¯•åå¯¹æ¶‰åŠåˆ°çš„é—®é¢˜è¿›è¡Œä¸€ä¸ªå¤ç›˜ã€‚ï¼ˆå­—èŠ‚è·³åŠ¨æœç„¶åä¸è™šä¼ â€¦é¢è¯•å®˜ç›¸å½“äº²åˆ‡ä¸”å–„äºå¾ªå¾ªå–„è¯±æ¥å¼•å¯¼æˆ‘å›ç­”é—®é¢˜ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;1-Javaä¸­çš„å¼•ç”¨ç±»å‹æœ‰æ²¡æœ‰ä»€ä¹ˆäº†è§£ï¼Ÿ&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
    
      <category term="Interview" scheme="https://edward7zhang.github.io/tags/Interview/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è½¬æ¢ [å­¦ä¹ &amp;è½¬è½½]</title>
    <link href="https://edward7zhang.github.io/2019/01/26/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BD%AC%E6%8D%A2/"/>
    <id>https://edward7zhang.github.io/2019/01/26/æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è½¬æ¢/</id>
    <published>2019-01-26T11:07:14.000Z</published>
    <updated>2019-01-26T14:04:00.096Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºå„ç§æ·±åº¦å­¦ä¹ æ¡†æ¶çš„å±‚å‡ºä¸ç©·ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œç®—æ³•å¼€å‘åˆ°ç®—æ³•éƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€éƒ½éœ€è¦ç”¨åˆ°ä¸åŒçš„æ¡†æ¶ã€‚ä¾‹å¦‚æˆ‘ä»¬å¾ˆæœ‰å¯èƒ½ä½¿ç”¨tensorflow,pytorchç­‰è¿›è¡Œç®—æ³•å¼€å‘å’Œè°ƒè¯•ï¼Œåœ¨æ—©æœŸå·¥ç¨‹inferenceçš„æ—¶å€™æˆ‘ä»¬å¾€å¾€ä½¿ç”¨è¾ƒä¸ºè½»é‡çš„caffeæˆ–è€…é­”æ”¹åçš„caffeã€‚åˆ°äº†ç§»åŠ¨ç«¯éƒ¨ç½²æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨feather CNN nihuiçš„NCNNæˆ–è€…å°ç±³çš„maceç­‰æ¡†æ¶ã€‚facebook ONNXçš„å‡ºç°ä¸ºæ¨¡å‹çš„è½¬æ¢æä¾›äº†ä¸€ç§æ€è·¯ï¼Œä½†é™¤äº†pytorchç­‰æ¡†æ¶èƒ½å¾ˆå¥½çš„æ”¯æŒONNXã€‚å…¶ä»–ç­‰æ¡†æ¶å¹¶æœªå¾ˆå¥½çš„å¯¹æ¥ONNXã€‚åœ¨<a href="https://github.com/Microsoft/MMdnn" target="_blank" rel="external">MMdnn</a>å‡ºç°ä¹‹å‰ï¼Œå¤§å®¶éƒ½æŠŠcaffemodelä½œä¸ºä¸€ä¸ªä¸­é—´ä½“æ¥è¿›è¡Œè½¬æ¢ã€‚</p><p>å…¶å®å°±æ¨¡å‹è½¬æ¢è€Œè¨€åªæ˜¯ä¸ªå¡«å‚æ•°çš„è¿‡ç¨‹ï¼ŒæŠŠæ¨¡å‹ç»“æ„æ­å¥½ï¼ŒæŠŠå‚æ•°å¡«è¿›å»å°±å³å¯ï¼Œä½†æ˜¯å®è·µè¿‡çš„æœ‹å‹å¤§å®¶ä¸€å®šä¼šçŸ¥é“è¿™å…¶ä¸­å­˜åœ¨ä¸å°‘å‘ï¼Œä½†æ˜¯æˆ‘ä»¬æ›´å¸Œæœ›æœ‰ä¸€ç§è‡ªåŠ¨åŒ–çš„æ¨¡å‹è½¬æ¢æ–¹æ¡ˆæ¥è¿›è¡Œæ¨¡å‹è½¬æ¢ã€‚</p><p><a href="https://github.com/Microsoft/MMdnn" target="_blank" rel="external">MMdnn</a>çš„å‡ºç°ä¸ºæ¨¡å‹è½¬æ¢å¸¦æ¥äº†ä¸å°‘çš„ç¦éŸ³ï¼Œ<a href="https://github.com/Microsoft/MMdnn" target="_blank" rel="external">MMdnn</a>æä¾›äº†ä¸€ç§IR(ä¸­é—´è¡¨ç¤º)æ¥æ¥è¡”æ¥å„ä¸ªæ¨¡å‹ä¹‹é—´çš„è½¬æ¢ã€‚ä»–å›Šæ‹¬å¹¶æ”¯æŒäº†ä¸»æµçš„DNNæ¡†æ¶ã€‚</p><p>ä¸‹é¢æˆ‘å°±ç®€è¦è®²ä¸€ä¸‹å‡ ä¸ªçš„ç®€å•æ¨¡å‹è½¬æ¢</p><p>åœ¨æ­¤æˆ‘æ¨èä¸€ä¸ªæŸ¥çœ‹æ¨¡å‹ç»“æ„çš„å·¥å…·<a href="https://github.com/lutzroeder/Netron" target="_blank" rel="external">Netron</a> æ”¯æŒæ•°ç§ä¸»æµæ·±åº¦å­¦ä¹ æ¡†æ¶(Caffe,Tensorflow,ONNXç­‰)çš„æ¨¡å‹ç»“æ„æŸ¥çœ‹ã€‚</p><p>ä¾‹å¦‚ä¸‹å›¾æ˜¯MTCNN Pnetçš„æ¨¡å‹ç»“æ„å›¾</p><p><img src="https://i.loli.net/2019/01/09/5c35f0ad3eaf1.png" alt="det1.png"></p><h3 id="MMdnnçš„å®‰è£…"><a href="#MMdnnçš„å®‰è£…" class="headerlink" title="MMdnnçš„å®‰è£…"></a>MMdnnçš„å®‰è£…</h3><p><a href="https://github.com/Microsoft/MMdnn" target="_blank" rel="external">MMdnn</a>çš„å®‰è£…éå¸¸ç®€å•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pip install mmdnn</div></pre></td></tr></table></figure><h4 id="è½¬æ¢ä¸­çš„ä¸€äº›å‘"><a href="#è½¬æ¢ä¸­çš„ä¸€äº›å‘" class="headerlink" title="è½¬æ¢ä¸­çš„ä¸€äº›å‘"></a>è½¬æ¢ä¸­çš„ä¸€äº›å‘</h4><h5 id="1-å¹¶ä¸æ˜¯æ‰€æœ‰Layerå’Œæ‰€æœ‰ç½‘ç»œéƒ½æ”¯æŒè½¬æ¢"><a href="#1-å¹¶ä¸æ˜¯æ‰€æœ‰Layerå’Œæ‰€æœ‰ç½‘ç»œéƒ½æ”¯æŒè½¬æ¢" class="headerlink" title="1.å¹¶ä¸æ˜¯æ‰€æœ‰Layerå’Œæ‰€æœ‰ç½‘ç»œéƒ½æ”¯æŒè½¬æ¢"></a>1.å¹¶ä¸æ˜¯æ‰€æœ‰Layerå’Œæ‰€æœ‰ç½‘ç»œéƒ½æ”¯æŒè½¬æ¢</h5><p>ç”±äºå„ä¸ªæ·±åº¦å­¦ä¹ æ¡†æ¶ä¹‹é—´çš„è®¾è®¡æ¨¡å¼ä¸åŒæœ‰çš„æ˜¯åŸºäºå‘½ä»¤å¼çš„æœ‰çš„æ˜¯åŸºäºç¬¦å·å½¢å¼çš„ã€‚å„ä¸ªæ¡†æ¶ä¹‹é—´çš„opçš„ç²’åº¦ä¸åŒï¼Œåˆç”±äºæ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ï¼Œæ”¯æŒæ‰€æœ‰æ¡†æ¶ä¹‹é—´çš„è½¬æ¢æ˜¯ä¸€ä»¶éå¸¸éš¾çš„äº‹æƒ…ã€‚MMdnnä¹Ÿåªæ˜¯æŠŠä¸€äº›æä¾›çš„å¸¸ç”¨çš„opï¼Œå¦‚conv,poolingç­‰å¸¸è§„opã€‚</p><h5 id="2-Tensorflowä¸caffeçš„paddingæ–¹å¼å¹¶ä¸ç›¸åŒ"><a href="#2-Tensorflowä¸caffeçš„paddingæ–¹å¼å¹¶ä¸ç›¸åŒ" class="headerlink" title="2.Tensorflowä¸caffeçš„paddingæ–¹å¼å¹¶ä¸ç›¸åŒ"></a>2.Tensorflowä¸caffeçš„paddingæ–¹å¼å¹¶ä¸ç›¸åŒ</h5><p>è¿™ä¸ªé—®é¢˜ä¼šå‡ºç°åœ¨MobileNetåœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºTensorflowçš„paddingæ–¹å¼å’Œå…¶ä»–æ¡†æ¶æ˜¯ä¸åŒçš„ã€‚Tensorflowæ ‡å‡†çš„å·ç§¯æ“ä½œé€šå¸¸é‡‡ç”¨éå¯¹ç§°çš„paddingï¼Œè€Œcaffeç­‰å…¶ä»–æ¡†æ¶çš„å·ç§¯æ“ä½œåˆ™æ˜¯é‡‡ç”¨å¯¹ç§°çš„paddingã€‚</p><p>å¦‚ä¸‹å›¾ ï¼Œæ¯”å¦‚å½“ å·ç§¯æ ¸çš„å¤§å°ä¸º3x3 strideä¸º2çš„æ—¶å€™ã€‚å°½ç®¡ä»–ä»¬çš„paddingæ–¹å¼ä¸åŒï¼Œä½†å·ç§¯ä¹‹åçš„å°ºå¯¸ç¡®æ˜¯ä¸€æ ·çš„ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/Microsoft/MMdnn/wiki/image/mobilenet1.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h4 id="è½¬æ¢æ­¥éª¤"><a href="#è½¬æ¢æ­¥éª¤" class="headerlink" title="è½¬æ¢æ­¥éª¤"></a>è½¬æ¢æ­¥éª¤</h4><p>ä¾‹å¦‚ç°åœ¨æˆ‘ä»¬æƒ³æŠŠMTCNNçš„Keras Pnetè½¬åŒ–æˆcaffeodelç”¨äºéƒ¨ç½²ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mmtoir -f keras -w pnet.h5 -o pnet</div></pre></td></tr></table></figure><p>æŠŠkerasæ¨¡å‹è½¬åŒ–æˆMMdnn IRä¸­é—´è¡¨ç¤ºï¼Œåœ¨å½“ç„¶ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª.npy çš„weightsæ–‡ä»¶å’Œä¸€ä¸ª.pbæ–‡ä»¶ã€‚æ¥ç€ä½¿ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mmtomodel -f caffe -in pnet -iw pnet.npy -o pnet</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç”±äºå„ç§æ·±åº¦å­¦ä¹ æ¡†æ¶çš„å±‚å‡ºä¸ç©·ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œç®—æ³•å¼€å‘åˆ°ç®—æ³•éƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€éƒ½éœ€è¦ç”¨åˆ°ä¸åŒçš„æ¡†æ¶ã€‚ä¾‹å¦‚æˆ‘ä»¬å¾ˆæœ‰å¯èƒ½ä½¿ç”¨tensorflow,pytorchç­‰è¿›è¡Œç®—æ³•å¼€å‘å’Œè°ƒè¯•ï¼Œåœ¨æ—©æœŸå·¥ç¨‹inferenceçš„æ—¶å€™æˆ‘ä»¬å¾€å¾€ä½¿ç”¨è¾ƒä¸ºè½»é‡çš„caffeæˆ–è€…é­”æ”¹åçš„caffeã€‚åˆ°äº†ç§»åŠ¨ç«¯
      
    
    </summary>
    
    
      <category term="DeepLearning" scheme="https://edward7zhang.github.io/tags/DeepLearning/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œ [å­¦ä¹ &amp;è½¬è½½]</title>
    <link href="https://edward7zhang.github.io/2019/01/16/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%BB%8F%E5%85%B8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
    <id>https://edward7zhang.github.io/2019/01/16/æ·±åº¦å­¦ä¹ ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œ/</id>
    <published>2019-01-16T11:07:14.000Z</published>
    <updated>2019-01-26T14:03:30.420Z</updated>
    
    <content type="html"><![CDATA[<p>éšç€æ·±åº¦å­¦ä¹ çš„å‘å±•ï¼Œç ”ç©¶äººå‘˜æå‡ºäº†å¾ˆå¤šæ¨¡å‹ï¼Œè¿™å…¶ä¸­ä¸€äº›è®¾è®¡æ–¹å¼ï¼Œåœ¨å½“æ—¶å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœï¼Œä¹Ÿä¸ºå…¶ä»–ç§‘ç ”å·¥ä½œè€…æä¾›äº†å¾ˆå¥½çš„æ€è·¯ã€‚CNN çš„ç»å…¸ç»“æ„å§‹äº1998å¹´çš„LeNet-5ï¼Œæˆäº2012å¹´å†å²æ€§çš„AlexNetï¼Œä»æ­¤å¹¿æ³›ç”¨äºå›¾åƒç›¸å…³é¢†åŸŸï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p><pre><code>1.LeNet-5, 1998å¹´2.AlexNet, 2012å¹´3.ZF-Net, 2013å¹´4.GoogleNet, 2014å¹´5.VGG, 2014å¹´6.ResNet, 2015å¹´</code></pre><p>ç»è¿‡ç§‘ç ”å·¥ä½œè€…çš„åå¤éªŒè¯åŠå¹¿æ³›ä½¿ç”¨ï¼Œè¿™äº›æ¨¡å‹é€æ¸æˆä¸ºç»å…¸ï¼Œæˆ‘ä»¬è¿™é‡Œæ”¶é›†äº†ä¸€äº›å¸¸ç”¨çš„æ¨¡å‹è¿›è¡Œä»‹ç»ã€‚</p><h3 id="1-VGG"><a href="#1-VGG" class="headerlink" title="1. VGG"></a>1. VGG</h3><p><a href="https://arxiv.org/abs/1409.1556" target="_blank" rel="external">è®ºæ–‡åœ°å€</a></p><p>VGGNetæ˜¯ç‰›æ´¥å¤§å­¦è®¡ç®—æœºè§†è§‰ç»„ï¼ˆVisual Geometry Groupï¼‰å’Œ Google DeepMind å…¬å¸çš„ç ”ç©¶å‘˜ä¸€èµ·ç ”å‘çš„çš„æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œã€‚VGGNet æ¢ç´¢äº†å·ç§¯ç¥ç»ç½‘ç»œçš„æ·±åº¦ä¸å…¶æ€§èƒ½ä¹‹é—´çš„å…³ç³»ï¼Œä¸€å…±æœ‰å…­ç§ä¸åŒçš„ç½‘ç»œç»“æ„ï¼Œä½†æ˜¯æ¯ç§ç»“æ„éƒ½æœ‰å«æœ‰ï¼•ç»„å·ç§¯ï¼Œæ¯ç»„å·ç§¯éƒ½ä½¿ç”¨ï¼“ï½˜ï¼“çš„å·ç§¯æ ¸ï¼Œæ¯ç»„å·ç§¯åè¿›è¡Œä¸€ä¸ªï¼’ï½˜ï¼’æœ€å¤§æ± åŒ–ï¼Œæ¥ä¸‹æ¥æ˜¯ä¸‰ä¸ªå…¨è¿æ¥å±‚ã€‚åœ¨è®­ç»ƒé«˜çº§åˆ«çš„ç½‘ç»œæ—¶ï¼Œå¯ä»¥å…ˆè®­ç»ƒä½çº§åˆ«çš„ç½‘ç»œï¼Œç”¨å‰è€…è·å¾—çš„æƒé‡åˆå§‹åŒ–é«˜çº§åˆ«çš„ç½‘ç»œï¼Œå¯ä»¥åŠ é€Ÿç½‘ç»œçš„æ”¶æ•›ã€‚VGGNet ç›¸æ¯”ä¹‹å‰state-of-the-artçš„ç½‘ç»œç»“æ„ï¼Œé”™è¯¯ç‡å¤§å¹…ä¸‹é™ï¼Œå¹¶å–å¾—äº†ILSVRC 2014æ¯”èµ›åˆ†ç±»é¡¹ç›®çš„ç¬¬2åå’Œå®šä½é¡¹ç›®çš„ç¬¬1åã€‚åŒæ—¶VGGNetçš„æ‹“å±•æ€§å¾ˆå¼ºï¼Œè¿ç§»åˆ°å…¶ä»–å›¾ç‰‡æ•°æ®ä¸Šçš„æ³›åŒ–æ€§éå¸¸å¥½ã€‚VGGNetçš„ç»“æ„éå¸¸ç®€æ´ï¼Œæ•´ä¸ªç½‘ç»œéƒ½ä½¿ç”¨äº†åŒæ ·å¤§å°çš„å·ç§¯æ ¸å°ºå¯¸ï¼ˆ3<em>3ï¼‰å’Œæœ€å¤§æ± åŒ–å°ºå¯¸ï¼ˆ2</em>2ï¼‰ã€‚<br>åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒVGGNetä¾ç„¶ç»å¸¸è¢«ç”¨æ¥æå–å›¾åƒç‰¹å¾ã€‚</p><p><a href="https://blog.csdn.net/marsjhao/article/details/72955935" target="_blank" rel="external">ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¹‹VGGNet</a></p><p><a href="https://blog.csdn.net/qq_40027052/article/details/79015827" target="_blank" rel="external">VGGæ¨¡å‹æ ¸å¿ƒæ‹†è§£</a></p><h3 id="2-GoogLeNet"><a href="#2-GoogLeNet" class="headerlink" title="2. GoogLeNet"></a>2. GoogLeNet</h3><p><a href="http://arxiv.org/abs/1409.4842" target="_blank" rel="external">[v1] Going Deeper with Convolutions</a></p><p><a href="http://arxiv.org/abs/1502.03167" target="_blank" rel="external">[v2] Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift</a></p><p><a href="http://arxiv.org/abs/1512.00567" target="_blank" rel="external">[v3] Rethinking the Inception Architecture for Computer Vision</a> </p><p><a href="http://arxiv.org/abs/1602.07261" target="_blank" rel="external">[v4] Inception-v4, Inception-ResNet and the Impact of Residual Connections on Learning</a></p><p>GoogLeNetçš„æœ€æ—©ç‰ˆæœ¬ï¼Œå‡ºç°åœ¨2014å¹´çš„â€ Going deeper with convolutions â€œã€‚ä¹‹æ‰€ä»¥åä¸º â€œGoogLeNetâ€ è€Œé â€œGoogleNetâ€ ,æ–‡ç« è¯´æ˜¯ä¸ºäº†å‘æ—©æœŸçš„LeNetè‡´æ•¬ã€‚GoogleNetæå‡ºäº†ä¸€ä¸ªå…¨æ–°çš„æ·±åº¦ CNN æ¶æ„â€”â€”Inceptionï¼Œæ— å…¨è¿æ¥å±‚ï¼Œå¯ä»¥èŠ‚çœè¿ç®—çš„åŒæ—¶ï¼Œå‡å°‘äº†å¾ˆå¤šå‚æ•°ï¼Œå‚æ•°æ•°é‡æ˜¯AlexNetçš„1/12ï¼Œæ•°é‡åªæœ‰5 millionï¼Œè€Œä¸”åœ¨ImageNetç«èµ›ä¸­å–å¾—äº†å¾ˆå¥½çš„æˆç»©ã€‚</p><p><a href="https://blog.csdn.net/cdknight_happy/article/details/79247280" target="_blank" rel="external">GoogleNetç³»åˆ—è®ºæ–‡å­¦ä¹ </a></p><h3 id="3-Resnet"><a href="#3-Resnet" class="headerlink" title="3. Resnet"></a>3. Resnet</h3><p><a href="https://arxiv.org/abs/1512.03385" target="_blank" rel="external">è®ºæ–‡åœ°å€</a></p><p>ResNetåœ¨2015å¹´è¢«æå‡ºï¼Œåœ¨ImageNetæ¯”èµ›classificationä»»åŠ¡ä¸Šè·å¾—ç¬¬ä¸€åï¼Œå› ä¸ºå®ƒ â€œç®€å•ä¸å®ç”¨â€ å¹¶å­˜ï¼Œä¹‹åå¾ˆå¤šæ–¹æ³•éƒ½å»ºç«‹åœ¨ResNet50æˆ–è€…ResNet101çš„åŸºç¡€ä¸Šå®Œæˆçš„ï¼Œæ£€æµ‹ï¼Œåˆ†å‰²ï¼Œè¯†åˆ«ç­‰é¢†åŸŸéƒ½çº·çº·ä½¿ç”¨ResNetï¼Œå…·æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§ã€‚ResNetçš„ä½œè€…<a href="http://kaiminghe.com/" target="_blank" rel="external">ä½•å‡¯æ˜</a>ä¹Ÿå› æ­¤æ‘˜å¾—CVPR2016æœ€ä½³è®ºæ–‡å¥–ã€‚</p><p><a href="https://blog.csdn.net/lanran2/article/details/79057994" target="_blank" rel="external">ResNetè§£æ</a></p><p><a href="https://blog.csdn.net/xxy0118/article/details/78324256" target="_blank" rel="external">ResNetå­¦ä¹ </a></p><h3 id="4-MobileNet-V1-amp-MobileNet-V2"><a href="#4-MobileNet-V1-amp-MobileNet-V2" class="headerlink" title="4. MobileNet-V1 &amp; MobileNet -V2"></a>4. MobileNet-V1 &amp; MobileNet -V2</h3><p><a href="https://arxiv.org/abs/1704.04861" target="_blank" rel="external">V1è®ºæ–‡åœ°å€</a></p><p><a href="https://arxiv.org/abs/1801.04381" target="_blank" rel="external">V2è®ºæ–‡åœ°å€</a></p><p>MobileNetæ˜¯Googleå›¢é˜Ÿé’ˆå¯¹ç§»åŠ¨ç«¯æå‡ºçš„é«˜æ•ˆå›¾åƒè¯†åˆ«ç½‘ç»œï¼Œæ·±å…¥çš„ç ”ç©¶äº†Depthwise Separable Convolutionsä½¿ç”¨æ–¹æ³•åè®¾è®¡å‡ºMobileNetï¼ŒDepthwise Separable Convolutionsçš„æœ¬è´¨æ˜¯å†—ä½™ä¿¡æ¯æ›´å°‘çš„ç¨€ç–åŒ–è¡¨è¾¾ã€‚åœ¨æ­¤åŸºç¡€ä¸Šç»™å‡ºäº†é«˜æ•ˆæ¨¡å‹è®¾è®¡çš„ä¸¤ä¸ªé€‰æ‹©ï¼šå®½åº¦å› å­(Width Multiplier)å’Œåˆ†è¾¨ç‡å› å­(Resolution Multiplier)ï¼›é€šè¿‡æƒè¡¡å¤§å°ã€å»¶è¿Ÿæ—¶é—´ä»¥åŠç²¾åº¦ï¼Œæ¥æ„å»ºè§„æ¨¡æ›´å°ã€é€Ÿåº¦æ›´å¿«çš„MobileNetã€‚</p><p>MobileNet V2æ˜¯ä¹‹å‰MobileNet V1çš„æ”¹è¿›ç‰ˆã€‚MobileNet V1ä¸­ä¸»è¦æ˜¯å¼•å…¥äº†Depthwise Separable Convolutionä»£æ›¿ä¼ ç»Ÿçš„å·ç§¯æ“ä½œï¼Œç›¸å½“äºå®ç°äº†spatialå’Œchannelä¹‹é—´çš„è§£è€¦ï¼Œè¾¾åˆ°æ¨¡å‹åŠ é€Ÿçš„ç›®çš„ï¼Œæ•´ä½“ç½‘ç»œç»“æ„è¿˜æ˜¯å»¶ç»­äº†VGGç½‘ç»œç›´ä¸Šç›´ä¸‹çš„ç‰¹ç‚¹ã€‚å’ŒMobileNet V1ç›¸æ¯”ï¼ŒMobileNet V2ä¸»è¦çš„æ”¹è¿›æœ‰ä¸¤ç‚¹ï¼š1ã€Linear Bottlenecksã€‚ä¹Ÿå°±æ˜¯å»æ‰äº†å°ç»´åº¦è¾“å‡ºå±‚åé¢çš„éçº¿æ€§æ¿€æ´»å±‚ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ã€‚2ã€Inverted Residual blockã€‚è¯¥ç»“æ„å’Œä¼ ç»Ÿresidual blockä¸­ç»´åº¦å…ˆç¼©å‡å†æ‰©å¢æ­£å¥½ç›¸åï¼Œå› æ­¤shotcutä¹Ÿå°±å˜æˆäº†è¿æ¥çš„æ˜¯ç»´åº¦ç¼©å‡åçš„feature mapã€‚</p><p><a href="https://blog.csdn.net/t800ghb/article/details/78879612" target="_blank" rel="external">æ·±åº¦è§£è¯»è°·æ­ŒMobileNet</a></p><p><a href="https://blog.csdn.net/u011995719/article/details/79135818" target="_blank" rel="external">è½»é‡åŒ–ç½‘ç»œï¼šMobileNet-V2</a></p><h3 id="5-U-NET"><a href="#5-U-NET" class="headerlink" title="5. U-NET"></a>5. U-NET</h3><p><a href="http://arxiv.org/abs/1505.04597" target="_blank" rel="external">è®ºæ–‡åœ°å€</a></p><p><a href="https://lmb.informatik.uni-freiburg.de/people/ronneber/u-net/" target="_blank" rel="external">é¡¹ç›®åœ°å€</a></p><p>è¿™æ˜¯Encoder-Decoderç½‘ç»œçš„ä¸€ç§ï¼Œåœ¨æ— ç›‘ç£å­¦ä¹ ä¸­çš„æ¡†æ¶ï¼Œåˆ©ç”¨convä¸deconvé™ç»´å‡ç»´æ¥è¿›è¡Œå­¦ä¹ ï¼Œåˆ†åˆ«å«åšencoderä¸decoderç¼–ç è§£ç ï¼Œä¸€èˆ¬åŸºäºå·ç§¯ç½‘ç»œï¼Œencoderåç›¸å½“äºå­¦ä¹ åˆ°äº†ç‰¹å¾ï¼Œè€Œdecoderåç›¸å½“äºè¿˜åŸäº†å›¾åƒï¼Œæ—¢å¯ä»¥ç”¨è¾“å…¥å›¾åƒè¿›è¡Œè®­ç»ƒï¼Œè®­ç»ƒå¥½ä¸€å±‚åŠ æ·±ä¸€å±‚ã€‚å†å¯ä»¥åˆ©ç”¨æœ‰ç›‘ç£å¾®è°ƒï¼Œä»è€Œè¾¾åˆ°åˆ†ç±»æˆ–è€…å›¾åƒè½¬æ¢çš„ç›®çš„ã€‚</p><h3 id="6-GAN"><a href="#6-GAN" class="headerlink" title="6. GAN"></a>6. GAN</h3><p>æ€»ç»“ï¼šåˆ©ç”¨ä¸¤ä¸ªç½‘ç»œå¯¹æŠ—ç”Ÿæˆæ¨¡å‹ï¼Œç”Ÿæˆå™¨ä¸è¾¨åˆ«å™¨ï¼Œç”Ÿæˆå™¨è¾“å…¥å›¾åƒï¼Œç”Ÿæˆæ‰€éœ€å›¾åƒï¼Œè¾¨åˆ«å™¨è¾¨åˆ«æ‰€éœ€å›¾åƒä¸ç”Ÿæˆå›¾åƒï¼Œä½¿ç”Ÿæˆå™¨çš„ç”Ÿæˆå›¾åƒéª—è¿‡è¾¨åˆ«å™¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;éšç€æ·±åº¦å­¦ä¹ çš„å‘å±•ï¼Œç ”ç©¶äººå‘˜æå‡ºäº†å¾ˆå¤šæ¨¡å‹ï¼Œè¿™å…¶ä¸­ä¸€äº›è®¾è®¡æ–¹å¼ï¼Œåœ¨å½“æ—¶å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœï¼Œä¹Ÿä¸ºå…¶ä»–ç§‘ç ”å·¥ä½œè€…æä¾›äº†å¾ˆå¥½çš„æ€è·¯ã€‚CNN çš„ç»å…¸ç»“æ„å§‹äº1998å¹´çš„LeNet-5ï¼Œæˆäº2012å¹´å†å²æ€§çš„AlexNetï¼Œä»æ­¤å¹¿æ³›ç”¨äºå›¾åƒç›¸å…³é¢†åŸŸï¼Œä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;co
      
    
    </summary>
    
    
      <category term="DeepLearning" scheme="https://edward7zhang.github.io/tags/DeepLearning/"/>
    
  </entry>
  
  <entry>
    <title>å¸¸ç”¨æ·±åº¦å­¦ä¹ æ¡†æ¶[å­¦ä¹ &amp;è½¬è½½]</title>
    <link href="https://edward7zhang.github.io/2019/01/09/%E5%B8%B8%E8%A7%81%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/"/>
    <id>https://edward7zhang.github.io/2019/01/09/å¸¸è§æ·±åº¦å­¦ä¹ æ¡†æ¶/</id>
    <published>2019-01-09T11:07:14.000Z</published>
    <updated>2019-01-09T12:55:52.270Z</updated>
    
    <content type="html"><![CDATA[<p>æ·±åº¦å­¦ä¹ ç ”ç©¶çš„çƒ­æ½®æŒç»­é«˜æ¶¨ï¼Œå„ç§å¼€æºæ·±åº¦å­¦ä¹ æ¡†æ¶ä¹Ÿå±‚å‡ºä¸ç©·ï¼Œå…¶ä¸­åŒ…æ‹¬TensorFlowã€Caffeã€Kerasã€CNTKã€Torch7ã€MXNetã€Leafã€Theanoã€DeepLearning4ã€Lasagneã€Neonç­‰ã€‚æˆ‘ä»¬å‚è€ƒå¼€æºçš„æµ‹è¯•ç»“æœï¼Œç»“åˆè‡ªå·±æ•´ç†çš„æ•°æ®ï¼Œé’ˆå¯¹ä¸»æµçš„æ·±åº¦å­¦ä¹ æ¡†æ¶è¿›è¡Œç®€å•å¯¹æ¯”åŠä»‹ç»ã€‚</p><table><thead><tr><th>æ¡†æ¶</th><th>æœºæ„</th><th>æ”¯æŒè¯­è¨€</th><th>Stars</th><th>Forks</th></tr></thead><tbody><tr><td><a href="https://github.com/BVLC/caffe" target="_blank" rel="external">Caffe</a></td><td>BVLC</td><td>C++/Python/Matlab</td><td>25480</td><td>15560</td></tr><tr><td><a href="https://github.com/Microsoft/CNTK" target="_blank" rel="external">CNTK</a></td><td>Microsoft</td><td>C++</td><td>15083</td><td>4020</td></tr><tr><td><a href="notebooks/Keras_TF_CNN.ipynb">Keras</a></td><td>Fchollet</td><td>Python</td><td>33332</td><td>12563</td></tr><tr><td><a href="https://github.com/tensorflow/tensorflow" target="_blank" rel="external">Tensorflow</a></td><td>Google</td><td>Python/C++/Goâ€¦</td><td>109115</td><td>67339</td></tr><tr><td><a href="https://github.com/apache/incubator-mxnet" target="_blank" rel="external">MXNet</a></td><td>DMLC</td><td>Python/C++/Râ€¦</td><td>15162</td><td>5484</td></tr><tr><td><a href="https://github.com/pytorch/pytorch" target="_blank" rel="external">PyTorch</a></td><td>Facebook</td><td>Python</td><td>18517</td><td>4426</td></tr></tbody></table><h3 id="æ€§èƒ½å¯¹æ¯”"><a href="#æ€§èƒ½å¯¹æ¯”" class="headerlink" title="æ€§èƒ½å¯¹æ¯”"></a>æ€§èƒ½å¯¹æ¯”</h3><h4 id="1-è®­ç»ƒæ—¶é—´-Network-DenseNet-121-Multi-GPU"><a href="#1-è®­ç»ƒæ—¶é—´-Network-DenseNet-121-Multi-GPU" class="headerlink" title="1. è®­ç»ƒæ—¶é—´: Network DenseNet-121 (Multi-GPU)"></a>1. è®­ç»ƒæ—¶é—´: Network DenseNet-121 (Multi-GPU)</h4><p><strong>è¿è¡Œäº SSD ç¡¬ç›˜</strong></p><table><thead><tr><th>æ¡†æ¶</th><th style="text-align:center">1xV100/CUDA 9/CuDNN 7</th><th style="text-align:center">4xV100/CUDA 9/CuDNN 7</th></tr></thead><tbody><tr><td>Pytorch</td><td style="text-align:center">27min</td><td style="text-align:center">10min</td></tr><tr><td>Keras(TF)</td><td style="text-align:center">38min</td><td style="text-align:center">18min</td></tr><tr><td>Tensorflow</td><td style="text-align:center">33min</td><td style="text-align:center">22min</td></tr><tr><td>MXNet(Gluon)</td><td style="text-align:center">29min</td><td style="text-align:center">10min</td></tr></tbody></table><p><strong>è¿è¡ŒäºRAMå†…å­˜ä¸­</strong></p><table><thead><tr><th>æ¡†æ¶</th><th style="text-align:center">1xV100/CUDA 9/CuDNN 7</th><th style="text-align:center">4xV100/CUDA 9/CuDNN 7</th></tr></thead><tbody><tr><td>Pytorch</td><td style="text-align:center">25min</td><td style="text-align:center">8min</td></tr><tr><td>Keras(TF)</td><td style="text-align:center">36min</td><td style="text-align:center">15min</td></tr><tr><td>Tensorflow</td><td style="text-align:center">25min</td><td style="text-align:center">14min</td></tr><tr><td>MXNet(Gluon)</td><td style="text-align:center">28min</td><td style="text-align:center">8min</td></tr></tbody></table><h4 id="2-1000å¼ å›¾ç‰‡æ¨ç†æ—¶é—´-s-Network-ResNet-50"><a href="#2-1000å¼ å›¾ç‰‡æ¨ç†æ—¶é—´-s-Network-ResNet-50" class="headerlink" title="2. 1000å¼ å›¾ç‰‡æ¨ç†æ—¶é—´(s): Network ResNet-50"></a>2. 1000å¼ å›¾ç‰‡æ¨ç†æ—¶é—´(s): Network ResNet-50</h4><table><thead><tr><th>æ¡†æ¶</th><th style="text-align:center">K80/CUDA 8/CuDNN 6</th><th style="text-align:center">P100/CUDA 8/CuDNN 6</th></tr></thead><tbody><tr><td>CNTK</td><td style="text-align:center">8.5</td><td style="text-align:center">1.6</td></tr><tr><td>Keras(TF)</td><td style="text-align:center">10.2</td><td style="text-align:center">2.9</td></tr><tr><td>Tensorflow</td><td style="text-align:center">6.5</td><td style="text-align:center">1.8</td></tr><tr><td>MXNet</td><td style="text-align:center">7.7</td><td style="text-align:center">1.6</td></tr><tr><td>PyTorch</td><td style="text-align:center">7.7</td><td style="text-align:center">1.9</td></tr></tbody></table><h4 id="3-CPUæ¨ç†æ—¶é—´-s-E5-2630v4-Network-FCN5"><a href="#3-CPUæ¨ç†æ—¶é—´-s-E5-2630v4-Network-FCN5" class="headerlink" title="3. CPUæ¨ç†æ—¶é—´(s): E5-2630v4, Network FCN5"></a>3. CPUæ¨ç†æ—¶é—´(s): E5-2630v4, Network FCN5</h4><table><thead><tr><th>æ¡†æ¶</th><th style="text-align:center">1 Thread</th><th style="text-align:center">2 Threads</th><th style="text-align:center">4 Threads</th><th style="text-align:center">8 Threads</th><th style="text-align:center">16 Threads</th><th style="text-align:center">32 Threads</th></tr></thead><tbody><tr><td>Caffe</td><td style="text-align:center">1887.2ms</td><td style="text-align:center">1316.7ms</td><td style="text-align:center">1051.8ms</td><td style="text-align:center">952.1ms</td><td style="text-align:center">952.3ms</td><td style="text-align:center">834.7ms</td></tr><tr><td>CNTK</td><td style="text-align:center">1238.7ms</td><td style="text-align:center">616.3ms</td><td style="text-align:center">352.7ms</td><td style="text-align:center">229.5ms</td><td style="text-align:center">155.9ms</td><td style="text-align:center">192.4ms</td></tr><tr><td>Tensorflow</td><td style="text-align:center">992.2ms</td><td style="text-align:center">773.6ms</td><td style="text-align:center">419.3ms</td><td style="text-align:center">252.3ms</td><td style="text-align:center">149.7ms</td><td style="text-align:center">124.7ms</td></tr><tr><td>MXNet</td><td style="text-align:center">1386.8ms</td><td style="text-align:center">915.5ms</td><td style="text-align:center">559.0ms</td><td style="text-align:center">499.1ms</td><td style="text-align:center">416.3ms</td><td style="text-align:center">413.9ms</td></tr></tbody></table><h3 id="æ¡†æ¶è¯„ä»·"><a href="#æ¡†æ¶è¯„ä»·" class="headerlink" title="æ¡†æ¶è¯„ä»·"></a>æ¡†æ¶è¯„ä»·</h3><table><thead><tr><th>æ¡†æ¶</th><th style="text-align:center">å®‰è£…æˆæœ¬</th><th style="text-align:center">ä»£ç ç†è§£ç¨‹åº¦</th><th style="text-align:center">APIä¸°å¯Œç¨‹åº¦</th><th style="text-align:center">æ¨¡å‹ä¸°å¯Œç¨‹åº¦</th><th style="text-align:center">æ–‡æ¡£å®Œæ•´ç¨‹åº¦</th><th style="text-align:center">è®­ç»ƒä¸æµ‹è¿‡ç¨‹</th><th style="text-align:center">å­¦ä¹ èµ„æº</th></tr></thead><tbody><tr><td>CNTK</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td></tr><tr><td>Keras</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td></tr><tr><td>MXNet</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td></tr><tr><td>Pytorch</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td></tr><tr><td>Tensorflow</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">ä¼˜ç§€</td></tr><tr><td>Caffe</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td><td style="text-align:center">è‰¯å¥½</td><td style="text-align:center">ä¼˜ç§€</td></tr></tbody></table><h3 id="æ¨èæ¡†æ¶"><a href="#æ¨èæ¡†æ¶" class="headerlink" title="æ¨èæ¡†æ¶"></a>æ¨èæ¡†æ¶</h3><p>ç›®å‰ä¼—å¤šçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œä½¿ç”¨è€…åªè¦é€‰æ‹©é€‚åˆè‡ªå·±çš„æ¡†æ¶å³å¯ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­ï¼Œè€ƒè™‘åˆ°è®­ç»ƒçš„å¿«æ·ç¨‹åº¦ï¼Œéƒ¨ç½²éš¾åº¦ä»¥åŠå¯¹CNNã€RNNæ¨¡å‹çš„ç›´æ¥ç¨‹åº¦ï¼Œæ¨èä»¥ä¸‹å‡ æ¬¾æ·±åº¦å­¦ä¹ æ¡†æ¶ã€‚</p><h4 id="1-Keras"><a href="#1-Keras" class="headerlink" title="1.Keras"></a>1.Keras</h4><p>Keras æä¾›äº†ç®€å•æ˜“ç”¨çš„ API æ¥å£ï¼Œå…¥é—¨å¿«ï¼Œç‰¹åˆ«é€‚åˆåˆå­¦è€…å…¥é—¨ã€‚å…¶åç«¯é‡‡ç”¨ TensorFlow, CNTKï¼Œä»¥åŠ Theanoã€‚å¦å¤–ï¼ŒDeeplearning4j çš„ Python ä¹Ÿæ˜¯åŸºäº Keras å®ç°çš„ã€‚Keras å‡ ä¹å·²ç»æˆäº† Python ç¥ç»ç½‘ç»œçš„æ¥å£æ ‡å‡†ã€‚</p><h4 id="2-TensorFlow"><a href="#2-TensorFlow" class="headerlink" title="2.TensorFlow"></a>2.TensorFlow</h4><p>è°·æ­Œå‡ºå“ï¼Œè¿½éšè€…ä¼—å¤šã€‚ä»£ç è´¨é‡é«˜ï¼Œæ”¯æŒæ¨¡å‹ä¸°å¯Œï¼Œæ”¯æŒè¯­è¨€å¤šæ ·ï¼Œ TensorBoard å¯è§†åŒ–å·¥å…·ä½¿ç”¨æ–¹ä¾¿ã€‚</p><h4 id="3-MXNet"><a href="#3-MXNet" class="headerlink" title="3.MXNet"></a>3.MXNet</h4><p>å·²è¢«äºšé©¬é€Šé€‰ä¸º AWS ä¸Šçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ”¯æŒåŠ¨æ€å›¾è®¡ç®—ã€‚MXNet æœ‰è®¸å¤šä¸­å›½å¼€å‘è€…ï¼Œå› è€Œæœ‰éå¸¸è‰¯å¥½çš„ä¸­æ–‡æ–‡æ¡£æ”¯æŒã€‚Gluon æ¥å£ä½¿å¾— MXNet åƒ Keras ä¸€æ ·ç®€å•æ˜“ç”¨ã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="http://dlbench.comp.hkbu.edu.hk/?v=v8" target="_blank" rel="external">é¦™æ¸¯æµ¸ä¼šå¤§å­¦æ·±åº¦å­¦ä¹ æ¡†æ¶Benchmark</a></li><li><a href="https://github.com/ilkarman/DeepLearningFrameworks" target="_blank" rel="external">DeepLearningFrameworks</a></li><li><a href="http://app.myzaker.com/news/article.php?pk=5a13b55c1bc8e05d71000016" target="_blank" rel="external">åšå®¢</a></li><li><a href="https://www.zhihu.com/question/68114194/answer/465874315" target="_blank" rel="external">å¼€å‘è€…å¦‚ä½•é€‰æ‹©æ·±åº¦å­¦ä¹ æ¡†æ¶?</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ·±åº¦å­¦ä¹ ç ”ç©¶çš„çƒ­æ½®æŒç»­é«˜æ¶¨ï¼Œå„ç§å¼€æºæ·±åº¦å­¦ä¹ æ¡†æ¶ä¹Ÿå±‚å‡ºä¸ç©·ï¼Œå…¶ä¸­åŒ…æ‹¬TensorFlowã€Caffeã€Kerasã€CNTKã€Torch7ã€MXNetã€Leafã€Theanoã€DeepLearning4ã€Lasagneã€Neonç­‰ã€‚æˆ‘ä»¬å‚è€ƒå¼€æºçš„æµ‹è¯•ç»“æœï¼Œç»“åˆè‡ªå·±æ•´ç†çš„æ•°æ®ï¼Œ
      
    
    </summary>
    
    
      <category term="DeepLearning" scheme="https://edward7zhang.github.io/tags/DeepLearning/"/>
    
  </entry>
  
  <entry>
    <title>å›ç¯ï¼Œæœªæ¥å¯æœŸ</title>
    <link href="https://edward7zhang.github.io/2018/08/27/%E5%9B%9E%E7%8E%AF%EF%BC%8C%E6%9C%AA%E6%9D%A5%E5%8F%AF%E6%9C%9F/"/>
    <id>https://edward7zhang.github.io/2018/08/27/å›ç¯ï¼Œæœªæ¥å¯æœŸ/</id>
    <published>2018-08-26T17:42:07.000Z</published>
    <updated>2018-08-26T13:25:57.009Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä»Šå¤©ï¼Œæ˜¯æˆ‘21å²çš„ç”Ÿæ—¥ã€‚<br>åœ¨ä¸€ä¸ªåŠæœˆå‰æˆ‘è¾èŒäº†ï¼Œä½†å‡†ç¡®çš„è¯´æ˜¯è¢«åŠ¨å¼è¾èŒã€‚<br>ç°åœ¨çœ‹æ¥è¿™æ˜¯ä¸€ä»¶å¥½äº‹ã€‚</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8176988f43d.jpg" alt="ç¬¬ä¸€å¤©åˆ°å…¬å¸æ¥¼ä¸‹" title="">                </div>                <div class="image-caption">ç¬¬ä¸€å¤©åˆ°å…¬å¸æ¥¼ä¸‹</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173ac7c155.jpg" alt="å·¥ç‰Œ" title="">                </div>                <div class="image-caption">å·¥ç‰Œ</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b81769918ccc.jpg" alt="ç¬¬ä¸€å¤©å®‰é¡¿ä¸‹æ¥" title="">                </div>                <div class="image-caption">ç¬¬ä¸€å¤©å®‰é¡¿ä¸‹æ¥</div>            </figure><h2 id="ä¼¼ä¹äººç”Ÿè¿›å…¥å¼±å† ä¹‹åï¼Œå¾ˆå¤šäº‹æƒ…éƒ½äº‹å‘çªç„¶ï¼Œå¥½åœ¨äº‹æƒ…å‘ç”Ÿè¿‡åï¼Œå†å›å¤´çœ‹ï¼Œä¸å¤±æ˜¯ä¸€ç§ä¸é”™çš„ç»å†"><a href="#ä¼¼ä¹äººç”Ÿè¿›å…¥å¼±å† ä¹‹åï¼Œå¾ˆå¤šäº‹æƒ…éƒ½äº‹å‘çªç„¶ï¼Œå¥½åœ¨äº‹æƒ…å‘ç”Ÿè¿‡åï¼Œå†å›å¤´çœ‹ï¼Œä¸å¤±æ˜¯ä¸€ç§ä¸é”™çš„ç»å†" class="headerlink" title="ä¼¼ä¹äººç”Ÿè¿›å…¥å¼±å† ä¹‹åï¼Œå¾ˆå¤šäº‹æƒ…éƒ½äº‹å‘çªç„¶ï¼Œå¥½åœ¨äº‹æƒ…å‘ç”Ÿè¿‡åï¼Œå†å›å¤´çœ‹ï¼Œä¸å¤±æ˜¯ä¸€ç§ä¸é”™çš„ç»å†"></a>ä¼¼ä¹äººç”Ÿè¿›å…¥å¼±å† ä¹‹åï¼Œå¾ˆå¤šäº‹æƒ…éƒ½äº‹å‘çªç„¶ï¼Œå¥½åœ¨äº‹æƒ…å‘ç”Ÿè¿‡åï¼Œå†å›å¤´çœ‹ï¼Œä¸å¤±æ˜¯ä¸€ç§ä¸é”™çš„ç»å†</h2><p>è¾èŒçš„åŸå› æ˜¯ä¼˜ç§€çš„projectä¸è¢«è®¤å¯â€¦æ‰€ä»¥å’Œæˆ‘çš„ç›´æ¥ä¸»ç®¡å°±ä¸€å¹¶é€‰æ‹©äº†ç¦»èŒâ€¦</p><p>åœ¨å¤–ç•Œäººçœ‹æ¥å¯èƒ½è¿™ç§åšæ³•ç®€ç›´æ˜¯ä¸è§£â€¦</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173aeb88e9.jpg" alt="å—¯ï¼Œå¸Œæœ›è¿™å®¶å…¬å¸å¯ä»¥ä¿æŒåˆå¿ƒ" title="">                </div>                <div class="image-caption">å—¯ï¼Œå¸Œæœ›è¿™å®¶å…¬å¸å¯ä»¥ä¿æŒåˆå¿ƒ</div>            </figure><p>å¯æ˜¯å¯¹äºç¨‹åºçŒ¿è¿™ç±»äººæ¥è¯´ï¼Œèƒ½åšè‡ªå·±æ„Ÿå…´è¶£çš„äº‹æƒ…åº”è¯¥æ˜¯æœ€é«˜çš„è£èª‰â€¦</p><p>å†µä¸”æ˜¯åœ¨ä¸€ä¸ªä¼˜ç§€projectå¹¶ä¸”åœ¨æœ‰è‰¯å¥½å®ç°çš„åŸºç¡€ä¸Šè¢«å¦æ‰â€¦è¿™ç§ç—›è‹¦è«è¿‡äºé¥®é¸©</p><p>æ­£å¦‚æ ‡é¢˜æ‰€è¨€<strong> å›ç¯ </strong>ï¼Œåˆšåˆšæ¥åˆ°æ¶ˆæ¯çš„æ—¶å€™è‡ªå·±è¿˜éƒé—·äº†ä¸€æ•´å¤©ï¼Œç°åœ¨å›å¤´çœ‹è¿™åº”è¯¥æ˜¯ä¸€ç§å›ç¯ï¼Œå°±å¦‚åŒç«‹äº¤æ¡¥çš„è½¬ç¯åŒé“ï¼Œè™½ç„¶åˆç»•å›äº†åŸç‚¹ï¼Œä½†æ˜¯å´æå‡äº†ä¸€ä¸ªç»´åº¦ã€‚</p><p>å¹¸è¿å¦‚æˆ‘ï¼Œåœ¨è¿™çŸ­æš‚çš„å®ä¹ ä¸­é‡åˆ°äº†éå¸¸niceçš„ä¸»ç®¡ï¼Œæ¶¨äº†å¾ˆå¤šè§è¯†ï¼Œæ„è¯†åˆ°æˆ‘ä¹‹å‰æ˜¯å¤šä¹ˆçš„çŸ­è§†â€¦ä»è€Œä¹Ÿçœ‹åˆ°äº†è‡ªå·±æœªæ¥çš„ä¸€äº›å¯èƒ½ï¼Œä½†å‰æè¦åšä¸€äº›ä»˜å‡ºã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173ad848db.jpg" alt="å…¬å¸å¯¹é¢çš„è…¾è®¯&å®Œç¾ä¸–ç•Œ" title="">                </div>                <div class="image-caption">å…¬å¸å¯¹é¢çš„è…¾è®¯&å®Œç¾ä¸–ç•Œ</div>            </figure><h2 id="åœ¨è¿™ä¸¤ä¸ªæœˆçš„å®ä¹ ä¸­ï¼Œé¡¹ç›®è¿›å±•æœ‰å¦‚ç¥åŠ©"><a href="#åœ¨è¿™ä¸¤ä¸ªæœˆçš„å®ä¹ ä¸­ï¼Œé¡¹ç›®è¿›å±•æœ‰å¦‚ç¥åŠ©" class="headerlink" title="åœ¨è¿™ä¸¤ä¸ªæœˆçš„å®ä¹ ä¸­ï¼Œé¡¹ç›®è¿›å±•æœ‰å¦‚ç¥åŠ©"></a>åœ¨è¿™ä¸¤ä¸ªæœˆçš„å®ä¹ ä¸­ï¼Œé¡¹ç›®è¿›å±•æœ‰å¦‚ç¥åŠ©</h2><p>åœ¨å®ä¹ è¿™æ®µæ—¶é—´ï¼Œé¡¹ç›®è¿›å±•é€Ÿåº¦æƒŠäººï¼Œæ¯å¤©éƒ½å¾ˆå……å®ï¼Œæ¯å¤©ä¸€ç»„çš„ä¼™ä¼´ä»¬éƒ½åœ¨ä¸€èµ·æƒ³å¯¹ç­–ï¼Œç°åœ¨å›å¤´æƒ³æƒ³ä¹Ÿè®¸æ˜¯ä¹‹å‰è‡ªå·±åœ¨äººå·¥æ™ºèƒ½æ–¹é¢çš„ä¸€ç‚¹å°å°çš„ç»éªŒåŠ ä¹‹ä¸»ç®¡ä¹‹å‰åœ¨NLPæ–¹é¢çš„ç ”ç©¶çš„å…±äº¤ä½¿å¾—é¡¹ç›®å‘å±•è¿…é€Ÿã€‚</p><p>ä¸¤ä¸ªæœˆçš„æ—¶é—´å®ç°äº†æ¨¡å‹çš„æ­å»ºä»¥åŠdemoçš„å®ç°&amp;é¡¹ç›®é¢„æ¼”â€¦</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173a8e14d3.png" alt="å·¥ä½" title="">                </div>                <div class="image-caption">å·¥ä½</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173ac5d381.jpg" alt="åœ¨å…¬å¸æœ€åä¸€å¤©çš„é¡¹ç›®æ±‡æŠ¥" title="">                </div>                <div class="image-caption">åœ¨å…¬å¸æœ€åä¸€å¤©çš„é¡¹ç›®æ±‡æŠ¥</div>            </figure><p>è‡³äºä¸ºä»€ä¹ˆå¦æ‰æˆ‘ä»¬â€¦å„ç§å› ç´ â€¦ä¸æƒ³æ˜è¯´äº†â€¦æœ‰ç‚¹å®˜å®¦é£æ ¼â€¦å„ä½çœ‹å®¢è‡ªå·±æƒ³è±¡å§â€¦</p><h2 id="ä¸‹ä¸€æ­¥ï¼Œå†è¿›ç«™"><a href="#ä¸‹ä¸€æ­¥ï¼Œå†è¿›ç«™" class="headerlink" title="ä¸‹ä¸€æ­¥ï¼Œå†è¿›ç«™"></a>ä¸‹ä¸€æ­¥ï¼Œå†è¿›ç«™</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173ad86919.jpg" alt="åå°„" title="">                </div>                <div class="image-caption">åå°„</div>            </figure><p>è¿™ä¸€è¶Ÿå®ä¹ ä¸‹æ¥ï¼Œå¯ä»¥è¯´å½»åº•æ”¹å˜äº†æˆ‘æ›¾ç»å¯¹è‡ªå·±çš„çœ‹æ³•â€¦</p><p>æ€»çš„æ¥è¯´ï¼Œè¿‡å»æˆ‘å¸¸å¸¸è§†çº¿è¿‡åº¦çŸ­æµ…â€¦åœ¨å¯¹è‡ªå·±äººç”Ÿçš„è§„åˆ’ä¸Šä¹Ÿè¿‡äºä¿å®ˆå§â€¦</p><p>äº‹å®ä¸Šï¼Œä¸€ä¸ªäººæ‰€çœ‹åˆ°çš„å¾€å¾€æ˜¯ç‹­çª„çš„ï¼Œé€šè¿‡ä¸æ–­çš„æ¥è§¦é«˜å±‚æ¬¡çš„äººå’Œäº‹ç‰©æ‰èƒ½è®©è‡ªå·±å˜å¾—æ›´openã€‚</p><p>å†³å®šäº†è€ƒç ”ï¼Œä¹Ÿçœ‹æ¸…äº†å›½å†…çš„äº’è”ç½‘ç¯å¢ƒçš„è™šå®â€¦å¸Œæœ›è‡ªå·±èƒ½ä»˜æœ‰æ‰€å¾—â€¦</p><p>å¦‚æœæœ‰æœºä¼šï¼Œè¿˜æ˜¯å»æ¥è§¦æ¥è§¦æŠ€æœ¯åŸå§‹åœ°ç†é™¶ç†é™¶å§â€¦</p><h2 id="æœªæ¥å¯æœŸ"><a href="#æœªæ¥å¯æœŸ" class="headerlink" title="æœªæ¥å¯æœŸ"></a>æœªæ¥å¯æœŸ</h2><p>åœ¨å¤§å­¦é‡Œçš„ä¸‰å¹´å†ç®—ä¸Šå®ä¹ çš„ç»å†â€¦å°è¯•äº†äº’è”ç½‘å¼€å‘çš„å¾ˆå¤šæ–¹å‘â€¦</p><p>æœ€ç»ˆå¸å¼•æˆ‘çš„å¹¶ä¸æ˜¯å„ç§æ¡†æ¶ç‚«æŠ€çš„å¼€å‘â€¦è€Œæ˜¯èƒ½èµ‹äºˆåº”ç”¨çµé­‚çš„äººå·¥æ™ºèƒ½æ–¹å‘â€¦</p><p>å¤§æ¦‚æœªæ¥çš„å‘å±•æ–¹å‘ä¹Ÿå°±å®šåœ¨è¿™æ ·çš„è¶‹åŠ¿äº†â€¦</p><p><strong>ç»§ç»­è¡Œèµ°ï¼Œæœªæ¥å¯æœŸã€‚</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173ac9ba83.jpg" alt="ç¦»å¼€é‚£å¤©å¤©æ°”å¾ˆå¥½" title="">                </div>                <div class="image-caption">ç¦»å¼€é‚£å¤©å¤©æ°”å¾ˆå¥½</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/08/25/5b8173a5c08cd.jpg" alt="æœªæ¥å¯æœŸ" title="">                </div>                <div class="image-caption">æœªæ¥å¯æœŸ</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä»Šå¤©ï¼Œæ˜¯æˆ‘21å²çš„ç”Ÿæ—¥ã€‚&lt;br&gt;åœ¨ä¸€ä¸ªåŠæœˆå‰æˆ‘è¾èŒäº†ï¼Œä½†å‡†ç¡®çš„è¯´æ˜¯è¢«åŠ¨å¼è¾èŒã€‚&lt;br&gt;ç°åœ¨çœ‹æ¥è¿™æ˜¯ä¸€ä»¶å¥½äº‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div 
      
    
    </summary>
    
    
      <category term="Inspire" scheme="https://edward7zhang.github.io/tags/Inspire/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºTensorFlowçš„CNNä¸­æ–‡æ–‡æœ¬åˆ†ç±»</title>
    <link href="https://edward7zhang.github.io/2018/05/20/%E5%9F%BA%E4%BA%8ETensorFlow%E7%9A%84CNN%E4%B8%AD%E6%96%87%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/"/>
    <id>https://edward7zhang.github.io/2018/05/20/åŸºäºTensorFlowçš„CNNä¸­æ–‡æ–‡æœ¬åˆ†ç±»/</id>
    <published>2018-05-20T10:00:07.000Z</published>
    <updated>2018-05-20T10:50:21.054Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>CNNåœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸå–å¾—äº†å¾ˆå¥½çš„ç»“æœï¼ŒåŒæ—¶å®ƒå¯ä»¥åº”ç”¨åœ¨æ–‡æœ¬åˆ†ç±»ä¸Šé¢ï¼Œæ­¤æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨tensorflowå®ç°æ­¤ä»»åŠ¡ã€‚</p></blockquote><h1 id="CNNå®ç°æ–‡æœ¬åˆ†ç±»çš„åŸç†"><a href="#CNNå®ç°æ–‡æœ¬åˆ†ç±»çš„åŸç†" class="headerlink" title="CNNå®ç°æ–‡æœ¬åˆ†ç±»çš„åŸç†"></a>CNNå®ç°æ–‡æœ¬åˆ†ç±»çš„åŸç†</h1><p>ä¸‹å›¾å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨cnnè¿›è¡Œå¥å­åˆ†ç±»ã€‚è¾“å…¥æ˜¯ä¸€ä¸ªå¥å­ï¼Œä¸ºäº†ä½¿å…¶å¯ä»¥è¿›è¡Œå·ç§¯ï¼Œé¦–å…ˆéœ€è¦å°†å…¶è½¬åŒ–ä¸ºå‘é‡è¡¨ç¤ºï¼Œé€šå¸¸ä½¿ç”¨word2vecå®ç°ã€‚d=5è¡¨ç¤ºæ¯ä¸ªè¯è½¬åŒ–ä¸º5ç»´çš„å‘é‡ï¼ŒçŸ©é˜µçš„å½¢çŠ¶æ˜¯[sentence_length Ã—Ã— 5]ï¼Œå³[7 Ã—Ã— 5]ã€‚6ä¸ªfilterï¼ˆå·ç§¯æ ¸ï¼‰ï¼Œä¸å›¾åƒä¸­ä½¿ç”¨çš„å·ç§¯æ ¸ä¸åŒçš„æ˜¯ï¼Œnlpä½¿ç”¨çš„å·ç§¯æ ¸çš„å®½ä¸å¥å­çŸ©é˜µçš„å®½ç›¸åŒï¼Œåªæ˜¯é•¿åº¦ä¸åŒã€‚è¿™é‡Œæœ‰ï¼ˆ2ï¼Œ3ï¼Œ4ï¼‰ä¸‰ç§sizeï¼Œæ¯ç§sizeæœ‰ä¸¤ä¸ªfilterï¼Œä¸€å…±æœ‰6ä¸ªfilterã€‚ç„¶åå¼€å§‹å·ç§¯ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œstrideæ˜¯1ï¼Œå› ä¸ºå¯¹äºé«˜æ˜¯4çš„filterï¼Œæœ€åç”Ÿæˆ4ç»´çš„å‘é‡ï¼Œï¼ˆ7-4ï¼‰/1+1=4ã€‚å¯¹äºé«˜æ˜¯3çš„filterï¼Œæœ€åç”Ÿæˆ5ç»´çš„å‘é‡ï¼Œï¼ˆ7-3ï¼‰/1+1=5ã€‚å·ç§¯ä¹‹åï¼Œæˆ‘ä»¬å¾—åˆ°å¥å­çš„ç‰¹å¾ï¼Œä½¿ç”¨activation functionå’Œ1-max-poolingå¾—åˆ°æœ€åçš„å€¼ï¼Œæ¯ä¸ªfilteræœ€åå¾—åˆ°ä¸¤ä¸ªç‰¹å¾ã€‚å°†æ‰€æœ‰ç‰¹å¾åˆå¹¶åï¼Œä½¿ç”¨softmaxè¿›è¡Œåˆ†ç±»ã€‚å›¾ä¸­æ²¡æœ‰ç”¨åˆ°chanel,ä¸‹æ–‡çš„å®éªŒå°†ä¼šä½¿ç”¨ä¸¤ä¸ªé€šé“ï¼Œstaticå’Œnon-staticï¼Œæœ‰ç›¸å…³çš„å…·ä½“è§£é‡Šã€‚<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://d3kbpzbmcynnmx.cloudfront.net/wp-content/uploads/2015/11/Screen-Shot-2015-11-06-at-12.05.40-PM-1024x937.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="">                </div>                <div class="image-caption">è¿™é‡Œå†™å›¾ç‰‡æè¿°</div>            </figure></p><h1 id="æœ¬æ–‡ä½¿ç”¨çš„æ¨¡å‹"><a href="#æœ¬æ–‡ä½¿ç”¨çš„æ¨¡å‹" class="headerlink" title="æœ¬æ–‡ä½¿ç”¨çš„æ¨¡å‹"></a>æœ¬æ–‡ä½¿ç”¨çš„æ¨¡å‹</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://d3kbpzbmcynnmx.cloudfront.net/wp-content/uploads/2015/11/Screen-Shot-2015-11-06-at-8.03.47-AM-1024x413.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="">                </div>                <div class="image-caption">è¿™é‡Œå†™å›¾ç‰‡æè¿°</div>            </figure><p>ä¸»è¦åŒ…æ‹¬äº”å±‚ï¼Œç¬¬ä¸€å±‚æ˜¯embedding layer,ç¬¬äºŒå±‚æ˜¯convolutional layer,ç¬¬ä¸‰å±‚æ˜¯max-pooling layer,ç¬¬å››å±‚æ˜¯fully connected layerï¼Œæœ€åä¸€å±‚æ˜¯softmax layer.æ¥ä¸‹æ¥ä¾æ¬¡ä»‹ç»ç›¸å…³ä»£ç å®ç°ã€‚</p><h2 id="Input-placeholder"><a href="#Input-placeholder" class="headerlink" title="Input placeholder"></a>Input placeholder</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Placeholders for input, output and dropout</div><div class="line">self.input_x = tf.placeholder(tf.int32, [None, sequence_length], name=&quot;input_x&quot;)</div><div class="line">self.input_y = tf.placeholder(tf.float32, [None, num_classes], name=&quot;input_y&quot;)</div><div class="line">self.dropout_keep_prob = tf.placeholder(tf.float32, name=&quot;dropout_keep_prob&quot;)</div></pre></td></tr></table></figure><p><code>tf.placeholder</code> åˆ›å»ºä¸€ä¸ªå ä½ç¬¦å˜é‡ï¼Œåœ¨è®­ç»ƒæˆ–è€…æµ‹è¯•çš„æ—¶å€™ï¼Œéœ€è¦å°†å ä½ç¬¦è¾“å…¥åˆ°ç½‘ç»œä¸­è¿›è¡Œè®¡ç®—ï¼Œå…¶ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å…¥å¼ é‡çš„å½¢çŠ¶ã€‚None æ„å‘³ç€å®ƒå¯ä»¥æ˜¯ä»»ä½•ç»´åº¦çš„é•¿åº¦ï¼Œåœ¨æˆ‘ä»¬çš„å®éªŒä¸­å®ƒä»£è¡¨æ‰¹å¤„ç†çš„å¤§å°ï¼ŒNoneä½¿å¾—ç½‘ç»œå¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„batchesã€‚<br>å¤±æ´»ç‡åŒæ ·ä¹Ÿæ˜¯è¾“å…¥çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨è®­ç»ƒçš„æ—¶å€™ä½¿ç”¨dropout ï¼Œæµ‹è¯•çš„æ—¶å€™ä¸ä½¿ç”¨dropout ã€‚</p><h2 id="EMBEDDING-LAYER"><a href="#EMBEDDING-LAYER" class="headerlink" title="EMBEDDING LAYER"></a>EMBEDDING LAYER</h2><p>è¿™ä¸€å±‚å°†å•è¯ç´¢å¼•æ˜ å°„åˆ°ä½ç»´çš„å‘é‡è¡¨ç¤ºï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŸ¥æ‰¾è¡¨ï¼Œæˆ‘ä»¬ä»æ•°æ®ä¸­é€šè¿‡å­¦ä¹ å¾—åˆ°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">with tf.device(&apos;/cpu:0&apos;), tf.name_scope(&quot;embedding&quot;):</div><div class="line">    W = tf.Variable(tf.random_uniform([vocab_size, embedding_size], -1.0, 1.0), name=&quot;W&quot;)</div><div class="line">    self.embedded_chars = tf.nn.embedding_lookup(W, self.input_x)</div><div class="line">    self.embedded_chars_expanded = tf.expand_dims(self.embedded_chars, -1)</div></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>W</code> æ˜¯ åœ¨è®­ç»ƒæ—¶å¾—åˆ°çš„embedding matrix.ï¼Œç”¨éšæœºå‡åŒ€åˆ†å¸ƒè¿›è¡Œåˆå§‹åŒ–ã€‚<a href="http://blog.csdn.net/u013713117/article/details/55048040" target="_blank" rel="external">tf.nn.embedding_lookup</a>å®ç°embeddingæ“ä½œï¼Œå¾—åˆ° ä¸€ä¸ª3-dimensional çš„å¼ é‡ï¼Œå½¢çŠ¶æ˜¯ <code>[None, sequence_length, embedding_size].</code> <code>sequence_length</code> æ˜¯æ•°æ®é›†ä¸­æœ€é•¿å¥å­çš„é•¿åº¦ï¼Œå…¶ä»–å¥å­éƒ½é€šè¿‡æ·»åŠ â€œPADâ€è¡¥å……åˆ°è¿™ä¸ªé•¿åº¦ã€‚<code>embedding_size</code> æ˜¯è¯å‘é‡çš„å¤§å°ã€‚</p><p>TensorFlowçš„å·ç§¯å‡½æ•°-<code>conv2d</code> éœ€è¦å››ä¸ªå‚æ•°ï¼Œ åˆ†åˆ«æ˜¯batch, width, height ä»¥åŠchannelã€‚ embeddingä¹‹åä¸åŒ…æ‹¬ channel, æ‰€ä»¥æˆ‘ä»¬äººä¸ºåœ°æ·»åŠ ä¸Šå®ƒï¼Œå¹¶è®¾ç½®ä¸º1ã€‚ç°åœ¨å°±æ˜¯<code>[None, sequence_length, embedding_size, 1]</code></p><h2 id="CONVOLUTION-AND-MAX-POOLING-LAYERS"><a href="#CONVOLUTION-AND-MAX-POOLING-LAYERS" class="headerlink" title="CONVOLUTION AND MAX-POOLING LAYERS"></a>CONVOLUTION AND MAX-POOLING LAYERS</h2><p>ç”±å›¾ä¸­å¯çŸ¥ï¼Œ æˆ‘ä»¬æœ‰ä¸åŒsizeçš„filtersã€‚å› ä¸ºæ¯æ¬¡å·ç§¯éƒ½ä¼šäº§ç”Ÿä¸åŒå½¢çŠ¶çš„å¼ é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦éå†æ¯ä¸ªfilterï¼Œç„¶åå°†ç»“æœåˆå¹¶æˆä¸€ä¸ªå¤§çš„ç‰¹å¾å‘é‡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">pooled_outputs = []</div><div class="line">for i, filter_size in enumerate(filter_sizes):</div><div class="line">    with tf.name_scope(&quot;conv-maxpool-%s&quot; % filter_size):</div><div class="line">        # Convolution Layer</div><div class="line">        filter_shape = [filter_size, embedding_size, 1, num_filters]</div><div class="line">        W = tf.Variable(tf.truncated_normal(filter_shape, stddev=0.1), name=&quot;W&quot;)</div><div class="line">        b = tf.Variable(tf.constant(0.1, shape=[num_filters]), name=&quot;b&quot;)</div><div class="line">        conv = tf.nn.conv2d(</div><div class="line">            self.embedded_chars_expanded,</div><div class="line">            W,</div><div class="line">            strides=[1, 1, 1, 1],</div><div class="line">            padding=&quot;VALID&quot;,</div><div class="line">            name=&quot;conv&quot;)</div><div class="line">        # Apply nonlinearity</div><div class="line">        h = tf.nn.relu(tf.nn.bias_add(conv, b), name=&quot;relu&quot;)</div><div class="line">        # Max-pooling over the outputs</div><div class="line">        pooled = tf.nn.max_pool(</div><div class="line">            h,</div><div class="line">            ksize=[1, sequence_length - filter_size + 1, 1, 1],</div><div class="line">            strides=[1, 1, 1, 1],</div><div class="line">            padding=&apos;VALID&apos;,</div><div class="line">            name=&quot;pool&quot;)</div><div class="line">        pooled_outputs.append(pooled)</div><div class="line"></div><div class="line"># Combine all the pooled features</div><div class="line">num_filters_total = num_filters * len(filter_sizes)</div><div class="line">self.h_pool = tf.concat(3, pooled_outputs)</div><div class="line">self.h_pool_flat = tf.reshape(self.h_pool, [-1, num_filters_total])</div></pre></td></tr></table></figure><p>è¿™é‡Œ<code>W</code> æ˜¯filter çŸ©é˜µï¼Œ<code>h</code> æ˜¯å¯¹å·ç§¯ç»“æœè¿›è¡Œéçº¿æ€§è½¬æ¢ä¹‹åçš„ç»“æœã€‚æ¯ä¸ª filteréƒ½ä»æ•´ä¸ªembeddingåˆ’è¿‡,ä¸åŒä¹‹å¤„åœ¨äºè¦†ç›–å¤šå°‘å•è¯ã€‚ â€œVALIDâ€ paddingæ„å‘³ç€æ²¡æœ‰å¯¹å¥å­çš„è¾¹ç¼˜è¿›è¡Œpadding,ä¹Ÿå°±æ˜¯ç”¨äº†narrow convolutionï¼Œè¾“å‡ºçš„å½¢çŠ¶æ˜¯ <code>[1, sequence_length - filter_size + 1, 1, 1]</code>ã€‚narrow convolutionä¸ wide convolutionçš„åŒºåˆ«æ˜¯æ˜¯å¦å¯¹è¾¹ç¼˜è¿›è¡Œå¡«å……ã€‚<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://d3kbpzbmcynnmx.cloudfront.net/wp-content/uploads/2015/11/Screen-Shot-2015-11-05-at-9.47.41-AM-1024x261.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="">                </div>                <div class="image-caption">è¿™é‡Œå†™å›¾ç‰‡æè¿°</div>            </figure><br><em>Narrow vs. Wide Convolution. Filter size 5, input size 7. Source: A Convolutional Neural Network for Modelling Sentences (2014)</em><br>å½“ä½ çš„filteræ¯”è¾“å…¥çš„sizeè¿˜å¤§æ—¶ï¼Œä½ å¯ä»¥çœ‹åˆ°wide convolutionæ˜¯å¤šä¹ˆçš„æœ‰ç”¨ï¼Œç”šè‡³è¯´æ˜¯å¿…é¡»çš„ã€‚å¦‚ä¸Šæ‰€ç¤ºï¼Œnarrow convolutionäº§å‡ºçš„å°ºå¯¸æ˜¯ï¼ˆ7-5ï¼‰+1=3ï¼Œè€Œwide convolutionäº§å‡ºå°ºå¯¸æ˜¯ï¼ˆ7+2*4-5ï¼‰+1=11ã€‚é€šå¸¸ï¼Œè¾“å‡ºå°ºå¯¸çš„è§„åˆ™è¡¨è¾¾å¼ä¸ºï¼š<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://img-blog.csdn.net/20161218225721289?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbGl1eXVlbWFpY2hh/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="">                </div>                <div class="image-caption">è¿™é‡Œå†™å›¾ç‰‡æè¿°</div>            </figure><br>å¯¹è¾“å‡ºè¿›è¡Œmax-poolingåå¾—åˆ°å½¢çŠ¶æ˜¯ <code>[batch_size, 1, 1, num_filters]</code> çš„å¼ é‡ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œæœ€åä¸€ä¸ªç»´åº¦æ˜¯ç‰¹å¾ä»£è¡¨æ•°é‡ã€‚æŠŠæ¯ä¸€ä¸ªmax-poolingä¹‹åçš„å¼ é‡åˆå¹¶èµ·æ¥ä¹‹åå¾—åˆ°ä¸€ä¸ªé•¿å‘é‡ <code>[batch_size, num_filters_total]</code>. in <code>tf.reshape</code> ä¸­çš„ -1è¡¨ç¤ºTå°†å‘é‡å±•å¹³ã€‚</p><h2 id="DROPOUT-LAYER"><a href="#DROPOUT-LAYER" class="headerlink" title="DROPOUT LAYER"></a>DROPOUT LAYER</h2><p>Dropoutä¹Ÿè®¸æ˜¯cnnä¸­æœ€æµè¡Œçš„æ­£åˆ™åŒ–æ–¹æ³•ã€‚dropoutçš„æƒ³æ³•å¾ˆç®€å•ï¼Œdropout layeréšæœºåœ°é€‰æ‹©ä¸€äº›ç¥ç»å…ƒï¼Œä½¿å…¶å¤±æ´»ã€‚è¿™æ ·å¯ä»¥é˜»æ­¢co-adapting,è¿«ä½¿å®ƒä»¬æ¯ä¸€ä¸ªéƒ½å­¦ä¹ åˆ°æœ‰ç”¨çš„ç‰¹å¾ã€‚å¤±æ´»çš„ç¥ç»å•å…ƒä¸ªæ•°ç”±<code>dropout_keep_prob</code> å†³å®šã€‚åœ¨è®­ç»ƒçš„æ—¶å€™è®¾ä¸º 0.5 ,æµ‹è¯•çš„æ—¶å€™è®¾ä¸º 1 (disable dropout) .</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># Add dropout</div><div class="line">with tf.name_scope(&quot;dropout&quot;):</div><div class="line">    self.h_drop = tf.nn.dropout(self.h_pool_flat, self.dropout_keep_prob)</div></pre></td></tr></table></figure><h2 id="SCORES-AND-PREDICTIONS"><a href="#SCORES-AND-PREDICTIONS" class="headerlink" title="SCORES AND PREDICTIONS"></a>SCORES AND PREDICTIONS</h2><p>åˆ©ç”¨ç‰¹å¾å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çŸ©é˜µç›¸ä¹˜è®¡ç®—ä¸¤ç±»çš„å¾—åˆ†ï¼Œä¹Ÿå¯ä»¥ç”¨ softmaxå‡½æ•°è®¡ç®—ä¸¤ç±»çš„æ¦‚ç‡å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">with tf.name_scope(&quot;output&quot;):</div><div class="line">    W = tf.Variable(tf.truncated_normal([num_filters_total, num_classes], stddev=0.1), name=&quot;W&quot;)</div><div class="line">    b = tf.Variable(tf.constant(0.1, shape=[num_classes]), name=&quot;b&quot;)</div><div class="line">    self.scores = tf.nn.xw_plus_b(self.h_drop, W, b, name=&quot;scores&quot;)</div><div class="line">    self.predictions = tf.argmax(self.scores, 1, name=&quot;predictions&quot;)</div></pre></td></tr></table></figure><h2 id="LOSS-AND-ACCURACY"><a href="#LOSS-AND-ACCURACY" class="headerlink" title="LOSS AND ACCURACY"></a>LOSS AND ACCURACY</h2><p>å¯ä»¥ç”¨å¾—åˆ†å®šä¹‰æŸå¤±å€¼ã€‚æŸå¤±è®¡ç®—çš„æ˜¯ç½‘ç»œçš„è¯¯å·®ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†å…¶æœ€å°åŒ–ï¼Œåˆ†ç±»é—®é¢˜æ ‡å‡†çš„æŸå¤±å‡½æ•°æ˜¯äº¤å‰ç†µæŸå¤±ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Calculate mean cross-entropy loss</div><div class="line">with tf.name_scope(&quot;loss&quot;):</div><div class="line">    losses = tf.nn.softmax_cross_entropy_with_logits(self.scores, self.input_y)</div><div class="line">    self.loss = tf.reduce_mean(losses)</div></pre></td></tr></table></figure><p>è®¡ç®—æ­£ç¡®ç‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Calculate Accuracy</div><div class="line">with tf.name_scope(&quot;accuracy&quot;):</div><div class="line">    correct_predictions = tf.equal(self.predictions, tf.argmax(self.input_y, 1))</div><div class="line">    self.accuracy = tf.reduce_mean(tf.cast(correct_predictions, &quot;float&quot;), name=&quot;accuracy&quot;)</div></pre></td></tr></table></figure><h2 id="MINIMIZING-THE-LOSS"><a href="#MINIMIZING-THE-LOSS" class="headerlink" title="MINIMIZING THE LOSS"></a>MINIMIZING THE LOSS</h2><p>åˆ©ç”¨TensorFlow å†…ç½®çš„optimizersï¼Œä¾‹å¦‚ Adam optimizerï¼Œä¼˜åŒ–ç½‘ç»œæŸå¤±ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">global_step = tf.Variable(0, name=&quot;global_step&quot;, trainable=False)</div><div class="line">optimizer = tf.train.AdamOptimizer(1e-4)</div><div class="line">grads_and_vars = optimizer.compute_gradients(cnn.loss)</div><div class="line">train_op = optimizer.apply_gradients(grads_and_vars, global_step=global_step)</div></pre></td></tr></table></figure><p><code>train_op</code> æ˜¯ä¸€ä¸ªæ–°å»ºçš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°ä¸Šè¿›è¡Œæ¢¯åº¦æ›´æ–°ã€‚æ¯æ‰§è¡Œä¸€æ¬¡ <code>train_op</code> å°±æ˜¯ä¸€æ¬¡è®­ç»ƒæ­¥éª¤ã€‚ TensorFlow å¯ä»¥è‡ªåŠ¨åœ°è®¡ç®—æ‰é‚£äº›å˜é‡æ˜¯â€œå¯è®­ç»ƒçš„â€ç„¶åè®¡ç®—ä»–ä»¬çš„æ¢¯åº¦ã€‚é€šè¿‡<code>global_step</code>è¿™ä¸ªå˜é‡å¯ä»¥è®¡ç®—è®­ç»ƒçš„æ­¥æ•°ï¼Œæ¯è®­ç»ƒä¸€æ¬¡è‡ªåŠ¨åŠ ä¸€ã€‚</p><h2 id="CHECKPOINTING"><a href="#CHECKPOINTING" class="headerlink" title="CHECKPOINTING"></a>CHECKPOINTING</h2><p>TensorFlow ä¸­å¯ä»¥ç”¨checkpointing ä¿å­˜æ¨¡å‹çš„å‚æ•°ã€‚checkpointingä¸­çš„å‚æ•°ä¹Ÿå¯ä»¥ç”¨æ¥ç»§ç»­è®­ç»ƒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># Checkpointing</div><div class="line">checkpoint_dir = os.path.abspath(os.path.join(out_dir, &quot;checkpoints&quot;))</div><div class="line">checkpoint_prefix = os.path.join(checkpoint_dir, &quot;model&quot;)</div><div class="line"># Tensorflow assumes this directory already exists so we need to create it</div><div class="line">if not os.path.exists(checkpoint_dir):</div><div class="line">    os.makedirs(checkpoint_dir)</div><div class="line">saver = tf.train.Saver(tf.all_variables())</div></pre></td></tr></table></figure><h2 id="DEFINING-A-SINGLE-TRAINING-STEP"><a href="#DEFINING-A-SINGLE-TRAINING-STEP" class="headerlink" title="DEFINING A SINGLE TRAINING STEP"></a>DEFINING A SINGLE TRAINING STEP</h2><p>ç”¨ä¸€ä¸ªbatchçš„æ•°æ®è¿›è¡Œä¸€æ¬¡è®­ç»ƒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">def train_step(x_batch, y_batch):</div><div class="line">    &quot;&quot;&quot;</div><div class="line">    A single training step</div><div class="line">    &quot;&quot;&quot;</div><div class="line">    feed_dict = &#123;</div><div class="line">      cnn.input_x: x_batch,</div><div class="line">      cnn.input_y: y_batch,</div><div class="line">      cnn.dropout_keep_prob: FLAGS.dropout_keep_prob</div><div class="line">    &#125;</div><div class="line">    _, step, summaries, loss, accuracy = sess.run(</div><div class="line">        [train_op, global_step, train_summary_op, cnn.loss, cnn.accuracy],</div><div class="line">        feed_dict)</div><div class="line">    time_str = datetime.datetime.now().isoformat()</div><div class="line">    print(&quot;&#123;&#125;: step &#123;&#125;, loss &#123;:g&#125;, acc &#123;:g&#125;&quot;.format(time_str, step, loss, accuracy))</div><div class="line">    train_summary_writer.add_summary(summaries, step)</div></pre></td></tr></table></figure><p><code>train_op</code> ä»€ä¹ˆä¹Ÿä¸è¿”å›ï¼Œåªæ˜¯æ›´æ–°ç½‘ç»œä¸­çš„å‚æ•°ã€‚æœ€ç»ˆï¼Œæ‰“å°å‡ºå½“å‰è®­ç»ƒçš„æŸå¤±å€¼ä¸æ­£ç¡®ç‡ã€‚å¦‚æœbatchçš„sizeå¾ˆå°çš„è¯ï¼Œè¿™ä¸¤è€…åœ¨ä¸åŒçš„batchä¸­å·®åˆ«å¾ˆå¤§ã€‚å› ä¸ºä½¿ç”¨äº†dropoutï¼Œè®­ç»ƒçš„metricså¯èƒ½è¦æ¯”æµ‹è¯•çš„metricsç³Ÿç³•ã€‚</p><p>åŒæ ·çš„å‡½æ•°ä¹Ÿå¯ä»¥ç”¨åœ¨æµ‹è¯•æ—¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">def dev_step(x_batch, y_batch, writer=None):</div><div class="line">    &quot;&quot;&quot;</div><div class="line">    Evaluates model on a dev set</div><div class="line">    &quot;&quot;&quot;</div><div class="line">    feed_dict = &#123;</div><div class="line">      cnn.input_x: x_batch,</div><div class="line">      cnn.input_y: y_batch,</div><div class="line">      cnn.dropout_keep_prob: 1.0</div><div class="line">    &#125;</div><div class="line">    step, summaries, loss, accuracy = sess.run(</div><div class="line">        [global_step, dev_summary_op, cnn.loss, cnn.accuracy],</div><div class="line">        feed_dict)</div><div class="line">    time_str = datetime.datetime.now().isoformat()</div><div class="line">    print(&quot;&#123;&#125;: step &#123;&#125;, loss &#123;:g&#125;, acc &#123;:g&#125;&quot;.format(time_str, step, loss, accuracy))</div><div class="line">    if writer:</div><div class="line">        writer.add_summary(summaries, step)</div></pre></td></tr></table></figure><h2 id="TRAINING-LOOP"><a href="#TRAINING-LOOP" class="headerlink" title="TRAINING LOOP"></a>TRAINING LOOP</h2><p>é€šè¿‡è¿­ä»£æ•°æ®è¿›è¡Œè®­ç»ƒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># Generate batches</div><div class="line">batches = data_helpers.batch_iter(</div><div class="line">    zip(x_train, y_train), FLAGS.batch_size, FLAGS.num_epochs)</div><div class="line"># Training loop. For each batch...</div><div class="line">for batch in batches:</div><div class="line">    x_batch, y_batch = zip(*batch)</div><div class="line">    train_step(x_batch, y_batch)</div><div class="line">    current_step = tf.train.global_step(sess, global_step)</div><div class="line">    if current_step % FLAGS.evaluate_every == 0:</div><div class="line">        print(&quot;\nEvaluation:&quot;)</div><div class="line">        dev_step(x_dev, y_dev, writer=dev_summary_writer)</div><div class="line">        print(&quot;&quot;)</div><div class="line">    if current_step % FLAGS.checkpoint_every == 0:</div><div class="line">        path = saver.save(sess, checkpoint_prefix, global_step=current_step)</div><div class="line">        print(&quot;Saved model checkpoint to &#123;&#125;\n&quot;.format(path))</div></pre></td></tr></table></figure><h2 id="VISUALIZING-RESULTS-IN-TENSORBOARD"><a href="#VISUALIZING-RESULTS-IN-TENSORBOARD" class="headerlink" title="VISUALIZING RESULTS IN TENSORBOARD"></a>VISUALIZING RESULTS IN TENSORBOARD</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://d3kbpzbmcynnmx.cloudfront.net/wp-content/uploads/2015/12/Screen-Shot-2015-12-11-at-6.29.14-AM-1024x347.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="">                </div>                <div class="image-caption">è¿™é‡Œå†™å›¾ç‰‡æè¿°</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://d3kbpzbmcynnmx.cloudfront.net/wp-content/uploads/2015/12/Screen-Shot-2015-12-11-at-6.27.48-AM-1024x350.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="">                </div>                <div class="image-caption">è¿™é‡Œå†™å›¾ç‰‡æè¿°</div>            </figure><p>ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°:</p><ul><li>æˆ‘ä»¬çš„è®­ç»ƒ metricsä¸å¹³æ»‘ï¼Œå› ä¸ºç”¨çš„batch sizeså¾ˆå°ã€‚å¦‚æœç”¨å¤§çš„batches (æˆ–è€…åœ¨æ•´ä¸ªæµ‹è¯•é›†ä¸Šè¿›è¡Œè¯„ä¼°)ï¼Œä¼šå¾—åˆ°å¹³æ»‘çš„çº¿ã€‚</li><li>æµ‹è¯•é›†çš„ accuracyæ˜æ˜¾æ¯”è®­ç»ƒé›†çš„ä½ï¼Œè¯´æ˜ç½‘ç»œè¿‡æ‹Ÿåˆäº†ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨æ›´å¤§çš„æ•°æ®é›†ï¼Œæ›´å¼ºçš„æ­£åˆ™åŒ–ï¼Œæ›´å°‘çš„æ¨¡å‹å‚æ•°ã€‚</li><li>è®­ç»ƒé›†ä¸Šçš„ loss å’Œ accuracyæ¯”æµ‹è¯•é›†ä½çš„åŸå› æ˜¯ç”¨äº†dropout.</li></ul><h1 id="å‚è€ƒï¼šhttp-www-wildml-com-2015-12-implementing-a-cnn-for-text-classification-in-tensorflow"><a href="#å‚è€ƒï¼šhttp-www-wildml-com-2015-12-implementing-a-cnn-for-text-classification-in-tensorflow" class="headerlink" title="å‚è€ƒï¼šhttp://www.wildml.com/2015/12/implementing-a-cnn-for-text-classification-in-tensorflow/"></a>å‚è€ƒï¼š<a href="http://www.wildml.com/2015/12/implementing-a-cnn-for-text-classification-in-tensorflow/" target="_blank" rel="external">http://www.wildml.com/2015/12/implementing-a-cnn-for-text-classification-in-tensorflow/</a></h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;CNNåœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸå–å¾—äº†å¾ˆå¥½çš„ç»“æœï¼ŒåŒæ—¶å®ƒå¯ä»¥åº”ç”¨åœ¨æ–‡æœ¬åˆ†ç±»ä¸Šé¢ï¼Œæ­¤æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨tensorflowå®ç°æ­¤ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;CNNå®ç°æ–‡æœ¬åˆ†ç±»çš„åŸç†&quot;&gt;&lt;a href=&quot;#CNNå®ç°æ–‡æœ¬åˆ†ç±»çš„åŸç†
      
    
    </summary>
    
    
      <category term="TensorFlow" scheme="https://edward7zhang.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>å®éªŒå®¤æ‹›æ–°é¢˜ç›®â‘¡</title>
    <link href="https://edward7zhang.github.io/2018/05/08/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%8B%9B%E6%96%B0%E9%A2%98%E7%9B%AE(2)/"/>
    <id>https://edward7zhang.github.io/2018/05/08/å®éªŒå®¤æ‹›æ–°é¢˜ç›®(2)/</id>
    <published>2018-05-08T10:00:07.000Z</published>
    <updated>2018-05-08T16:09:44.840Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç«è½¦è£…ç®±"><a href="#ç«è½¦è£…ç®±" class="headerlink" title="ç«è½¦è£…ç®±"></a>ç«è½¦è£…ç®±</h1><hr><h2 id="ç°æœ‰ä¸€æ‰¹ç«è½¦è½¦å¢éœ€è¦æŒ‰ç…§æ¯èŠ‚è½¦å¢ä¸­æ‰€å«è´§ç‰©æ•°é‡è¿›è¡Œè¿æ¥å‘è½¦"><a href="#ç°æœ‰ä¸€æ‰¹ç«è½¦è½¦å¢éœ€è¦æŒ‰ç…§æ¯èŠ‚è½¦å¢ä¸­æ‰€å«è´§ç‰©æ•°é‡è¿›è¡Œè¿æ¥å‘è½¦" class="headerlink" title="ç°æœ‰ä¸€æ‰¹ç«è½¦è½¦å¢éœ€è¦æŒ‰ç…§æ¯èŠ‚è½¦å¢ä¸­æ‰€å«è´§ç‰©æ•°é‡è¿›è¡Œè¿æ¥å‘è½¦"></a>ç°æœ‰ä¸€æ‰¹ç«è½¦è½¦å¢éœ€è¦æŒ‰ç…§æ¯èŠ‚è½¦å¢ä¸­æ‰€å«è´§ç‰©æ•°é‡è¿›è¡Œè¿æ¥å‘è½¦</h2><h2 id="è¦æ±‚ï¼š"><a href="#è¦æ±‚ï¼š" class="headerlink" title="è¦æ±‚ï¼š"></a>è¦æ±‚ï¼š</h2><ul><li>å…¶ä¸­æ¯èŠ‚è½¦å¢ä¸­åŒ…å«ä¸¤ç§å…ƒç´  è½¦å¢å·ï¼š<code>TrainNum</code> ä»¥åŠæ‰€è£…è½½è´§ç‰©æ•°é‡ï¼š<code>GoodsNum</code>ï¼›</li><li>å…¶ä¸­æ¯èŠ‚è½¦å¢ä»¥<code>å‰è½¦å¢</code> -&gt; <code>åè½¦å¢</code> çš„å½¢å¼è¿›è¡Œè¿æ¥ï¼›</li><li>æŒ‰ç…§æ¯èŠ‚è½¦å¢çš„<code>GoodsNum</code>çš„é™åºè¿›è¡Œè¿æ¥ï¼›</li><li><p>è‡ªå®šä¹‰ä¸€ä¸ª<code>TrainCabin</code>æ•°æ®ç»“æ„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TrainCabin</span>&#123;</span></div><div class="line"></div><div class="line"><span class="comment">//TODO structure your struct</span></div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure></li><li><p>å†™å‡ºä¸€ä¸ªå‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function">TrainCabin* <span class="title">AssembleTraninCabin</span><span class="params">(TrainCabin* TrainList)</span></span>;</div><div class="line"><span class="comment">//é€‰æ‹©ä½ è®¤ä¸ºæ—¶é—´å¤æ‚åº¦æœ€å°çš„ç®—æ³•è¿›è¡Œç¼–ç </span></div></pre></td></tr></table></figure></li></ul><blockquote><p>è¿”å›å€¼ä¸ºå·²æŒ‰ç…§ä»¥ä¸Šè¦æ±‚æ’å¥½åºåçš„ç«è½¦é“¾è¡¨</p></blockquote><h2 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h2><ul><li>ç¬¬ä¸€ä¸ªå€¼ä¸º<code>TrainNum</code></li><li>ç¬¬äºŒä¸ªå€¼ä¸º<code>GoodsNum</code></li><li>ä¸­é—´ä»¥<code>|</code>åˆ†å‰²</li><li>è¾“å…¥<code>-1</code> ä»¥ç»“æŸè¾“å…¥</li></ul><h3 id="Inputï¼š"><a href="#Inputï¼š" class="headerlink" title="Inputï¼š"></a>Inputï¼š</h3><pre><code>1 | 32 | 53 | 74 | 25 | 0-1</code></pre><h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><ul><li>åœ¨æ§åˆ¶å°ä¸­æ‰“å°æ’å¥½åºçš„ç«è½¦åˆ—</li><li>æŒ‰ç…§ä»¥ä¸‹ç¤ºä¾‹æ ¼å¼</li></ul><h3 id="Outputï¼š"><a href="#Outputï¼š" class="headerlink" title="Outputï¼š"></a>Outputï¼š</h3><pre><code>| 3 | 7 | -&gt; | 2 | 5 | -&gt; | 1 | 3 | -&gt; | 4 | 2 | -&gt; | 5 | 0 |</code></pre><hr><h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p>éå¸¸åŸºç¡€çš„ä¸€é“è€ƒå¯Ÿæ•°æ®æŠ½è±¡ã€æ•°æ®ç»“æ„æ„é€ ã€æ’åºç®—æ³•ã€å•å‘é“¾è¡¨çš„ç®€å•é¢˜â€¦ä½†ä»Šå¤©çš„ç°åœºæƒ…å†µä¸å®¹ä¹è§‚<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TrainCabin</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">int</span> TrainNum;</div><div class="line"><span class="keyword">int</span> GoodsNum;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TrainCabin</span> *<span class="title">next</span>;</span></div><div class="line">&#125;TrainCabin;</div><div class="line"></div><div class="line"><span class="function">TrainCabin* <span class="title">AssembleTraninCabin</span><span class="params">(TrainCabin *TrainList)</span></span></div><div class="line">&#123;</div><div class="line">TrainCabin *i=TrainList;</div><div class="line">TrainCabin *j;</div><div class="line">TrainCabin *temp=(TrainCabin*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TrainCabin));</div><div class="line">temp-&gt;next=<span class="literal">NULL</span>;</div><div class="line"><span class="keyword">while</span>(i!=<span class="literal">NULL</span>)</div><div class="line">&#123;</div><div class="line">j=i-&gt;next;</div><div class="line"><span class="keyword">while</span>(j!=<span class="literal">NULL</span>)</div><div class="line">&#123;</div><div class="line"><span class="keyword">if</span>((*i).GoodsNum&gt;(*j).GoodsNum)</div><div class="line">&#123;</div><div class="line">(*temp).TrainNum=(*i).TrainNum;</div><div class="line">(*temp).GoodsNum=(*i).GoodsNum;</div><div class="line">(*i).TrainNum=(*j).TrainNum;</div><div class="line">(*i).GoodsNum=(*j).GoodsNum;</div><div class="line">(*j).TrainNum=(*temp).TrainNum;</div><div class="line">(*j).GoodsNum=(*temp).GoodsNum;</div><div class="line">&#125;</div><div class="line">j=j-&gt;next;</div><div class="line">&#125;</div><div class="line">i=i-&gt;next;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> TrainList;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(<span class="keyword">const</span> TrainCabin *TrainList)</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">while</span>(TrainList-&gt;next!=<span class="literal">NULL</span>)</div><div class="line">&#123;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"|"</span>&lt;&lt;(*TrainList).TrainNum&lt;&lt;<span class="string">"|"</span>&lt;&lt;(*TrainList).GoodsNum&lt;&lt;<span class="string">"| -&gt; "</span>;</div><div class="line">TrainList=TrainList-&gt;next;</div><div class="line">&#125;</div><div class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"|"</span>&lt;&lt;(*TrainList).TrainNum&lt;&lt;<span class="string">"|"</span>&lt;&lt;(*TrainList).GoodsNum&lt;&lt;<span class="string">"|"</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">int</span> TrainNum=<span class="number">0</span>,GoodsNum=<span class="number">0</span>;</div><div class="line">TrainCabin *frist,*last;</div><div class="line">TrainCabin *temp;</div><div class="line">frist=(TrainCabin*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TrainCabin));</div><div class="line">frist-&gt;next=<span class="literal">NULL</span>;</div><div class="line">last=frist;</div><div class="line"><span class="keyword">char</span> input;</div><div class="line"><span class="keyword">while</span>(<span class="number">1</span>)</div><div class="line">&#123;</div><div class="line"><span class="built_in">cin</span>&gt;&gt;TrainNum;</div><div class="line"><span class="keyword">if</span>(TrainNum==<span class="number">-1</span>)</div><div class="line"><span class="keyword">break</span>;</div><div class="line"><span class="built_in">cin</span>&gt;&gt;input;</div><div class="line"><span class="built_in">cin</span>&gt;&gt;GoodsNum;</div><div class="line"></div><div class="line">temp=(TrainCabin*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TrainCabin));</div><div class="line">temp-&gt;TrainNum=TrainNum;</div><div class="line">temp-&gt;GoodsNum=GoodsNum;</div><div class="line">temp-&gt;next=<span class="literal">NULL</span>;</div><div class="line"></div><div class="line">last-&gt;next=temp;</div><div class="line">last=temp;</div><div class="line">&#125;</div><div class="line">TrainCabin *result=AssembleTraninCabin((*frist).next);</div><div class="line">display(result);</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç«è½¦è£…ç®±&quot;&gt;&lt;a href=&quot;#ç«è½¦è£…ç®±&quot; class=&quot;headerlink&quot; title=&quot;ç«è½¦è£…ç®±&quot;&gt;&lt;/a&gt;ç«è½¦è£…ç®±&lt;/h1&gt;&lt;hr&gt;
&lt;h2 id=&quot;ç°æœ‰ä¸€æ‰¹ç«è½¦è½¦å¢éœ€è¦æŒ‰ç…§æ¯èŠ‚è½¦å¢ä¸­æ‰€å«è´§ç‰©æ•°é‡è¿›è¡Œè¿æ¥å‘è½¦&quot;&gt;&lt;a href=&quot;#ç°æœ‰ä¸€æ‰¹ç«è½¦è½¦å¢éœ€è¦æŒ‰
      
    
    </summary>
    
    
      <category term="Lab_Interview" scheme="https://edward7zhang.github.io/tags/Lab-Interview/"/>
    
  </entry>
  
  <entry>
    <title>åç”Ÿå¯ç•</title>
    <link href="https://edward7zhang.github.io/2018/05/06/%E5%90%8E%E7%94%9F%E5%8F%AF%E7%95%8F/"/>
    <id>https://edward7zhang.github.io/2018/05/06/åç”Ÿå¯ç•/</id>
    <published>2018-05-06T15:20:07.000Z</published>
    <updated>2018-05-06T15:44:43.485Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Take-your-Child-to-work-Day-at-Google-2018"><a href="#Take-your-Child-to-work-Day-at-Google-2018" class="headerlink" title="Take your Child to work Day at Google 2018"></a>Take your Child to work Day at Google 2018</h1><iframe width="600" height="337.3" src="https://www.youtube.com/embed/2nWkYwC2XHI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><p>When I heared a kid who Firmly said I will be a video game programmer, I realize that it is extraordinary.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Take-your-Child-to-work-Day-at-Google-2018&quot;&gt;&lt;a href=&quot;#Take-your-Child-to-work-Day-at-Google-2018&quot; class=&quot;headerlink&quot; title=&quot;Take you
      
    
    </summary>
    
    
      <category term="Inspire" scheme="https://edward7zhang.github.io/tags/Inspire/"/>
    
  </entry>
  
  <entry>
    <title>Fragment Navigation Drawer</title>
    <link href="https://edward7zhang.github.io/2018/05/05/Fragment%20Navigation%20Drawer/"/>
    <id>https://edward7zhang.github.io/2018/05/05/Fragment Navigation Drawer/</id>
    <published>2018-05-05T14:20:07.000Z</published>
    <updated>2018-05-05T15:28:55.945Z</updated>
    
    <content type="html"><![CDATA[<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://camo.githubusercontent.com/6d366e1a5c41a4fc25432102224848023987a8f8/68747470733a2f2f692e6c6f6c692e6e65742f323031382f30352f30352f356165643265643962393236632e706e67" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><blockquote><p>..æœ€è¿‘è¿™æ®µæ—¶é—´åœ¨ç€æ‰‹åšä¸€ä¸ª<a href="https://github.com/Edward7Zhang/Sorry-AndroidClient" target="_blank" rel="external">å¼€æºé¡¹ç›®</a>..ä½¿ç”¨æ–°é²œçš„Kotlinä»¥åŠGoogleæœ€ç»å…¸çš„MaterialDesign..ç”±äºåˆšå¼€å§‹ä½¿ç”¨è‡ªç„¶ä¼šç¢°åˆ°å¾ˆå¤šå‘..ä¸Šé¢æ˜¯æˆ‘çš„é¡¹ç›®LogoğŸ¤£<br>æœ¬ç¯‡æ–‡ç« é‡ç‚¹è®²è§£æœ€ç»å…¸çš„MaterialDesignä¸­çš„æŠ½å±‰å¼å¸ƒå±€ <a href="http://developer.android.com/training/implementing-navigation/nav-drawer.html" target="_blank" rel="external">Navigation Drawer</a>è™½ç„¶AndroidStudioå·²ç»é›†æˆäº†Sampleä½†è·Ÿæ‰‹å¤ç°ä¸€éè¿˜æ˜¯å¾ˆå—ç›Šçš„ã€‚</p></blockquote><p>åœ¨2015å¹´I/Oå¤§ä¼šä¸Š..Googleå‘å¸ƒäº†NavigationViewï¼Œä¸ä¹‹å‰çš„å®˜æ–¹æ–‡æ¡£ç›¸æ¯”ï¼Œæœ¬æ–‡æ¡£æ›´å®¹æ˜“åˆ›å»ºå®Œæ•´çš„æŠ½å±‰å¼å¸ƒå±€<br>éšç€Android 5.0 Lollipopçš„å‘å¸ƒï¼Œæ–°çš„ææ–™è®¾è®¡é£æ ¼çš„æŠ½å±‰æ¨ªè·¨å±å¹•çš„æ•´ä¸ªé«˜åº¦ï¼Œå¹¶æ˜¾ç¤ºåœ¨<code>ActionBar</code>åŠé€æ˜çš„ä¸Šæ–¹å¹¶é‡å <code>StatusBar</code>ã€‚<br>Like thisï¼š<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.imgur.com/hPOFJUf.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>æœ¬æŒ‡å—å°†ä»‹ç»å¦‚ä½•å»ºç«‹ä¸€ä¸ªåŸºäºMaterialDesignçš„å¯ä»¥åˆ‡æ¢ä¸åŒFragmentåˆ°å†…å®¹åŒºåŸŸçš„æŠ½å±‰å¼å¯¼èˆªã€‚In this way,you can define multiple fragments, and then define the list of options which will display in the drawers items list. Each item when clicked will switch the relevant fragment into the activityâ€™s container view.</p><h3 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h3><p>Make sure to setup the Google Design Support Library before using Googleâ€™s new NavigationView,announced as part of the Android M release. The NavigationView should be backwards compatible with all versions down to Android 2.1.</p><p>Make sure you have this Gradle dependency added to your <code>app/build.gradle</code> file:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">  implementation <span class="string">'com.android.support:design:27.1.1'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>Setup Drawer Resources</p><p>Create a <code>menu/drawer_view.xml</code> file:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">group</span> <span class="attr">android:checkableBehavior</span>=<span class="string">"single"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/nav_first_fragment"</span></div><div class="line">            <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_one"</span></div><div class="line">            <span class="attr">android:title</span>=<span class="string">"First"</span> /&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">item</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/nav_second_fragment"</span></div><div class="line">            <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_two"</span></div><div class="line">            <span class="attr">android:title</span>=<span class="string">"Second"</span> /&gt;</div><div class="line">        <span class="tag">&lt;<span class="name">item</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/nav_third_fragment"</span></div><div class="line">            <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_three"</span></div><div class="line">            <span class="attr">android:title</span>=<span class="string">"Third"</span> /&gt;</div><div class="line">    <span class="tag">&lt;/<span class="name">group</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></div></pre></td></tr></table></figure></p><p>Note that you can set one of these elements to be default selected by using <code>android:checked=&quot;true&quot;</code> .</p><p>You can also create subheaders too and group elements together:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">android:title</span>=<span class="string">"Sub items"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">menu</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">group</span> <span class="attr">android:checkableBehavior</span>=<span class="string">"single"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">item</span></span></div><div class="line">                    <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_dashboard"</span></div><div class="line">                    <span class="attr">android:title</span>=<span class="string">"Sub item 1"</span> /&gt;</div><div class="line">                <span class="tag">&lt;<span class="name">item</span></span></div><div class="line">                    <span class="attr">android:icon</span>=<span class="string">"@drawable/ic_forum"</span></div><div class="line">                    <span class="attr">android:title</span>=<span class="string">"Sub item 2"</span> /&gt;</div><div class="line">            <span class="tag">&lt;/<span class="name">group</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></div></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://imgur.com/zoDqDKM.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="Define-Fragments"><a href="#Define-Fragments" class="headerlink" title="Define Fragments"></a>Define Fragments</h3><p>æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦æ¥å®šä¹‰ä½ çš„Fragmentsï¼Œè¿™äº›Fragmentså°†ä¼šæ˜¾ç¤ºåœ¨ä½ çš„Activityä¸­ã€‚<br>These can be any support fragments you define within your application. Make sure that all the fragments extend from <strong>android.support.v4.app.Fragment</strong>.</p><h3 id="Setup-Toolbar"><a href="#Setup-Toolbar" class="headerlink" title="Setup Toolbar"></a>Setup Toolbar</h3><p>In order to slide our navigation drawer over the ActionBar, we need to use the new Toolbar widget as defined in the AppCompat v21 library.The <code>Toolbar</code> can be embedded into your view hierarchy which makes sure that the drawer slides over the <code>ActionBar</code>.</p><p>Create a new layout file <code>res/layout/toolbar.xml</code> with the following code:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span></div><div class="line">    <span class="attr">android:minHeight</span>=<span class="string">"?attr/actionBarSize"</span></div><div class="line">    <span class="attr">app:theme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Dark.ActionBar"</span></div><div class="line">    <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimaryDark"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">android.support.v7.widget.Toolbar</span>&gt;</span></div></pre></td></tr></table></figure></p><p>Note that when the <code>android:fitsSystemWindows</code> attribute is set to true for a view, the view would be laid out as if the <code>StatusBar</code> and the <code>ActionBar</code> were present i.e. the UI on top gets padding enough to not be obscured by the navigation bar. Without this attribute, there is not enough padding factored into consideration for the <code>ToolBar</code>:<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://imgur.com/HaOAmoh.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></p><p>We want our main content view to have the navigation bar and hence <code>android:fitsSystemWindows</code> is set to true for the <code>Toolbar</code>.</p><p>To use the <code>Toolbar</code> as an <code>ActionBar</code>, you need to disable the default <code>ActionBar</code>. This can be done by setting the app theme in <code>styles.xml</code> file.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- Base application theme. --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.NoActionBar"</span>&gt;</span><span class="xml"></span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimary"</span>&gt;</span>#673AB7<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorPrimaryDark"</span>&gt;</span>#512DA8<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"colorAccent"</span>&gt;</span>#FF4081<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure><p>Also note that normally you should decide on your color scheme by going to <a href="http://www.materialpalette.com/" target="_blank" rel="external">Material Palette</a> and choosing a primary and dark primary color. For this example, we will pick purple-based colors as shown in the screenshot.</p><p><em>Note</em>: If you forget to disable the ActionBar in <code>styles.xml</code>, you are likely to see a <code>java.lang.IllegalStateException</code> with an error message that reads <code>This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.</code>If you see this message, you need to make sure to follow the previous steps.</p><h3 id="Setup-Drawer-in-Activity"><a href="#Setup-Drawer-in-Activity" class="headerlink" title="Setup Drawer in Activity"></a>Setup Drawer in Activity</h3><p>Next, letâ€™s setup a basic navigation drawer based on the following layout file which has the entire drawer setup in <code>res/layout/activity_main.xml</code>. Note that the <code>Toolbar</code> is added as the first child of the main content view by adding the include tag. <em>Note: if you are using a CoordinatorLayout, it must not lie outside of the DrawerLayout. See <a href="https://stackoverflow.com/questions/32523188/coordinatorlayout-appbarlayout-navigationdrawer" target="_blank" rel="external">https://stackoverflow.com/questions/32523188/coordinatorlayout-appbarlayout-navigationdrawer</a></em></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- This DrawerLayout has two children at the root  --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></div><div class="line">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- This LinearLayout represents the contents of the screen  --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:orientation</span>=<span class="string">"vertical"</span>&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- The ActionBar displayed at the top --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">include</span></span></div><div class="line">            <span class="attr">layout</span>=<span class="string">"@layout/toolbar"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- The main content view where fragments are loaded --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">FrameLayout</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/flContent"</span></div><div class="line">            <span class="attr">app:layout_behavior</span>=<span class="string">"@string/appbar_scrolling_view_behavior"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span> /&gt;</div><div class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- The navigation drawer that comes from the left --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- Note that `android:layout_gravity` needs to be set to 'start' --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.NavigationView</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/nvView"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_gravity</span>=<span class="string">"start"</span></div><div class="line">        <span class="attr">android:background</span>=<span class="string">"@android:color/white"</span></div><div class="line">        <span class="attr">app:menu</span>=<span class="string">"@menu/drawer_view"</span> /&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></div></pre></td></tr></table></figure><p>Now, letâ€™s setup the drawer in our activity. We can also setup the menu icon too.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line">  <span class="keyword">private</span> DrawerLayout mDrawer;</div><div class="line">  <span class="keyword">private</span> Toolbar toolbar;</div><div class="line"> <span class="keyword">private</span> NavigationView nvDrawer;</div><div class="line"></div><div class="line">  <span class="comment">// Make sure to be using android.support.v7.app.ActionBarDrawerToggle version.</span></div><div class="line"></div><div class="line"> <span class="comment">// The android.support.v4.app.ActionBarDrawerToggle has been deprecated.</span></div><div class="line"></div><div class="line">    <span class="keyword">private</span> ActionBarDrawerToggle drawerToggle;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line"></div><div class="line">        <span class="comment">// Set a Toolbar to replace the ActionBar.</span></div><div class="line"></div><div class="line">        toolbar = (Toolbar) findViewById(R.id.toolbar);</div><div class="line">        setSupportActionBar(toolbar);</div><div class="line"></div><div class="line">        <span class="comment">// Find our drawer view</span></div><div class="line"></div><div class="line">        mDrawer = (DrawerLayout) findViewById(R.id.drawer_layout);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</div><div class="line">        <span class="comment">// The action bar home/up action should open or close the drawer.</span></div><div class="line"></div><div class="line">        <span class="keyword">switch</span> (item.getItemId()) &#123;</div><div class="line">            <span class="keyword">case</span> android.R.id.home:</div><div class="line">                mDrawer.openDrawer(GravityCompat.START);</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="Navigating-between-Menu-Items"><a href="#Navigating-between-Menu-Items" class="headerlink" title="Navigating between Menu Items"></a>Navigating between Menu Items</h3><p>Setup a handler to respond to click events on the navigation elements and swap out the fragment. This can be put into the activity directly:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">        <span class="comment">// ...From section above...</span></div><div class="line"></div><div class="line">        <span class="comment">// Find our drawer view</span></div><div class="line"></div><div class="line">        nvDrawer = (NavigationView) findViewById(R.id.nvView);</div><div class="line">        <span class="comment">// Setup drawer view</span></div><div class="line"></div><div class="line">        setupDrawerContent(nvDrawer);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setupDrawerContent</span><span class="params">(NavigationView navigationView)</span> </span>&#123;</div><div class="line">        navigationView.setNavigationItemSelectedListener(</div><div class="line">                <span class="keyword">new</span> NavigationView.OnNavigationItemSelectedListener() &#123;</div><div class="line">                    <span class="meta">@Override</span></div><div class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNavigationItemSelected</span><span class="params">(MenuItem menuItem)</span> </span>&#123;</div><div class="line">                        selectDrawerItem(menuItem);</div><div class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectDrawerItem</span><span class="params">(MenuItem menuItem)</span> </span>&#123;</div><div class="line">        <span class="comment">// Create a new fragment and specify the fragment to show based on nav item clicked</span></div><div class="line"></div><div class="line">        Fragment fragment = <span class="keyword">null</span>;</div><div class="line">        Class fragmentClass;</div><div class="line">        <span class="keyword">switch</span>(menuItem.getItemId()) &#123;</div><div class="line">            <span class="keyword">case</span> R.id.nav_first_fragment:</div><div class="line">                fragmentClass = FirstFragment.class;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.nav_second_fragment:</div><div class="line">                fragmentClass = SecondFragment.class;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> R.id.nav_third_fragment:</div><div class="line">                fragmentClass = ThirdFragment.class;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">default</span>:</div><div class="line">                fragmentClass = FirstFragment.class;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            fragment = (Fragment) fragmentClass.newInstance();</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// Insert the fragment by replacing any existing fragment</span></div><div class="line"></div><div class="line">        FragmentManager fragmentManager = getSupportFragmentManager();</div><div class="line">        fragmentManager.beginTransaction().replace(R.id.flContent, fragment).commit();</div><div class="line"></div><div class="line">        <span class="comment">// Highlight the selected item has been done by NavigationView</span></div><div class="line"></div><div class="line">        menuItem.setChecked(<span class="keyword">true</span>);</div><div class="line">        <span class="comment">// Set action bar title</span></div><div class="line"></div><div class="line">        setTitle(menuItem.getTitle());</div><div class="line">        <span class="comment">// Close the navigation drawer</span></div><div class="line"></div><div class="line">        mDrawer.closeDrawers();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="Add-Navigation-Header"><a href="#Add-Navigation-Header" class="headerlink" title="Add Navigation Header"></a>Add Navigation Header</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.imgur.com/Ri3c6Xz.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>The NavigationView also accepts a custom attribute that can reference a layout that provides a header of our layout. For instance, you can create a <code>layout/nav_header.xml</code> similar to the following:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"192dp"</span></div><div class="line">    <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimaryDark"</span></div><div class="line">    <span class="attr">android:padding</span>=<span class="string">"16dp"</span></div><div class="line">    <span class="attr">android:theme</span>=<span class="string">"@style/ThemeOverlay.AppCompat.Dark"</span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></div><div class="line">    <span class="attr">android:gravity</span>=<span class="string">"bottom"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"Header"</span></div><div class="line">        <span class="attr">android:textColor</span>=<span class="string">"@android:color/white"</span></div><div class="line">        <span class="attr">android:textAppearance</span>=<span class="string">"@style/TextAppearance.AppCompat.Body1"</span>/&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure><p>You would then reference this in the layout <code>res/layout/activity_main.xml</code> in the <code>NavigationView</code> with the <code>app:headerLayout</code> custom attribute:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- res/layout/activity_main.xml --&gt;</span></div><div class="line"></div><div class="line"> <span class="comment">&lt;!-- The navigation drawer --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.NavigationView</span></span></div><div class="line">        <span class="attr">...</span></div><div class="line">        <span class="attr">app:headerLayout</span>=<span class="string">"@layout/nav_header"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.NavigationView</span>&gt;</span></div></pre></td></tr></table></figure><p>This <code>app:headerLayout</code> inflates the specified layout into the header automatically. This can alternatively be done at runtime with:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Lookup navigation view</span></div><div class="line"></div><div class="line">NavigationView navigationView = (NavigationView) findViewById(R.id.nav_draw);</div><div class="line"><span class="comment">// Inflate the header view at runtime</span></div><div class="line"></div><div class="line">View headerLayout = navigationView.inflateHeaderView(R.layout.nav_header);</div><div class="line"><span class="comment">// We can now look up items within the header if needed</span></div><div class="line"></div><div class="line">ImageView ivHeaderPhoto = headerLayout.findViewById(R.id.imageView);</div></pre></td></tr></table></figure><h3 id="Getting-references-to-the-header"><a href="#Getting-references-to-the-header" class="headerlink" title="Getting references to the header"></a>Getting references to the header</h3><p><strong>Note:</strong> Version <code>23.1.0</code> of the design support library switches <code>NavigationView</code> to using a <code>RecyclerView</code> and causes NPE (null exceptions) on header lookups unless the header is added at runtime. If you need to get a reference to the header, you need to use the new <code>getHeaderView()</code>method introduced in the latest <code>v23.1.1</code> update:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// There is usually only 1 header view.  </span></div><div class="line"></div><div class="line"><span class="comment">// Multiple header views can technically be added at runtime.</span></div><div class="line"></div><div class="line"><span class="comment">// We can use navigationView.getHeaderCount() to determine the total number.</span></div><div class="line"></div><div class="line">View headerLayout = navigationView.getHeaderView(<span class="number">0</span>);</div></pre></td></tr></table></figure><h2 id="åŠ¨ç”»æ±‰å ¡å›¾æ ‡"><a href="#åŠ¨ç”»æ±‰å ¡å›¾æ ‡" class="headerlink" title="åŠ¨ç”»æ±‰å ¡å›¾æ ‡"></a>åŠ¨ç”»æ±‰å ¡å›¾æ ‡</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://imgur.com/ekmWl7q.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>ä¸ºäº†è®©æ±‰å ¡åŒ…å›¾æ ‡åŠ¨ç”»æ˜¾ç¤ºæŠ½å±‰æ­£åœ¨æ‰“å¼€å’Œå…³é—­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<a href="https://developer.android.com/reference/android/support/v7/app/ActionBarDrawerToggle.html" target="_blank" rel="external">ActionBarDrawerToggle</a>ç±»ã€‚</p><p>åœ¨ä½ çš„<code>res/values/strings.xml</code>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"drawer_open"</span>&gt;</span>Open navigation drawer<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"drawer_close"</span>&gt;</span>Close navigation drawer<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦å°†DrawerLayoutå’Œå·¥å…·æ ç»“åˆåœ¨ä¸€èµ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123; </div><div class="line"><span class="comment">// Set a Toolbar to replace the ActionBar.</span></div><div class="line"></div><div class="line">toolbar = (Toolbar) findViewById(R.id.toolbar);</div><div class="line">setSupportActionBar(toolbar);</div><div class="line"></div><div class="line"><span class="comment">// Find our drawer view</span></div><div class="line"></div><div class="line">mDrawer = (DrawerLayout) findViewById(R.id.drawer_layout);</div><div class="line">drawerToggle = setupDrawerToggle();</div><div class="line"></div><div class="line"><span class="comment">// Tie DrawerLayout events to the ActionBarToggle</span></div><div class="line"></div><div class="line">mDrawer.addDrawerListener(drawerToggle);</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">private</span> ActionBarDrawerToggle <span class="title">setupDrawerToggle</span><span class="params">()</span> </span>&#123;</div><div class="line">      <span class="comment">// <span class="doctag">NOTE:</span> Make sure you pass in a valid toolbar reference.  ActionBarDrawToggle() does not require it</span></div><div class="line"></div><div class="line">      <span class="comment">// and will not render the hamburger icon without it.  </span></div><div class="line"></div><div class="line">      <span class="keyword">return</span> <span class="keyword">new</span> ActionBarDrawerToggle(<span class="keyword">this</span>, mDrawer, toolbar, R.string.drawer_open,  R.string.drawer_close);</div><div class="line"> &#125;</div></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿åœ¨æ¢å¤å±å¹•æˆ–é…ç½®å‘ç”Ÿå˜åŒ–ï¼ˆå³å±å¹•æ—‹è½¬ï¼‰æ—¶åŒæ­¥çŠ¶æ€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// `onPostCreate` called when activity start-up is complete after `onStart()`</span></div><div class="line"></div><div class="line"><span class="comment">// NOTE 1: Make sure to override the method with only a single `Bundle` argument</span></div><div class="line"></div><div class="line"><span class="comment">// Note 2: Make sure you implement the correct `onPostCreate(Bundle savedInstanceState)` method. </span></div><div class="line"></div><div class="line"><span class="comment">// There are 2 signatures and only `onPostCreate(Bundle state)` shows the hamburger icon.</span></div><div class="line"></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPostCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onPostCreate(savedInstanceState);</div><div class="line">    <span class="comment">// Sync the toggle state after onRestoreInstanceState has occurred.</span></div><div class="line"></div><div class="line">    drawerToggle.syncState();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onConfigurationChanged</span><span class="params">(Configuration newConfig)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onConfigurationChanged(newConfig);</div><div class="line">    <span class="comment">// Pass any configuration change to the drawer toggles</span></div><div class="line"></div><div class="line">    drawerToggle.onConfigurationChanged(newConfig);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜éœ€è¦æ›´æ”¹<code>onOptionsItemSelected()</code>æ–¹æ³•å¹¶å…è®¸ActionBarToggleå¤„ç†äº‹ä»¶ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (drawerToggle.onOptionsItemSelected(item)) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ActionBarToggleå°†æ‰§è¡Œä¸å…ˆå‰å®Œæˆçš„åŠŸèƒ½ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†ä¼šæ·»åŠ æ›´å¤šæ£€æŸ¥ï¼Œå¹¶å…è®¸é¼ æ ‡â€‹â€‹å•å‡»å›¾æ ‡ä»¥æ‰“å¼€å’Œå…³é—­æŠ½å±‰ã€‚æœ‰å…³æ›´å¤šä¸Šä¸‹æ–‡ï¼Œè¯·å‚é˜…<a href="https://github.com/android/platform_frameworks_support/blob/master/v7/appcompat/src/android/support/v7/app/ActionBarDrawerToggle.java#L285-291" target="_blank" rel="external">æºä»£ç </a>ã€‚</p><p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒActionBarDrawerToggleä¼šä¸ºæ‚¨å‘ˆç°æ±‰å ¡å›¾æ ‡çš„è‡ªå®šä¹‰<a href="https://github.com/android/platform_frameworks_support/blob/master/v7/appcompat/src/android/support/v7/graphics/drawable/DrawerArrowDrawable.java" target="_blank" rel="external">DrawerArrowDrawable</a>ã€‚</p><p>å¦å¤–ï¼Œè¯·ç¡®ä¿ä½¿ç”¨çš„<code>android.support.v7.app.ActionBarDrawerToggle</code>ç‰ˆæœ¬ã€‚åœ¨<code>android.support.v4.app.ActionBarDrawerToggle</code>å·²è¢«å¼ƒç”¨ã€‚</p><h2 id="ä½¿çŠ¶æ€æ åŠé€æ˜"><a href="#ä½¿çŠ¶æ€æ åŠé€æ˜" class="headerlink" title="ä½¿çŠ¶æ€æ åŠé€æ˜"></a>ä½¿çŠ¶æ€æ åŠé€æ˜</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://imgur.com/o4WvT3k.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>è¦ä½¿çŠ¶æ€æ å˜æˆåŠé€æ˜çŠ¶æ€å¹¶è®©æˆ‘ä»¬çš„æŠ½å±‰æ»‘è¿‡å®ƒï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è®¾ç½®<code>android:windowTranslucentStatus</code>ä¸ºtrueã€‚ç”±äºæ­¤æ ·å¼ä¸é€‚ç”¨äºä¹‹å‰çš„Kitkatè®¾å¤‡ï¼Œå› æ­¤æˆ‘ä»¬å°†ä¸º<code>res/values-v19/styles.xml</code>APIç‰ˆæœ¬19åŠä¹‹åçš„ç‰ˆæœ¬æ·»åŠ  æ–‡ä»¶ã€‚ <strong>æ³¨æ„</strong>ï¼šå¦‚æœ<code>res/values/styles.xml</code>ç›´æ¥ç”¨æ­¤<code>android:windowTranslucentStatus</code>è¡Œä¿®æ”¹ï¼Œåˆ™å¯èƒ½éœ€è¦æ„å»ºä»…é€‚ç”¨äº19æˆ–æ›´é«˜ç‰ˆæœ¬çš„SDKï¼Œè¿™æ˜¾ç„¶ä¼šé™åˆ¶æ‚¨æ”¯æŒè®¸å¤šè¾ƒæ—§çš„è®¾å¤‡ã€‚</p><p>åœ¨<code>res/values-v19/styles.xml</code>æˆ‘ä»¬å¯ä»¥æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- Base application theme. --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"Theme.AppCompat.Light.NoActionBar"</span>&gt;</span><span class="xml"></span></div><div class="line">    <span class="comment">&lt;!-- Customize your theme here. --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowTranslucentStatus"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå¦‚æœä½ è¿è¡Œä½ çš„åº”ç”¨ç¨‹åºï¼Œä½ åº”è¯¥çœ‹åˆ°å¯¼èˆªæŠ½å±‰ï¼Œå¹¶èƒ½å¤Ÿåœ¨ä½ çš„ç‰‡æ®µä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚</p><h2 id="å°†è‡ªå®šä¹‰è§†å›¾æ·»åŠ åˆ°å¯¼èˆªæŠ½å±‰"><a href="#å°†è‡ªå®šä¹‰è§†å›¾æ·»åŠ åˆ°å¯¼èˆªæŠ½å±‰" class="headerlink" title="å°†è‡ªå®šä¹‰è§†å›¾æ·»åŠ åˆ°å¯¼èˆªæŠ½å±‰"></a>å°†è‡ªå®šä¹‰è§†å›¾æ·»åŠ åˆ°å¯¼èˆªæŠ½å±‰</h2><p>å¯¹è®¾è®¡æ”¯æŒåº“23.1.0æ‰€åšçš„ä¸€é¡¹æ”¹è¿›æ˜¯å¢åŠ äº†å¯¹å¯¼èˆªæŠ½å±‰é¡¹ç›®çš„è‡ªå®šä¹‰è§†å›¾çš„æ”¯æŒã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶ä¸­ä¸€è¡Œåˆ›å»ºè‡ªå®šä¹‰å¼€å…³ï¼Œå¦‚Google Playç”µå½±çš„å¯¼èˆªæŠ½å±‰ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.imgur.com/gCgB5PQ.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>è¯¥æ–¹æ³•ä¸å°†<a href="https://guides.codepath.com/android/Extended-ActionBar-Guide#adding-actionview-items" target="_blank" rel="external">ActionViewé¡¹ç›®</a>æ·»åŠ åˆ°ActionBarç›¸åŒã€‚æˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„å¸ƒå±€ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µã€‚æˆ‘ä»¬å°†è°ƒç”¨è¿™ä¸ªæ–‡ä»¶<code>action_view_switch.xml</code>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line">    <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span> <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.v7.widget.SwitchCompat</span></span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:text</span>=<span class="string">"Switch"</span>/&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></div></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨è¯¥<code>app:actionLayout</code>å±æ€§å¼•ç”¨æ­¤å¸ƒå±€ã€‚æ ‡é¢˜å¿…é¡»æä¾›ï¼Œä½†ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºç©ºç™½ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/nav_switch"</span></span></div><div class="line">        <span class="attr">app:actionLayout</span>=<span class="string">"@layout/action_view_switch"</span></div><div class="line">        <span class="attr">android:title</span>=<span class="string">"Downloaded only"</span> /&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></div></pre></td></tr></table></figure><p>åªè¦æ‚¨çš„æ´»åŠ¨å°†å®æ–½è¯¥æ–¹æ³•ï¼Œæ‚¨å°±å¯ä»¥ç›´æ¥ä½¿ç”¨XMLé™„åŠ äº‹ä»¶ã€‚è¦é€šè¿‡Javaä»¥ç¼–ç¨‹æ–¹å¼å°†äº‹ä»¶å¤„ç†æ·»åŠ åˆ°åˆ‡æ¢å¼€å…³ï¼Œæ‚¨éœ€è¦å…ˆè·å–èœå•å®ä¾‹å¹¶è®¿é—®ç›¸åº”çš„ActionViewï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Menu menu = navigationView.getMenu();</div><div class="line">MenuItem menuItem = menu.findItem(R.id.nav_switch);</div><div class="line">View actionView = MenuItemCompat.getActionView(menuItem);</div><div class="line">actionView.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">  <span class="meta">@Override</span></div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è‡ªå®šä¹‰å°éƒ¨ä»¶çš„ä½¿ç”¨<code>app:actionViewClass</code>ä¹Ÿå¯ä»¥ç”¨äºèœå•é¡¹ç›®ã€‚æœ‰å…³Action Viewsçš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…å°†<a href="https://guides.codepath.com/android/Extended-ActionBar-Guide#adding-searchview-to-actionbar" target="_blank" rel="external">SearchView</a>æ·»åŠ <a href="https://guides.codepath.com/android/Extended-ActionBar-Guide#adding-searchview-to-actionbar" target="_blank" rel="external">åˆ°ActionBar</a>æŒ‡å—ã€‚</p><h2 id="æŒä¹…å¯¼èˆªæŠ½å±‰"><a href="#æŒä¹…å¯¼èˆªæŠ½å±‰" class="headerlink" title="æŒä¹…å¯¼èˆªæŠ½å±‰"></a>æŒä¹…å¯¼èˆªæŠ½å±‰</h2><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç‰¹åˆ«æ˜¯åœ¨å¹³æ¿ç”µè„‘ä¸Šï¼Œå¯¼èˆªæŠ½å±‰åº”è¯¥æ˜¯å……å½“ä¾§æ çš„æ´»åŠ¨çš„æ°¸ä¹…å›ºå®šè£…ç½®(Like my Blog Design)ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.imgur.com/9f7nyrA.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>è¦è¾¾åˆ°æ­¤æ•ˆæœï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹æè¿°ä¸€ç§æ–¹æ³•çš„é“¾æ¥ï¼š</p><ul><li><a href="http://derekrwoods.com/2013/09/creating-a-static-navigation-drawer-in-android/" target="_blank" rel="external">é™æ€å¯¼èˆªæŠ½å±‰</a></li><li><a href="http://stackoverflow.com/a/18095111" target="_blank" rel="external">ç›¸å…³çš„Stackoverflowé—®é¢˜</a></li><li><a href="https://github.com/samerzmd/Navigation-Drawer-set-as-always-opened-on-tablets" target="_blank" rel="external">ç¤ºä¾‹ä»£ç </a></li></ul><p>ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¯èƒ½ä½¿è¿™æ›´å®¹æ˜“å®ç°ã€‚</p><h2 id="ç¬¬ä¸‰æ–¹åº“"><a href="#ç¬¬ä¸‰æ–¹åº“" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“"></a>ç¬¬ä¸‰æ–¹åº“</h2><p>æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹åº“ä»ç„¶å¯ä»¥ä½œä¸º<code>DrawerLayout</code>ç›´æ¥ä½¿ç”¨è‡ªåŠ¨æä¾›æŸäº›ææ–™è®¾è®¡å…ƒç´ çš„æ›¿ä»£æ–¹æ¡ˆï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.imgur.com/6WHIEX5.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><ul><li><a href="https://github.com/mikepenz/MaterialDrawer" target="_blank" rel="external">MaterialDrawer</a></li><li><a href="https://github.com/rudsonlive/NavigationDrawer-MaterialDesign" target="_blank" rel="external">NavigationDrawerMaterial</a></li></ul><p>é€šå¸¸è¿™äº›éƒ½æ˜¯ä¸å¿…è¦çš„ï¼Œä½†è¯·æ£€æŸ¥å®ƒä»¬ä»¥æŸ¥çœ‹å®ƒä»¬æä¾›çš„åŠŸèƒ½ã€‚</p><h2 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h2><p>è®¾è®¡æ”¯æŒåº“çš„å½“å‰ç‰ˆæœ¬çš„ç¡®æœ‰å…¶å±€é™æ€§ã€‚ä¸»è¦é—®é¢˜åœ¨äºçªå‡ºæ˜¾ç¤ºå¯¼èˆªèœå•ä¸­çš„å½“å‰é¡¹ç›®çš„ç³»ç»Ÿã€‚NavigationViewçš„itemBackgroundå±æ€§ä¸èƒ½æ­£ç¡®å¤„ç†é¡¹ç›®çš„é€‰ä¸­çŠ¶æ€ï¼šä¸ç®¡æ€æ ·ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½çªå‡ºæ˜¾ç¤ºæˆ–è€…æ²¡æœ‰ä»»ä½•é¡¹ç›®ã€‚è¿™ä½¿å¾—è¿™ä¸ªå±æ€§åŸºæœ¬ä¸Šä¸é€‚ç”¨äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºã€‚</p><h2 id="Fragmentçš„æ›¿ä»£å“"><a href="#Fragmentçš„æ›¿ä»£å“" class="headerlink" title="Fragmentçš„æ›¿ä»£å“"></a>Fragmentçš„æ›¿ä»£å“</h2><p>è™½ç„¶è®¸å¤šå¯¼èˆªæŠ½å±‰ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•å°†Fragmentç”¨äºå¯¼èˆªæŠ½å±‰ï¼Œä½†å¦‚æœæ‚¨å¸Œæœ›å°†æŠ½å±‰ç”¨ä½œå½“å‰æ˜¾ç¤ºçš„æ´»åŠ¨çš„å åŠ å±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>RelativeLayout</code>/ <code>LinearLayout</code>ã€‚</p><p>è€Œä¸æ˜¯<code>&lt;FrameLayout&gt;</code>ä½ å¯ä»¥ç”¨ä¸€ä¸ª<code>&lt;LinearLayout&gt;</code>æ›¿ä»£</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span></span></div><div class="line">        <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span>&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">LinearLayout</span></span></div><div class="line">                <span class="attr">android:id</span>=<span class="string">"@+id/content_frame"</span></div><div class="line">                <span class="attr">android:orientation</span>=<span class="string">"horizontal"</span></div><div class="line">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">                <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- The navigation drawer --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ListView</span> <span class="attr">android:id</span>=<span class="string">"@+id/left_drawer"</span></span></div><div class="line">                  <span class="attr">android:layout_width</span>=<span class="string">"240dp"</span></div><div class="line">                  <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">                  <span class="attr">android:layout_gravity</span>=<span class="string">"start"</span></div><div class="line">                  <span class="attr">android:choiceMode</span>=<span class="string">"singleChoice"</span></div><div class="line">                  <span class="attr">android:divider</span>=<span class="string">"@android:color/transparent"</span></div><div class="line">                  <span class="attr">android:dividerHeight</span>=<span class="string">"0dp"</span></div><div class="line">                  <span class="attr">android:background</span>=<span class="string">"#111"</span>/&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></div></pre></td></tr></table></figure><p>å–è€Œä»£ä¹‹çš„æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Insert the fragment by replacing any existing fragment</span></div><div class="line"></div><div class="line">getFragmentManager().beginTransaction()</div><div class="line">       .replace(R.id.content_frame, fragment)</div><div class="line">       .commit();</div></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥æ”¹ä¸ºä½¿ç”¨<code>LinearLayout</code>å®¹å™¨ç›´æ¥ä¸ºæ´»åŠ¨å……æ°”ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">LayoutInflater inflater = getLayoutInflater();</div><div class="line">LinearLayout container = (LinearLayout) findViewById(R.id.content_frame);</div><div class="line">inflater.inflate(R.layout.activity_main, container);</div></pre></td></tr></table></figure><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="http://android-developers.blogspot.com/2014/10/appcompat-v21-material-design-for-pre.html" target="_blank" rel="external">http://android-developers.blogspot.com/2014/10/appcompat-v21-material-design-for-pre.html</a></li><li><a href="http://stackoverflow.com/questions/26440879/how-do-i-use-drawerlayout-to-display-over-the-actionbar-toolbar-and-under-the-st" target="_blank" rel="external">http://stackoverflow.com/questions/26440879/how-do-i-use-drawerlayout-to-display-over-the-actionbar-toolbar-and-under-the-st</a></li><li><a href="http://antonioleiva.com/navigation-view/" target="_blank" rel="external">http://antonioleiva.com/navigation-view/</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;
                    &lt;div class=&quot;overlay&quot;&gt;&lt;/div&gt;
                   
      
    
    </summary>
    
    
      <category term="Android" scheme="https://edward7zhang.github.io/tags/Android/"/>
    
      <category term="Material Design" scheme="https://edward7zhang.github.io/tags/Material-Design/"/>
    
  </entry>
  
  <entry>
    <title>å®éªŒå®¤æ‹›æ–°é¢˜ç›®â‘ </title>
    <link href="https://edward7zhang.github.io/2018/04/27/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%8B%9B%E6%96%B0%E9%A2%98%E7%9B%AE/"/>
    <id>https://edward7zhang.github.io/2018/04/27/å®éªŒå®¤æ‹›æ–°é¢˜ç›®/</id>
    <published>2018-04-27T10:00:07.000Z</published>
    <updated>2018-05-07T16:02:13.058Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ‘‡ç¯®æ’åº"><a href="#æ‘‡ç¯®æ’åº" class="headerlink" title="æ‘‡ç¯®æ’åº"></a>æ‘‡ç¯®æ’åº</h1><h2 id="è¾“å…¥æ‘‡ç¯®æ•°ç»„ä»¥æ‘‡ç¯®ä¸­çš„åºå·ä¸ºåŸºå‡†è¿›è¡Œæ’åº"><a href="#è¾“å…¥æ‘‡ç¯®æ•°ç»„ä»¥æ‘‡ç¯®ä¸­çš„åºå·ä¸ºåŸºå‡†è¿›è¡Œæ’åº" class="headerlink" title="è¾“å…¥æ‘‡ç¯®æ•°ç»„ä»¥æ‘‡ç¯®ä¸­çš„åºå·ä¸ºåŸºå‡†è¿›è¡Œæ’åº"></a>è¾“å…¥æ‘‡ç¯®æ•°ç»„ä»¥æ‘‡ç¯®ä¸­çš„åºå·ä¸ºåŸºå‡†è¿›è¡Œæ’åº</h2><h2 id="è¯·è‡ªå®šä¹‰Bucketçš„æ•°æ®ç»“æ„åŒ…æ‹¬"><a href="#è¯·è‡ªå®šä¹‰Bucketçš„æ•°æ®ç»“æ„åŒ…æ‹¬" class="headerlink" title="è¯·è‡ªå®šä¹‰Bucketçš„æ•°æ®ç»“æ„åŒ…æ‹¬"></a>è¯·è‡ªå®šä¹‰Bucketçš„æ•°æ®ç»“æ„åŒ…æ‹¬</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;åºå·&#125;,&#123;å­¦ç§‘&#125;&#125;</div></pre></td></tr></table></figure><h2 id="è¦æ±‚ï¼š"><a href="#è¦æ±‚ï¼š" class="headerlink" title="è¦æ±‚ï¼š"></a>è¦æ±‚ï¼š</h2><ul><li><p>å†™å‡ºä¸€ä¸ªæ–¹æ³• </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Bucket[] sortBucket(Bucket[] J,boolean Flag)</div></pre></td></tr></table></figure></li><li><p>è¿”å›ä¸ºæ’å¥½åºåçš„Bucketæ•°ç»„å¹¶åœ¨æ§åˆ¶å°ä¸­ç­”åº”</p></li><li>Flag == trueè¿”å›æ­£åºæ’åº</li><li>Flag == falseè¿”å›å€’åºæ’åº</li></ul><h1 id="é¢å‘å¤§ä¸€åŒå­¦è¦æ±‚ï¼š"><a href="#é¢å‘å¤§ä¸€åŒå­¦è¦æ±‚ï¼š" class="headerlink" title="é¢å‘å¤§ä¸€åŒå­¦è¦æ±‚ï¼š"></a>é¢å‘å¤§ä¸€åŒå­¦è¦æ±‚ï¼š</h1><h2 id="åœ¨æ§åˆ¶å°ä¸­è¾“å…¥Bucketæ•°ç»„"><a href="#åœ¨æ§åˆ¶å°ä¸­è¾“å…¥Bucketæ•°ç»„" class="headerlink" title="åœ¨æ§åˆ¶å°ä¸­è¾“å…¥Bucketæ•°ç»„"></a>åœ¨æ§åˆ¶å°ä¸­è¾“å…¥Bucketæ•°ç»„</h2><h2 id="exampleï¼š"><a href="#exampleï¼š" class="headerlink" title="exampleï¼š"></a>exampleï¼š</h2><h2 id="input"><a href="#input" class="headerlink" title="input:"></a>input:</h2><ul><li>1 æ•°å­¦</li><li>3 è¯­æ–‡</li><li>2 è‹±è¯­</li><li>true<h2 id="output"><a href="#output" class="headerlink" title="output:"></a>output:</h2></li><li>1 æ•°å­¦</li><li>2 è‹±è¯­</li><li>3 è¯­æ–‡</li></ul><h1 id="é¢å‘å¤§äºŒåŒå­¦è¦æ±‚ï¼š"><a href="#é¢å‘å¤§äºŒåŒå­¦è¦æ±‚ï¼š" class="headerlink" title="é¢å‘å¤§äºŒåŒå­¦è¦æ±‚ï¼š"></a>é¢å‘å¤§äºŒåŒå­¦è¦æ±‚ï¼š</h1><h2 id="æ„é€ è‡ªå·±ç†Ÿæ‚‰çš„å‰ç«¯ç•Œé¢è¾“å…¥è¾“å‡ºæ¡†ä»¥åŠæ­£åºå€’åºæ’åºæŒ‰é’®"><a href="#æ„é€ è‡ªå·±ç†Ÿæ‚‰çš„å‰ç«¯ç•Œé¢è¾“å…¥è¾“å‡ºæ¡†ä»¥åŠæ­£åºå€’åºæ’åºæŒ‰é’®" class="headerlink" title="æ„é€ è‡ªå·±ç†Ÿæ‚‰çš„å‰ç«¯ç•Œé¢è¾“å…¥è¾“å‡ºæ¡†ä»¥åŠæ­£åºå€’åºæ’åºæŒ‰é’®"></a>æ„é€ è‡ªå·±ç†Ÿæ‚‰çš„å‰ç«¯ç•Œé¢è¾“å…¥è¾“å‡ºæ¡†ä»¥åŠæ­£åºå€’åºæ’åºæŒ‰é’®</h2><h2 id="åœ¨å…¶ä¸­è¾“å…¥Bucketæ•°ç»„"><a href="#åœ¨å…¶ä¸­è¾“å…¥Bucketæ•°ç»„" class="headerlink" title="åœ¨å…¶ä¸­è¾“å…¥Bucketæ•°ç»„"></a>åœ¨å…¶ä¸­è¾“å…¥Bucketæ•°ç»„</h2><h2 id="exampleï¼š-1"><a href="#exampleï¼š-1" class="headerlink" title="exampleï¼š"></a>exampleï¼š</h2><h2 id="input-1"><a href="#input-1" class="headerlink" title="input:"></a>input:</h2><ul><li>1 æ•°å­¦</li><li>3 è¯­æ–‡</li><li>2 è‹±è¯­<h2 id="output-1"><a href="#output-1" class="headerlink" title="output:"></a>output:</h2></li><li>1 æ•°å­¦</li><li>2 è‹±è¯­</li><li>3 è¯­æ–‡</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ‘‡ç¯®æ’åº&quot;&gt;&lt;a href=&quot;#æ‘‡ç¯®æ’åº&quot; class=&quot;headerlink&quot; title=&quot;æ‘‡ç¯®æ’åº&quot;&gt;&lt;/a&gt;æ‘‡ç¯®æ’åº&lt;/h1&gt;&lt;h2 id=&quot;è¾“å…¥æ‘‡ç¯®æ•°ç»„ä»¥æ‘‡ç¯®ä¸­çš„åºå·ä¸ºåŸºå‡†è¿›è¡Œæ’åº&quot;&gt;&lt;a href=&quot;#è¾“å…¥æ‘‡ç¯®æ•°ç»„ä»¥æ‘‡ç¯®ä¸­çš„åºå·ä¸ºåŸºå‡†è¿›è¡Œæ’åº&quot; cla
      
    
    </summary>
    
    
      <category term="Lab_Interview" scheme="https://edward7zhang.github.io/tags/Lab-Interview/"/>
    
  </entry>
  
  <entry>
    <title>ä¸‰å¹´ä¸‰æœˆä¸‰å¤©ä¸‰å°æ—¶</title>
    <link href="https://edward7zhang.github.io/2018/04/27/%E4%B8%89%E5%B9%B4%E4%B8%89%E6%9C%88%E4%B8%89%E5%A4%A9%E4%B8%89%E5%B0%8F%E6%97%B6/"/>
    <id>https://edward7zhang.github.io/2018/04/27/ä¸‰å¹´ä¸‰æœˆä¸‰å¤©ä¸‰å°æ—¶/</id>
    <published>2018-04-26T17:42:07.000Z</published>
    <updated>2018-04-27T07:52:55.006Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" marginwidth="0" marginheight="0" width="300" height="50" src="https://music.163.com/outchain/player?type=2&id=1218773&auto=0&height=32"></iframe></p><h1 id="2018-04-26-14-27-ğŸ‘¨â€ğŸ’»"><a href="#2018-04-26-14-27-ğŸ‘¨â€ğŸ’»" class="headerlink" title="2018.04.26/14:27 ğŸ‘¨â€ğŸ’»"></a>2018.04.26/14:27 ğŸ‘¨â€ğŸ’»</h1><h3 id="æˆ‘æ”¶åˆ°äº†çˆ±å¥‡è‰ºç§»åŠ¨è½¯ä»¶å¼€å‘å²—çš„Offerï¼Œè¯šæƒ¶è¯šæã€‚"><a href="#æˆ‘æ”¶åˆ°äº†çˆ±å¥‡è‰ºç§»åŠ¨è½¯ä»¶å¼€å‘å²—çš„Offerï¼Œè¯šæƒ¶è¯šæã€‚" class="headerlink" title="æˆ‘æ”¶åˆ°äº†çˆ±å¥‡è‰ºç§»åŠ¨è½¯ä»¶å¼€å‘å²—çš„Offerï¼Œè¯šæƒ¶è¯šæã€‚"></a>æˆ‘æ”¶åˆ°äº†çˆ±å¥‡è‰ºç§»åŠ¨è½¯ä»¶å¼€å‘å²—çš„Offerï¼Œè¯šæƒ¶è¯šæã€‚</h3><h2 id=""><a href="#" class="headerlink" title="-"></a>-</h2><p>æˆ‘çš„ä»·å€¼ç»ˆäºå¾—åˆ°äº†è®¤å¯â€¦<strong>å‰20å¹´çš„çŸ¥è¯†ç§¯å¥ ..å3å¹´çš„ä¸“ä¸šæµ…è§¦..ä»¥åŠ3ä¸ªæœˆæ¥çš„å‡†å¤‡..è¿˜æœ‰è¿‘3å¤©ä»¥æ¥çš„ç„¦è™‘..æœ€ç»ˆæ˜¯æ‹¿åˆ°Offerå‰3å°æ—¶çš„ä¸é•‡å®š</strong>â€¦ä¹Ÿè®¸è¿™ç§è¿‡ç¨‹æ­£æ˜¯æˆ‘è¸å…¥ç¤¾ä¼šçš„å¼€å§‹ä»¥åŠæœ€é‡è¦çš„æ˜¯å¯ä»¥åœ¨æˆ‘æ¢¦å¯çš„å¤§å¹³å°ä¸Šå¼€æ‹“è‡ªå·±çš„è§†é‡å¼ºåŒ–è‡ªå·±çš„ä¸“ä¸šçŸ¥è¯†â€¦è¿™ä¸€åˆ‡ä¹Ÿæ¥æºäºæˆ‘3å¹´ä»¥æ¥çš„ä¸æ‡ˆâ€¦ä½†æ›´å€¼å¾—æ„Ÿè°¢çš„æ˜¯æˆ‘çš„ä¼¯ä¹â€“æˆ‘çš„ä¸“ä¸šå¼•è·¯äººåˆ˜è€å¸ˆå’Œç­å¯¼ä¸¥è€å¸ˆåœ¨è¿™ä¸‰å¹´æ¥çš„ç…§æ–™ä¸è§£æƒ‘â€¦åè§‚æˆ‘ä¸‰å¹´å‰åˆšå…¥æ ¡çš„æœ¨è®·ä¸è½»æµ®..åˆ°ç°åœ¨å¯ä»¥è´Ÿè´£å®éªŒå®¤..ä»¥åŠå¾—åˆ°ç¤¾ä¼šçš„è®¤å¯è¿™ä¸€è·¯æ¥æ²¡æœ‰ä»–ä»¬çš„æŒ‡å¼•æˆ‘ä¹Ÿè®¸è¿˜åœ¨è‡ªå·±çš„æ··æ²Œä¸­ä¸èƒ½è‡ªæ‹”â€¦<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2c7ffc33f5.png" alt="My favorite mural Creazione di Adamo by Michelangelo" title="">                </div>                <div class="image-caption">My favorite mural Creazione di Adamo by Michelangelo</div>            </figure></p><ul><li><p>æˆ‘ä¹Ÿæ›¾æ„£å¤´é’â€¦åœ¨è¿˜æœªå‡†å¤‡å……åˆ†å°±å†²å»é¢è¯•é˜¿é‡Œâ€¦è¿ç»­æŒ‚æ‰ä¸¤æ¬¡çš„è…¾è®¯é¢è¯•â€¦ä»¥åŠæ²¡æœ‰éŸ³è®¯çš„ç¾å›¢â€¦åˆ°ç°åœ¨æˆ‘å¿ƒå¿ƒå¿µçš„è¿˜åœ¨ç­‰ç»“æœçš„å¤§ç–†â€¦ä»¥åŠæˆ‘å·²æ‹¿åˆ°å®ä¹ Offerçš„çˆ±å¥‡è‰ºâ€¦</p></li><li><p>æ‹¿åˆ°Offerçš„æˆ‘ä¸€ç‚¹ä¹Ÿæ²¡æœ‰æ¿€åŠ¨â€¦åªæ˜¯è®©æˆ‘åƒç–®ç™¾å­”çš„å¿ƒå¾—åˆ°äº†ä¸€ç‚¹æ»¡è¶³â€¦</p></li><li><p>åœ¨è¿™ä¸€è·¯çš„é¢è¯•ç»å†ä¸­æˆ‘å‘ç°ï¼Œæˆ‘æœ€ç»ˆæ”¶ç›Šçš„è¿˜æ˜¯æˆ‘å¯¹ä¸“ä¸šçš„åšæŒâ€¦å§‹ç»ˆæ²¡æœ‰æ”¾å¼ƒæˆ‘çƒ­çˆ±çš„Androidç§»åŠ¨ç«¯å¼€å‘..å½“å‡ºç°æ–°çš„æŠ€æœ¯..æˆ‘æ€»æ˜¯é¦–å…ˆæƒ³åˆ°åº”ç”¨äºç§»åŠ¨ç«¯â€¦è‡³å°‘è¿™ç§åŸåŠ›å¼çš„é©±åŠ¨æ¥è‡ªäºæˆ‘çš„ä¸–ç•Œè§‚..æˆ‘è®¤ä¸ºåœ¨è¿™ä¸ªæ—¶ä»£äº’è”ç½‘çš„æœ€å¤§ä½œç”¨åº”è¯¥æ˜¯å¸¦åŠ¨äººç±»å‘å±•è¿›æ­¥..å³ä½¿å¦‚ä»Šæ˜¯ä¸ªç™¾å®¶åˆå”±çš„äº’è”ç½‘ç¯å¢ƒ..æ›´å¤šçš„ä¼ä¸šé€‰æ‹©äº†æ¨åŠ¨ç»æµçš„æé’±å¼è¡Œä¸ºâ€¦å¤§é‡çš„ç ”å‘èµ„æºç”¨äºå¯¹å¨±ä¹æˆ–æ˜¯ä½ä¿—æ–‡åŒ–çš„ä¼ æ’­â€¦ä½¿å¾—å¦‚ä»Šéƒ½æ˜¯é¢å‘ä¸Šå¸‚æ•²é’Ÿå¼åˆ›ä¸šâ€¦</p></li><li><p>å¼‚æ›²åŒå·¥çš„æ˜¯æœ€è¿‘åœ¨å¹´çº§ç¾¤ä¸­çœ‹åˆ°æœ‰å·²é¢50å®¶å…¬å¸æ‹¿åˆ°3ä¸ªOfferçš„äººå´å¤§è¨€ä¸æƒ­çš„å†™ç€é¢ç»..æ•™å”†æƒ³å»å‚åŠ å·¥ä½œçš„åŒå­¦è‹¥æ˜¯æ²¡æœ‰é¡¹ç›®å»æŸå®èŠ±é’±è´­ä¹°â€¦çº¯ç²¹çš„é¢å‘é¢è¯•çš„ç¼–ç¨‹ä»¤äººæ„Ÿåˆ°æ¶ä¿—â€¦åœ°çƒç§‘æŠ€çš„è¿›æ­¥å¦‚æœå­˜åœ¨å¾ˆå¤šè¿™æ ·çš„äººç®€ç›´ä¸å ªæƒ³è±¡å§â€¦</p></li><li><p>å¦‚ä»Šè¿™ä¸ªæ—¶ä»£æœ‰ç‚¹ä¼ªæ–‡è‰ºå¤å…´çš„æ„Ÿè§‰â€¦å¥½åƒä¸–é—´å¾ˆçº·ä¹±â€¦ä¸æ˜¯é‚£ä¹ˆå®‰å®šâ€¦ä½†å¤§å®¶å¥½åƒè¿˜è¿‡å¾—è‡ªå¾—å…¶ä¹â€¦è¿™ç§è‡ªæ€å¼çš„ä¹ æƒ¯åœ¨ä¸€ç‚¹ç‚¹çš„åå™¬äººç±»å¿ƒçµæœ€åçš„è¿›å–â€¦</p></li></ul><h1 id="ä¸‰å¹´-ğŸ‘¹"><a href="#ä¸‰å¹´-ğŸ‘¹" class="headerlink" title="ä¸‰å¹´ ğŸ‘¹"></a>ä¸‰å¹´ ğŸ‘¹</h1><p>å¤§å­¦è¿™ä¸‰å¹´æ¥å…¶å®æ˜¯æ†‹äº†ä¸€å£æ°”çš„å»è¿½èµ¶æˆ‘é«˜ä¸­ä¸‰å¹´æ‰€é—å¤±çš„ç§ç§<br>ä¸‰å¹´åå†çœ‹æˆ‘å€’æ˜¯è¿½å›æ¥äº†ä¸€äº›..è¿™æ˜¯å€¼å¾—è‚¯å®šçš„<br>è‡³å°‘æˆ‘æ²¡æœ‰è¢«ä¸–ä¿—èµ¶ä¸Š..è‡³å°‘æˆ‘æš‚æ—¶èµ¢å¾—äº†è‡ªå·±çš„è®¤å¯</p><h1 id="ä¼¯ä¹-ğŸ"><a href="#ä¼¯ä¹-ğŸ" class="headerlink" title="ä¼¯ä¹ ğŸ"></a>ä¼¯ä¹ ğŸ</h1><blockquote><p>ä¸–æœ‰ä¼¯ä¹ï¼Œç„¶åæœ‰åƒé‡Œé©¬ã€‚åƒé‡Œé©¬å¸¸æœ‰ï¼Œè€Œä¼¯ä¹ä¸å¸¸æœ‰ã€‚<br>æˆ‘æ˜¯ä¸€ä¸ªå‚²æ…¢çš„è‡ªè°¦çš„ï¼Œä¸æ˜“è¢«ä»–äººå‹åˆ¶çš„ï¼Œå‘å¾€è‡ªç”±çš„äººã€‚</p></blockquote><p>è¿™ä¸‰å¹´æ¥æˆ‘çœŸå¿ƒçš„æ„Ÿè°¢æˆ‘çš„ç­å¯¼ä¸¥çµæ¯“è€å¸ˆã€æˆ‘çš„è®¡ç®—æœºè¯­è¨€å…¥é—¨äººåˆ˜ä¼Ÿè€å¸ˆã€‚<br>æ˜¯ä»–ä»¬çš„æ…§çœ¼ç»™äº†æˆ‘è¿›å‡çš„å¹³å°ã€‚<br>è¿™ä¸¤ä½è€å¸ˆçš„æ€§æ ¼è¿¥å¼‚å¯¹æˆ‘æ¥è¯´æ˜¯éå¸¸å—ç›Šçš„â€¦</p><ul><li>å…¶ä¸€ã€é‚£ç§å¯¹å­¦ç”Ÿçš„å…³æ€€ä¸å­¦æœ¯ä¸Šã€äººç”Ÿä¸Šå¤§ä¹‰è‡³ç®€çš„æŒ‡å¯¼ä¸æ²Ÿé€šæ˜¯è®©æˆ‘æ‘†è„±å„ç§æœ¨è®·ä¸æ··æ²Œçš„å”¯ä¸€ç»³ç´¢ã€‚</li><li>å¦ä¸€ä½ã€é‚£ç§éšæ€§çš„ä¸ç¾çš„å¸…æ°”çš„ç”·æ€§é£æ ¼æˆä¸ºäº†æˆ‘å¯¹ç”·æ€§ç†è§£çš„æ ‡æ¦œâ€¦ä½œä¸ºæˆ‘é¡¹ç›®æŒ‡å¯¼è€å¸ˆå¯¹æˆ‘çš„ä¿¡ä»»ï¼Œç›´æ¥å½±å“äº†æˆ‘ä¹‹åå¯¹è½¯ä»¶äº§å“çš„çœ‹æ³•ä¸ç†è§£â€¦å°†é¡¹ç›®å¤§æ„è§£é‡Šä¸å­¦ç”Ÿï¼Œå…¶ä»–çš„å¯ä»¥è‡ªæˆ‘å‘æŒ¥çš„åšæ³•ï¼Œè‡³å°‘ç›®å‰æˆ‘æ²¡æœ‰åœ¨å…¶ä»–è€å¸ˆèº«ä¸Šå‘ç°è¿‡â€¦è¿™ç§å¯¹å­¦ç”Ÿçš„ä¿¡ä»»åŒæ ·ä¹Ÿæ˜¯è®©æˆ‘è¾—è½¬å„ç§å®éªŒå®¤åæœ€ç»ˆåˆå›åˆ°Lab603çš„å”¯ä¸€ç†ç”±â€¦</li></ul><p>ç°åœ¨å†å›å¤´çœ‹çœ‹è¿™ä¸‰å¹´â€¦å……å®åˆå……æ»¡å›å¿†â€¦</p><h1 id="å¼€å‘è€…åŒä¼´-ğŸ˜"><a href="#å¼€å‘è€…åŒä¼´-ğŸ˜" class="headerlink" title="å¼€å‘è€…åŒä¼´ ğŸ˜"></a>å¼€å‘è€…åŒä¼´ ğŸ˜</h1><blockquote><p>å¦‚æœæ‹¿ä¼¯ç‰™ä¸é’Ÿå­æœŸçš„æ•…äº‹æ¥è¯´æˆ‘ä»¬å¯èƒ½è¿‡å¤´..å…¶å®æˆ‘ä»¬ä¹Ÿæ²¡æœ‰åˆ°é‚£ç§å¢ƒç•Œâ€¦åªæ˜¯æƒ³ç”¨è¿™ç§æ„Ÿè§‰æ¥è¡¨è¾¾æˆ‘è¿™ä¸‰å¹´æ¥å¯¹ä»–çš„æ„Ÿè°¢ï¼Œä»–ä¸æˆ‘å…±åŒå¼€å‘äº†æˆ‘è¿™ä¸‰å¹´æ¥çš„å¤§éƒ¨åˆ†é¡¹ç›®â€¦</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2c382bbaeb.jpg" alt="2016å¹´10æœˆ12æ—¥ æ˜ŸæœŸä¸‰ 23:22 å¼ ç¿åœ¨æˆ‘çš„å®¿èˆé‡Œä¸€èµ·é‡æ„é¡¹ç›®çœ‹åˆ°ç»“æœåçš„å–œæ‚¦" title="">                </div>                <div class="image-caption">2016å¹´10æœˆ12æ—¥ æ˜ŸæœŸä¸‰ 23:22 å¼ ç¿åœ¨æˆ‘çš„å®¿èˆé‡Œä¸€èµ·é‡æ„é¡¹ç›®çœ‹åˆ°ç»“æœåçš„å–œæ‚¦</div>            </figure><p>è¿™ä¸‰å¹´æ¥ä¸ä¸‹10ä¸ªå¤§å¤§å°å°çš„é¡¹ç›®å…¶ä¸­2/3éƒ½æ˜¯æˆ‘å’Œä»–å…±åŒå¼€å‘çš„â€¦æ— æ•°ä¸ªé€šå®µ..æ— æ•°ä¸ªéœ€æ±‚çš„äº‰æ‰§æ— æ•°ä¸ªé—®é¢˜çš„è§£å†³â€¦åœ¨è¿™ä¸€ç³»åˆ—çš„è¿‡ç¨‹ä¸­å¦‚æœæ²¡æœ‰è¿™æ ·ä¸€ä¸ªäººçš„å­˜åœ¨åˆä¼šå˜å¾—æœ‰å¤šå¤§çš„æŒ‘æˆ˜å‘¢ï¼Ÿ<br>æˆ‘ç°åœ¨åªèƒ½è¯´å¼ ç¿è¿™ä¸‰å¹´æ¥æ„Ÿè°¢ä½ çš„äº’åŠ©ï¼Œæ²¡æœ‰ä½ æˆ‘ä¹Ÿèµ°ä¸åˆ°è¿™ä¸€æ­¥â€¦æˆ‘ä¼šåœ¨è¿™æ¡è·¯ç»§ç»­èµ°ä¸‹å»çš„â€¦åªä¸ºäº†æˆ‘ä»¬é‚£æ— æ•°ä¸ªæ—¥å¤œçš„å•çº¯çš„æ¢¦ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2d43e09aaf.jpg" alt="2016å¹´10æœˆ16æ—¥ æ˜ŸæœŸæ—¥ 3:11 æˆ‘ä»¬åˆä½œçš„ç¬¬ä¸€ä¸ªé¡¹ç›®OneKey2Alarmè‚é€šå®µ" title="">                </div>                <div class="image-caption">2016å¹´10æœˆ16æ—¥ æ˜ŸæœŸæ—¥ 3:11 æˆ‘ä»¬åˆä½œçš„ç¬¬ä¸€ä¸ªé¡¹ç›®OneKey2Alarmè‚é€šå®µ</div>            </figure><h1 id="Project-âŒ¨ï¸"><a href="#Project-âŒ¨ï¸" class="headerlink" title="Project âŒ¨ï¸"></a>Project âŒ¨ï¸</h1><blockquote><p>é¡¹ç›®ä¹‹äºå¼€å‘è€…å¦‚åŒçˆ¶ä¸å­çš„å…³ç³»</p></blockquote><p>ç›¸ä¿¡æ¯ä¸€ä¸ªå¼€å‘è€…åœ¨å®Œæˆä»–çš„Projectåéƒ½ä¼šåŠ å€å¿ƒåŠ›çš„å»ç»´æŠ¤ä»–çš„Projectâ€¦åœ¨è¿™è¿‡ç¨‹ä¸­ä¹ŸåŒæ—¶æ˜¯å¼€å‘è€…ç»éªŒèƒ½åŠ›æå‡çš„å…³é”®â€¦æ‰€ä»¥åœ¨é¢è¯•è¿‡ç¨‹ä¸­æ¯ä¸ªå¼€å‘è€…åœ¨ä»–è¿‡å»å®Œæˆçš„é¡¹ç›®è´¨é‡ä¸æ•°é‡å°±æ˜¾å¾—æ ¼å¤–å®è´µ..é€šè¿‡é¡¹ç›®çš„ä¾§é¢è§‚å¯Ÿå¯ä»¥çœ‹å¾—å‡ºä¸€ä¸ªäººçš„ä»£ç é£æ ¼..ä»–çš„ä¸ªæ€§..ä»–çš„ä¸ºäººâ€¦æ‰€ä»¥å¦‚ä¸Šæ–‡æ‰€è¿°çš„é‚£ç§é¢å‘é¢è¯•çš„ç¼–ç¨‹æ–¹å¼æ˜¯æˆ‘ä¸ªäººéå¸¸åŒæ¶çš„â€¦æˆ‘è®¤ä¸ºåªè¦æ˜¯ä¸€ä¸ªæœ‰è¿½æ±‚çš„å¼€å‘è€…..ä¸€ä¸ªåˆæ ¼çš„ç¨‹åºå‘˜éƒ½ååˆ†æ‘’å¼ƒè¿™ç§åšæ³•â€¦é€šè¿‡è·å–ä»–äººçš„åŠ³åŠ¨æˆæœæ¥æ‰“è‚¿è„¸å……èƒ–å­..æ€»æœ‰ä¸€å¤©ä¼šè´¥éœ²çš„ã€‚<br>çœŸè¯šæ˜¯ä¸€ä¸ªäººæœ€ç¾å¥½ä¹Ÿæ˜¯æœ€åº•çº¿çš„å“è´¨â€¦å¦‚æœä½ æƒ³è®©è¿™ä¸ªä¸–ç•Œè¾¾åˆ°å…¬å¹³é‚£ä¹ˆä¹…åº”è¯¥äººäººæœ‰è´£â€¦é€šè¿‡ä¸æ‹©æ‰‹æ®µçš„æ–¹å¼æ¥é€šè¿‡é¢è¯•è¿™æ ·å¯¹æ›´å¤šä¼˜ç§€çš„é¡¹ç›®å¼€å‘è€…æ— å¼‚äºæ˜¯ä¸€ç§ä¾®è¾±â€¦æˆ‘å‘¨å›´çš„åŒå­¦åœ¨æœ€è¿‘æ‰¾å·¥ä½œçš„è¿‡ç¨‹ä¸­æ²¡æœ‰ä¸€ä¸ªäººæ˜¯è½»æ¾çš„â€¦ä¸€å®¶å®¶å…¬å¸ä¸€æ¬¡æ¬¡çš„æ‹’ç»åˆ°è®©äººæ€€ç–‘è‡ªå·±â€¦ä½†è¯´å®è¯åªæœ‰å†…å¿ƒå¼ºå¤§çš„äººæ‰èƒ½å†²å‡ºè¿™ç‰‡æ··æ²Œâ€¦å› ä¸ºä»æ­¤ä¹‹åä½ å°±ä¼šè„±ç¦»è±¡ç‰™å¡”â€¦ä¸ä¼šå†æœ‰äººå»åº‡æŠ¤ä½ â€¦ä½ è¦é¢å¯¹çš„æ˜¯ç‹°ç‹è€Œæ®‹é…·çš„ç¤¾ä¼š..è¦ä¸ºè‡ªå·±çš„è¨€è¡Œè´Ÿè´£äº†â€¦äººäººä¸æ˜“â€¦å”¯æœ‰åšæŒæ‰èƒ½å†²ç ´é‡å›´â€¦</p><blockquote><p>åœ¨è¿™é‡ŒåŒæ—¶æƒ³æ„Ÿè°¢æˆ‘æœªæ¥çš„éƒ¨é—¨é¢†å¯¼..æ˜¯ä»–å¯¹æˆ‘çš„è®¤å¯..æˆ‘æ‰ç›´æ¥çš„å¾—åˆ°äº†è¿™ä¸€æå‡è‡ªå·±è§†é‡çš„æœºä¼šâ€¦æˆ‘ä¼šå‘è‡ªå·±è¯æ˜ä»–å¹¶æ²¡æœ‰çœ‹é”™</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2c508827c3.jpg" alt="2018.04 æ­¦æ±‰æ˜¥å­£Hackthon" title="">                </div>                <div class="image-caption">2018.04 æ­¦æ±‰æ˜¥å­£Hackthon</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2c50d2c899.jpg" alt="2018.04 å‡Œæ™¨4:00 æ­¦æ±‰æ˜¥å­£Hackthon" title="">                </div>                <div class="image-caption">2018.04 å‡Œæ™¨4:00 æ­¦æ±‰æ˜¥å­£Hackthon</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2c50919947.jpg" alt="2018.04 æ­¦æ±‰æ˜¥å­£Hackthon äº§å“å±•ç¤º" title="">                </div>                <div class="image-caption">2018.04 æ­¦æ±‰æ˜¥å­£Hackthon äº§å“å±•ç¤º</div>            </figure><h1 id="å®¶åº­-ğŸ‘ª"><a href="#å®¶åº­-ğŸ‘ª" class="headerlink" title="å®¶åº­ ğŸ‘ª"></a>å®¶åº­ ğŸ‘ª</h1><ul><li>æˆ‘æ‹¥æœ‰è¿™æ ·çš„å®¶åº­åº”è¯¥æ˜¯æˆ‘äººç”Ÿèµ°è¿‡20å¹´æ‰€å¹¸è‡³æä¹‹äº‹</li><li>çˆ¶æ¯å¯¹æˆ‘çš„å…³å¿ƒä¸çˆ±æŠ¤é€‚åˆä¸”å¾—å½“</li><li>çˆ¶æ¯å¯¹æˆ‘çš„æ”¾å…»å¼ç®¡ç†æˆ‘ç§°ä¸ºâ€œä¸ç®¡ä¹‹æ©â€è¿™ç§åšæ³•é—´æ¥çš„ä½¿æˆ‘è‡ªç”±å‘å±•å¯»æˆ‘æ‰€ä¹</li><li>çˆ¶æ¯å¯¹æˆ‘çš„æ— æ¡ä»¶æ”¯æŒæˆ‘çš„é€‰æ‹©ä½¿æˆ‘å—ç›Š</li><li>ç”Ÿäºå¼ å…ˆç”Ÿä¸é™ˆå¥³å£«æ˜¯æˆ‘è¿™ä¸€ç”Ÿæ— å¯æ¯”æ‹Ÿçš„å¹¸è¿</li></ul><p>æ„Ÿè°¢æˆ‘çš„çˆ¶æ¯è®©æˆ‘åº¦è¿‡äº†æ— å¿§çš„ç«¥å¹´ã€å°‘å¹´..æœªæ¥ä¸–ç•Œçš„ç‹°ç‹æˆ‘å·²ç»å¯ä»¥ç‹¬è‡ªå»é¢å¯¹äº†ï¼Œä¹Ÿè¯·ä½ ä»¬æ”¾å¿ƒ<br>æˆ‘æ°¸è¿œçˆ±ä½ ä»¬â¤ï¸</p><h1 id="Last-but-not-least-ğŸ’ª"><a href="#Last-but-not-least-ğŸ’ª" class="headerlink" title="Last but not least ğŸ’ª"></a>Last but not least ğŸ’ª</h1><p>é€šè¿‡æˆ‘ä¸€æ¬¡æ¬¡çš„å¤±è´¥..ç»éªŒçš„ç§¯ç´¯..ä¹Ÿæ‹¿åˆ°äº†å¦‚æ„¿çš„Offerâ€¦<br>æˆ‘æ˜ç™½è¿™å¹¶ä¸æ˜¯æ ‡æ¦œç€ä»€ä¹ˆ..è€Œæ˜¯åˆä¸€æ¬¡æ–°çš„å¼€å§‹..æˆ‘è¿™é•¿ä¹…ä»¥æ¥åªæ˜¯åœ¨ä¸ºè‡ªå·±äº‰å–å»æ›´å¥½çš„å¹³å°å­¦ä¹ ..å‘å±•â€¦<br>åœ¨æ­¤æƒ³ç»™æœªæ¥çš„è‡ªå·±è¯´ï¼šä¸è¦è®©ä½ ä¹‹å‰çš„åŠªåŠ›ç™½è´¹..ä¿æŒè‡ªå·±çš„æ¢¦æƒ³..ä¸è¦è¢«ä¸–ä¿—ä¾µæŸ“..ä¿æŒå­¦ä¹ ..ä¿æŒç«äº‰åŠ›..åˆ‡å‹¿è‡ªæ»¡â€¦</p><blockquote><p>è®°ä¸€ä¸ªå³å°†æ­¥å…¥ç¤¾ä¼šçš„ç”·ç”Ÿå›é¦–è¿‡å»20å¹´çš„ç‹°ç‹ä¸å¯¹è‡ªå·±æœªæ¥çš„å‹‰åŠ±</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2018/04/27/5ae2c515a6cd2.jpg" alt="Lab603 æˆ‘çš„å·¥ä½ ;-)" title="">                </div>                <div class="image-caption">Lab603 æˆ‘çš„å·¥ä½ ;-)</div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;300&quot; height=&quot;50&quot; src=&quot;https://music.163.com/outchain/player?type=2&amp;id=12
      
    
    </summary>
    
    
      <category term="Inspire" scheme="https://edward7zhang.github.io/tags/Inspire/"/>
    
  </entry>
  
  <entry>
    <title>Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼</title>
    <link href="https://edward7zhang.github.io/2018/04/25/Java%E4%B8%8EKotlin%E4%B8%8B%E7%9A%846%E7%A7%8D%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/</id>
    <published>2018-04-25T05:44:14.000Z</published>
    <updated>2018-04-26T11:15:00.285Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/4/12/162b9b7aa8c2779e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p><hr><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>æœ€è¿‘åœ¨å­¦ä¹ Kotlinï¼Œç”±äºGoogleç²‘ç²‘æŠŠè¿™ä¸€è¯­è¨€ææºä¸ºå®˜æ–¹æŒ‡å®šï¼Œå¹¶ä¸”å¯¹äºç§»åŠ¨ç«¯ç­‰å¼€å‘å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ï¼Œä½œä¸ºä¸€åAndroidDeveloperå­¦ä¹ Kotlinæ˜¯å¿…è¦çš„ã€‚<br>å½“åˆåœ¨å­¦ä¹ Javaæ—¶å¯¹å•ä¾‹æ¨¡å¼çš„å…­ç§ä¹¦å†™ä¸åº”ç”¨è®°å¿†æ·±åˆ»<br>æ‰€ä»¥è¿™æ¬¡å¯¹ä¸åŒå•ä¾‹æ¨¡å¼çš„Javaä¸Kotlinå®ç°è¿›è¡Œäº†åˆ†åˆ«æ¢è®¨ã€‚</p></blockquote><p>å…­ç§æ¨¡å¼å¦‚ä¸‹ï¼š</p><ul><li>é¥¿æ±‰æ¨¡å¼</li><li>æ‡’æ±‰æ¨¡å¼</li><li>çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</li><li>åŒé‡æ ¡éªŒé”å¼</li><li>é™æ€å†…éƒ¨ç±»å¼</li><li>æšä¸¾å¼</li></ul><hr><h1 id="é¥¿æ±‰æ¨¡å¼ï¼šstatic-final-field"><a href="#é¥¿æ±‰æ¨¡å¼ï¼šstatic-final-field" class="headerlink" title="é¥¿æ±‰æ¨¡å¼ï¼šstatic final field"></a>é¥¿æ±‰æ¨¡å¼ï¼šstatic final field</h1><p>é¥¿æ±‰å¼å…¶å®æ˜¯ä¸€ç§æ¯”è¾ƒå½¢è±¡çš„ç§°è°“ã€‚æ—¢ç„¶é¥¿ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶å€™å°±æ¯”è¾ƒç€æ€¥ï¼Œé¥¿äº†å˜›ï¼Œäºæ˜¯åœ¨è£…è½½ç±»çš„æ—¶å€™å°±åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚<br>è¿™ç§æ–¹æ³•éå¸¸ç®€å•ï¼Œå› ä¸ºå•ä¾‹çš„å®ä¾‹è¢«å£°æ˜æˆ static å’Œ final å˜é‡äº†ï¼Œåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»åˆ°å†…å­˜ä¸­æ—¶å°±ä¼šåˆå§‹åŒ–ï¼Œæ‰€ä»¥åˆ›å»ºå®ä¾‹æœ¬èº«æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line"><span class="comment">//ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–</span></div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton instance = <span class="keyword">new</span> Singleton();</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="keyword">return</span> instance;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>Kotlinå¼•å…¥äº† <code>object</code>ç±»å‹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“å£°æ˜å•ä¾‹æ¨¡å¼<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="keyword">object</span> Singleton</div></pre></td></tr></table></figure></p><p>è¿™ç§æ–¹å¼å’Œ Java å•ä¾‹æ¨¡å¼çš„é¥¿æ±‰å¼ä¸€æ ·ï¼Œä¸è¿‡æ¯” Java ä¸­çš„å®ç°ä»£ç é‡å°‘å¾ˆå¤šï¼Œå…¶å®æ˜¯ä¸ªè¯­æ³•ç³–ï¼ˆKotlinæ¼«å±±éé‡éƒ½æ˜¯è¯­æ³•ç³–ï¼‰ã€‚åç¼–è¯‘ç”Ÿæˆçš„ class æ–‡ä»¶åå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">static</span> &#123;</div><div class="line">        Singleton singleton = <span class="keyword">new</span> Singleton();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</div><div class="line">        INSTANCE = <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä»åç¼–è¯‘çš„ä»£ç å¯ä»¥çœ‹å‡º object å¯¹è±¡å®é™…ä¸Šè¿˜æ˜¯åˆ©ç”¨äº† INSTANCE é™æ€å˜é‡ï¼Œä½†æ˜¯åœ¨Javaå’ŒKotlinæ··ç¼–æ—¶ï¼ŒJavaä»£ç ä¸­è°ƒç”¨åˆ™éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨å¦‚ä¸‹<code>Singleton.INSTANCE.test()</code>,Kolintä¸­è°ƒç”¨æ—¶åªéœ€è¦ä½¿ç”¨<code>Singleton.test()</code>ã€‚<br>è¿™ç§å®ç°æ–¹å¼åœ¨ç±»åŠ è½½æ—¶å°±åˆ›å»ºäº†å•ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰é¥¿æ±‰å¼å®ç°æ–¹å¼çš„é—®é¢˜ï¼š</p><ul><li>å¦‚æœæ„é€ æ–¹æ³•ä¸­æœ‰è€—æ—¶æ“ä½œçš„è¯ï¼Œä¼šå¯¼è‡´è¿™ä¸ªç±»çš„åŠ è½½æ¯”è¾ƒæ…¢ã€‚</li><li>é¥¿æ±‰å¼ä¸€å¼€å§‹å°±åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è°ƒç”¨ï¼Œä¼šé€ æˆèµ„æºæµªè´¹ã€‚</li><li>è¿˜æœ‰ä¸€ä¸ª Java é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼æ²¡æœ‰çš„é—®é¢˜ï¼šæ— æ³•è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œobject ä¸­ä¸å…è®¸ constructor å‡½æ•°ã€‚</li></ul><h1 id="æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"><a href="#æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"></a>æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨</h1><p>æ‡’æ±‰å¼å…¶å®æ˜¯ä¸€ç§æ¯”è¾ƒå½¢è±¡çš„ç§°è°“ã€‚æ—¢ç„¶æ‡’ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶å€™å°±ä¸ç€æ€¥ã€‚ä¼šä¸€ç›´ç­‰åˆ°é©¬ä¸Šè¦ä½¿ç”¨å¯¹è±¡å®ä¾‹çš„æ—¶å€™æ‰ä¼šåˆ›å»ºï¼Œæ‡’äººå˜›ï¼Œæ€»æ˜¯æ¨è„±ä¸å¼€çš„æ—¶å€™æ‰ä¼šçœŸæ­£å»æ‰§è¡Œå·¥ä½œï¼Œå› æ­¤åœ¨è£…è½½å¯¹è±¡çš„æ—¶å€™ä¸åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">instance = <span class="keyword">new</span> Singleton()ï¼›</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> instance;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>è¿™æ®µä»£ç ç®€å•æ˜äº†ï¼Œè€Œä¸”ä½¿ç”¨äº†æ‡’åŠ è½½æ¨¡å¼ï¼Œä½†æ˜¯å´å­˜åœ¨è‡´å‘½çš„é—®é¢˜ã€‚å½“æœ‰å¤šä¸ªçº¿ç¨‹å¹¶è¡Œè°ƒç”¨ getInstance() çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å¤šçº¿ç¨‹ä¸‹ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlin</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>()&#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">var</span> instance : Singleton? = <span class="literal">null</span></div><div class="line">        <span class="keyword">get</span>()&#123;</div><div class="line">            <span class="keyword">if</span>(field == <span class="literal">null</span>)&#123;</div><div class="line">                field = Singleton()</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> field</div><div class="line">        &#125; </div><div class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">get</span><span class="params">()</span></span>:Singleton&#123;</div><div class="line">            <span class="keyword">return</span> instance!!</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°åœ¨Kotlinå®ç°ä¸­ï¼Œæˆ‘ä»¬è®©å…¶<strong>ä¸»æ„é€ å‡½æ•°ç§æœ‰åŒ–</strong>å¹¶è‡ªå®šä¹‰äº†å…¶<strong>å±æ€§è®¿é—®å™¨</strong>ï¼Œå…¶ä½™å†…å®¹å¤§åŒå°å¼‚ã€‚</p><ul><li>å¦‚æœä¸æ¸…æ¥šKotlinæ„é€ å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ã€‚è¯·ç‚¹å‡» - - - <a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Fclasses.html" target="_blank" rel="external">æ„é€ å‡½æ•°</a></li><li>ä¸æ¸…æ¥šKotlinçš„å±æ€§ä¸è®¿é—®å™¨ï¼Œè¯·ç‚¹å‡» - - -<a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Fproperties.html" target="_blank" rel="external">å±æ€§å’Œå­—æ®µ</a></li></ul><h1 id="çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"><a href="#çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"></a>çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</h1><p>ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†æ•´ä¸ª getInstance() æ–¹æ³•è®¾ä¸ºåŒæ­¥ï¼ˆsynchronizedï¼‰ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">instance = <span class="keyword">new</span> Singleton()ï¼›</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> instance;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>è™½ç„¶åšåˆ°äº†çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸”è§£å†³äº†å¤šå®ä¾‹çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒå¹¶ä¸é«˜æ•ˆã€‚å› ä¸ºåœ¨ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ getInstance() æ–¹æ³•ã€‚ä½†æ˜¯åŒæ­¥æ“ä½œåªéœ€è¦åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ‰è¢«éœ€è¦ï¼Œå³ç¬¬ä¸€æ¬¡åˆ›å»ºå•ä¾‹å®ä¾‹å¯¹è±¡æ—¶ã€‚è¿™å°±å¼•å‡ºäº†åŒé‡æ£€éªŒé”ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlin</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>() &#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">var</span> instance: Singleton? = <span class="literal">null</span></div><div class="line">            <span class="keyword">get</span>() &#123;</div><div class="line">                <span class="keyword">if</span> (field == <span class="literal">null</span>) &#123;</div><div class="line">                    field = Singleton()</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> field</div><div class="line">            &#125;</div><div class="line">        <span class="meta">@Synchronized</span></div><div class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">get</span><span class="params">()</span></span>: Singleton&#123;</div><div class="line">            <span class="keyword">return</span> instance!!</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>å¤§å®¶éƒ½çŸ¥é“åœ¨ä½¿ç”¨æ‡’æ±‰å¼ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨åŒæ­¥é”ï¼Œåœ¨Kotlinä¸­ï¼Œå¦‚æœä½ éœ€è¦å°†æ–¹æ³•å£°æ˜ä¸ºåŒæ­¥ï¼Œéœ€è¦æ·»åŠ  <strong>@Synchronized</strong> æ³¨è§£</p><h1 id="åŒé‡æ ¡éªŒé”å¼"><a href="#åŒé‡æ ¡éªŒé”å¼" class="headerlink" title="åŒé‡æ ¡éªŒé”å¼"></a>åŒé‡æ ¡éªŒé”å¼</h1><p>åŒé‡æ£€éªŒé”æ¨¡å¼ï¼ˆdouble checked locking patternï¼‰ï¼Œæ˜¯ä¸€ç§ä½¿ç”¨åŒæ­¥å—åŠ é”çš„æ–¹æ³•ã€‚ç¨‹åºå‘˜ç§°å…¶ä¸ºåŒé‡æ£€æŸ¥é”ï¼Œå› ä¸ºä¼šæœ‰ä¸¤æ¬¡æ£€æŸ¥ instance == nullï¼Œä¸€æ¬¡æ˜¯åœ¨åŒæ­¥å—å¤–ï¼Œä¸€æ¬¡æ˜¯åœ¨åŒæ­¥å—å†…ã€‚ä¸ºä»€ä¹ˆåœ¨åŒæ­¥å—å†…è¿˜è¦å†æ£€éªŒä¸€æ¬¡ï¼Ÿå› ä¸ºå¯èƒ½ä¼šæœ‰å¤šä¸ªçº¿ç¨‹ä¸€èµ·è¿›å…¥åŒæ­¥å—å¤–çš„ ifï¼Œå¦‚æœåœ¨åŒæ­¥å—å†…ä¸è¿›è¡ŒäºŒæ¬¡æ£€éªŒçš„è¯å°±ä¼šç”Ÿæˆå¤šä¸ªå®ä¾‹äº†ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line"><span class="comment">/**</span></div><div class="line"> * volatileä¿è¯äº†ï¼š</div><div class="line"> * 1.instanceå†å¤šçº¿ç¨‹ä¸‹çš„å¹¶å‘å¯è§æ€§</div><div class="line"> * 2.ç¦æ­¢instanceåœ¨æ“ä½œæ—¶çš„æŒ‡ä»¤é‡æ’åº</div><div class="line"> */</div><div class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getIntance</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="comment">//ç¬¬ä¸€æ¬¡åˆ¤ç©ºï¼Œä¿è¯ä¸å¿…è¦çš„åŒæ­¥</span></div><div class="line"><span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line"><span class="comment">//synchronizedå¯¹SingletonåŠ å…¨å±€é”ï¼Œä¿è¯æ¯æ¬¡åªè¦ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºå®ä¾‹</span></div><div class="line"><span class="keyword">synchronized</span>(Singleton.class)&#123;</div><div class="line"><span class="comment">//ç¬¬äºŒæ¬¡åˆ¤ç©ºæ—¶ä¸ºäº†åœ¨nullçš„æƒ…å†µä¸‹åˆ›å»ºå®ä¾‹</span></div><div class="line"><span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">instance = <span class="keyword">new</span> Singleton();</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> instance;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>æœ‰äº›äººè®¤ä¸ºä½¿ç”¨ volatile çš„åŸå› æ˜¯å¯è§æ€§ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä¿è¯çº¿ç¨‹åœ¨æœ¬åœ°ä¸ä¼šå­˜æœ‰ instance çš„å‰¯æœ¬ï¼Œæ¯æ¬¡éƒ½æ˜¯å»ä¸»å†…å­˜ä¸­è¯»å–ã€‚ä½†å…¶å®æ˜¯ä¸å¯¹çš„ã€‚<strong>ä½¿ç”¨ volatile çš„ä¸»è¦åŸå› æ˜¯å…¶å¦ä¸€ä¸ªç‰¹æ€§ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–ã€‚</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨ volatile å˜é‡çš„èµ‹å€¼æ“ä½œåé¢ä¼šæœ‰ä¸€ä¸ªå†…å­˜å±éšœï¼ˆç”Ÿæˆçš„æ±‡ç¼–ä»£ç ä¸Šï¼‰ï¼Œè¯»æ“ä½œä¸ä¼šè¢«é‡æ’åºåˆ°å†…å­˜å±éšœä¹‹å‰</strong>ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå–æ“ä½œå¿…é¡»åœ¨æ‰§è¡Œå®Œ 1-2-3 ä¹‹åæˆ–è€… 1-3-2 ä¹‹åï¼Œä¸å­˜åœ¨æ‰§è¡Œåˆ° 1-3 ç„¶åå–åˆ°å€¼çš„æƒ…å†µã€‚</p><ul><li>ä»ã€Œå…ˆè¡Œå‘ç”ŸåŸåˆ™ã€çš„è§’åº¦ç†è§£çš„è¯ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ª volatile å˜é‡çš„å†™æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼ˆè¿™é‡Œçš„â€œåé¢â€æ˜¯æ—¶é—´ä¸Šçš„å…ˆåé¡ºåºï¼‰ã€‚</li></ul><p>ä½†æ˜¯ç‰¹åˆ«æ³¨æ„åœ¨ Java 5 ä»¥å‰çš„ç‰ˆæœ¬ä½¿ç”¨äº† volatile çš„åŒæ£€é”è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚å…¶åŸå› æ˜¯ Java 5 ä»¥å‰çš„ JMM ï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰æ˜¯å­˜åœ¨ç¼ºé™·çš„ï¼Œå³æ—¶å°†å˜é‡å£°æ˜æˆ volatile ä¹Ÿä¸èƒ½å®Œå…¨é¿å…é‡æ’åºï¼Œä¸»è¦æ˜¯ volatile å˜é‡å‰åçš„ä»£ç ä»ç„¶å­˜åœ¨é‡æ’åºé—®é¢˜ã€‚è¿™ä¸ª volatile å±è”½é‡æ’åºçš„é—®é¢˜åœ¨ Java 5 ä¸­æ‰å¾—ä»¥ä¿®å¤ï¼Œæ‰€ä»¥åœ¨è¿™ä¹‹åæ‰å¯ä»¥æ”¾å¿ƒä½¿ç”¨ volatileã€‚</p><p>ç›¸ä¿¡ä½ ä¸ä¼šå–œæ¬¢è¿™ç§å¤æ‚åˆéšå«é—®é¢˜çš„æ–¹å¼ï¼Œå½“ç„¶æˆ‘ä»¬æœ‰æ›´å¥½çš„å®ç°çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼çš„åŠæ³•ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>()&#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span>&#123;</div><div class="line">        <span class="keyword">val</span> instance: Singleton <span class="keyword">by</span> lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED)&#123;</div><div class="line">            SingletonDemo()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>å“‡ï¼å°ä¼™ä¼´ä»¬æƒŠå–œä¸ï¼Œæ„Ÿä¸æ„ŸåŠ¨å•Šã€‚æˆ‘ä»¬å±…ç„¶å‡ è¡Œä»£ç å°±å®ç°äº†å¤šè¡Œçš„Javaä»£ç ã€‚å…¶ä¸­æˆ‘ä»¬è¿ç”¨åˆ°äº†Kotlinçš„<strong>å»¶è¿Ÿå±æ€§ Lazy</strong>ã€‚</p><p><strong>Lazy</strong>æ˜¯æ¥å—ä¸€ä¸ª lambda å¹¶è¿”å›ä¸€ä¸ª Lazy å®ä¾‹çš„å‡½æ•°ï¼Œè¿”å›çš„å®ä¾‹å¯ä»¥ä½œä¸ºå®ç°å»¶è¿Ÿå±æ€§çš„å§”æ‰˜ï¼š ç¬¬ä¸€æ¬¡è°ƒç”¨ get() ä¼šæ‰§è¡Œå·²ä¼ é€’ç»™ lazy() çš„ lambda è¡¨è¾¾å¼å¹¶è®°å½•ç»“æœï¼Œ åç»­è°ƒç”¨ get() åªæ˜¯è¿”å›è®°å½•çš„ç»“æœã€‚</p><p>è¿™é‡Œè¿˜æœ‰æœ‰ä¸¤ä¸ªé¢å¤–çš„çŸ¥è¯†ç‚¹ã€‚</p><ul><li><a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Flambdas.html" target="_blank" rel="external">é«˜é˜¶å‡½æ•°</a></li><li><a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Fdelegated-properties.html" target="_blank" rel="external">å§”æ‰˜å±æ€§</a></li></ul><p>å¦‚æœä½ äº†è§£ä»¥ä¸ŠçŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹Lazyçš„å†…éƒ¨å®ç°ã€‚</p><ul><li>Lazyå†…éƒ¨å®ç°</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">lazy</span><span class="params">(mode: <span class="type">LazyThreadSafetyMode</span>, initializer: ()</span></span> -&gt; T): Lazy&lt;T&gt; =</div><div class="line">        <span class="keyword">when</span> (mode) &#123;</div><div class="line">            LazyThreadSafetyMode.SYNCHRONIZED -&gt; SynchronizedLazyImpl(initializer)</div><div class="line">            LazyThreadSafetyMode.PUBLICATION -&gt; SafePublicationLazyImpl(initializer)</div><div class="line">            LazyThreadSafetyMode.NONE -&gt; UnsafeLazyImpl(initializer)</div><div class="line">        &#125;</div></pre></td></tr></table></figure><p>è§‚å¯Ÿä¸Šè¿°ä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬ä¼ å…¥çš„<strong>mode = LazyThreadSafetyMode.SYNCHRONIZED</strong>ï¼Œ é‚£ä¹ˆä¼šç›´æ¥èµ° SynchronizedLazyImplï¼Œæˆ‘ä»¬ç»§ç»­è§‚å¯ŸSynchronizedLazyImplã€‚</p><ul><li>Lazyæ¥å£</li></ul><p>SynchronizedLazyImplå®ç°äº†Lazyæ¥å£ï¼ŒLazyå…·ä½“æ¥å£å¦‚ä¸‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Lazy</span>&lt;<span class="type">out T</span>&gt; </span>&#123;</div><div class="line">     <span class="comment">//å½“å‰å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¸€æ—¦å®ä¾‹åŒ–åï¼Œè¯¥å¯¹è±¡ä¸ä¼šå†æ”¹å˜</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">val</span> value: T</div><div class="line">    <span class="comment">//è¿”å›trueè¡¨ç¤ºï¼Œå·²ç»å»¶è¿Ÿå®ä¾‹åŒ–è¿‡äº†ï¼Œfalse è¡¨ç¤ºï¼Œæ²¡æœ‰è¢«å®ä¾‹åŒ–ï¼Œ</span></div><div class="line">    <span class="comment">//ä¸€æ—¦æ–¹æ³•è¿”å›trueï¼Œè¯¥æ–¹æ³•ä¼šä¸€ç›´è¿”å›true,ä¸”ä¸ä¼šå†ç»§ç»­å®ä¾‹åŒ–</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">isInitialized</span><span class="params">()</span></span>: <span class="built_in">Boolean</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç»§ç»­æŸ¥çœ‹SynchronizedLazyImplï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><ul><li>SynchronizedLazyImplå†…éƒ¨å®ç°</li></ul><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedLazyImpl</span>&lt;<span class="type">out T</span>&gt;</span>(initializer: () -&gt; T, lock: Any? = <span class="literal">null</span>) : Lazy&lt;T&gt;, Serializable &#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">var</span> initializer: (() -&gt; T)? = initializer</div><div class="line">    <span class="meta">@Volatile</span> <span class="keyword">private</span> <span class="keyword">var</span> _value: Any? = UNINITIALIZED_VALUE</div><div class="line">    <span class="comment">// final field is required to enable safe publication of constructed instance</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">val</span> lock = lock ?: <span class="keyword">this</span></div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="keyword">val</span> value: T</div><div class="line">        <span class="keyword">get</span>() &#123;</div><div class="line">            <span class="keyword">val</span> _v1 = _value</div><div class="line">            <span class="comment">//åˆ¤æ–­æ˜¯å¦å·²ç»åˆå§‹åŒ–è¿‡ï¼Œå¦‚æœåˆå§‹åŒ–è¿‡ç›´æ¥è¿”å›ï¼Œä¸åœ¨è°ƒç”¨é«˜çº§å‡½æ•°å†…éƒ¨é€»è¾‘</span></div><div class="line">            <span class="keyword">if</span> (_v1 !== UNINITIALIZED_VALUE) &#123;</div><div class="line">                <span class="meta">@Suppress(<span class="meta-string">"UNCHECKED_CAST"</span>)</span></div><div class="line">                <span class="keyword">return</span> _v1 <span class="keyword">as</span> T</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">return</span> synchronized(lock) &#123;</div><div class="line">                <span class="keyword">val</span> _v2 = _value</div><div class="line">                <span class="keyword">if</span> (_v2 !== UNINITIALIZED_VALUE) &#123;</div><div class="line">                    <span class="meta">@Suppress(<span class="meta-string">"UNCHECKED_CAST"</span>)</span> (_v2 <span class="keyword">as</span> T)</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">val</span> typedValue = initializer!!()<span class="comment">//è°ƒç”¨é«˜çº§å‡½æ•°è·å–å…¶è¿”å›å€¼</span></div><div class="line">                    _value = typedValue   <span class="comment">//å°†è¿”å›å€¼èµ‹å€¼ç»™_value,ç”¨äºä¸‹æ¬¡åˆ¤æ–­æ—¶ï¼Œç›´æ¥è¿”å›é«˜çº§å‡½æ•°çš„è¿”å›å€¼</span></div><div class="line">                    initializer = <span class="literal">null</span></div><div class="line">                    typedValue  </div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"><span class="comment">//çœç•¥éƒ¨åˆ†ä»£ç </span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å‘ç° SynchronizedLazyImpl è¦†ç›–äº†Lazyæ¥å£çš„valueå±æ€§ï¼Œå¹¶ä¸”é‡æ–°äº†å…¶å±æ€§è®¿é—®å™¨ã€‚å…¶å…·ä½“é€»è¾‘ä¸Javaçš„åŒé‡æ£€éªŒæ˜¯ç±»ä¼¼çš„ã€‚</p><p>åˆ°é‡Œè¿™é‡Œå…¶å®å¤§å®¶è¿˜æ˜¯è‚¯å®šæœ‰ç–‘é—®ï¼Œæˆ‘è¿™é‡Œ<strong>åªæ˜¯å®ä¾‹åŒ–äº†SynchronizedLazyImplå¯¹è±¡ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå€¼çš„è·å–ï¼Œå®ƒæ˜¯æ€ä¹ˆæ‹¿åˆ°é«˜é˜¶å‡½æ•°çš„è¿”å›å€¼å‘¢ï¼Ÿ</strong>ã€‚è¿™é‡Œåˆæ¶‰åŠåˆ°äº†<strong>å§”æ‰˜å±æ€§</strong>ã€‚</p><p>å§”æ‰˜å±æ€§è¯­æ³•æ˜¯ï¼š val/var &lt;å±æ€§å&gt;: &lt;ç±»å‹&gt; by &lt;è¡¨è¾¾å¼&gt;ã€‚åœ¨ by åé¢çš„è¡¨è¾¾å¼æ˜¯è¯¥ å§”æ‰˜ï¼Œ å› ä¸ºå±æ€§å¯¹åº”çš„ get()ï¼ˆå’Œ set()ï¼‰ä¼šè¢«å§”æ‰˜ç»™å®ƒçš„ getValue() å’Œ setValue() æ–¹æ³•ã€‚ å±æ€§çš„å§”æ‰˜ä¸å¿…å®ç°ä»»ä½•çš„æ¥å£ï¼Œä½†æ˜¯éœ€è¦æä¾›ä¸€ä¸ª getValue() å‡½æ•°ï¼ˆå’Œ setValue()â€”â€”å¯¹äº var å±æ€§ï¼‰ã€‚</p><p>è€ŒLazy.ktæ–‡ä»¶ä¸­ï¼Œå£°æ˜äº†Lazyæ¥å£çš„getValueæ‰©å±•å‡½æ•°ã€‚æ•…åœ¨æœ€ç»ˆèµ‹å€¼çš„æ—¶å€™ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@kotlin.internal.InlineOnly</div><div class="line">//è¿”å›åˆå§‹åŒ–çš„å€¼ã€‚</div><div class="line">public inline operator fun &lt;T&gt; Lazy&lt;T&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T = value</div></pre></td></tr></table></figure><h1 id="é™æ€å†…éƒ¨ç±»å¼"><a href="#é™æ€å†…éƒ¨ç±»å¼" class="headerlink" title="é™æ€å†…éƒ¨ç±»å¼"></a>é™æ€å†…éƒ¨ç±»å¼</h1><p>è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ã€ŠEffective Javaã€‹ä¸Šæ‰€æ¨èçš„ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span></span>&#123;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE = <span class="keyword">new</span> Singleton();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line"><span class="keyword">return</span> SingletonHolder.INSTANCE;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>è¿™ç§å†™æ³•ä»ç„¶ä½¿ç”¨JVMæœ¬èº«æœºåˆ¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚ç”±äºé™æ€å•ä¾‹å¯¹è±¡æ²¡æœ‰ä½œä¸ºSingletonçš„æˆå‘˜å˜é‡ç›´æ¥å®ä¾‹åŒ–ï¼Œå› æ­¤ç±»åŠ è½½æ—¶ä¸ä¼šå®ä¾‹åŒ–Singletonï¼Œ<strong>ç¬¬ä¸€æ¬¡è°ƒç”¨getInstance()æ—¶å°†å†…éƒ¨ç±»SingletonHodler</strong>ï¼Œåœ¨è¯¥å†…éƒ¨ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªstaticç±»å‹çš„å˜é‡INSTANCEï¼Œæ­¤æ—¶ä¼šé¦–å…ˆåˆå§‹åŒ–è¿™ä¸ªæˆå‘˜å˜é‡ï¼Œç”±Javaè™šæ‹Ÿæœºæ¥ä¿è¯å…¶çº¿ç¨‹å®‰å…¨æ€§ï¼Œç¡®ä¿è¯¥æˆå‘˜å˜é‡åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ã€‚ç”±äºgetInstance()æ–¹æ³•æ²¡æœ‰ä»»ä½•çº¿ç¨‹é”å®šï¼Œå› æ­¤å…¶æ€§èƒ½ä¸ä¼šé€ æˆä»»ä½•å½±å“ã€‚</p><p>ç”±äºSingletonHodleræ˜¯ç§æœ‰çš„ï¼Œé™¤äº†getInstance()ä¹‹å¤–æ²¡æœ‰åŠæ³•è®¿é—®å®ƒï¼Œå› æ­¤å®ƒæ˜¯æ‡’æ±‰å¼çš„ï¼›åŒæ—¶è¯»å–å®ä¾‹çš„æ—¶å€™ä¸ä¼šè¿›è¡ŒåŒæ­¥ï¼Œæ²¡æœ‰æ€§èƒ½ç¼ºé™·ï¼›ä¹Ÿä¸ä¾èµ–JDKç‰ˆæœ¬ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>() &#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</div><div class="line">        <span class="keyword">val</span> instance = SingletonHolder.holder</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">object</span> SingletonHolder &#123;</div><div class="line">        <span class="keyword">val</span> holder= Singleton()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><h1 id="æšä¸¾å¼ï¼šEnum"><a href="#æšä¸¾å¼ï¼šEnum" class="headerlink" title="æšä¸¾å¼ï¼šEnum"></a>æšä¸¾å¼ï¼šEnum</h1><p>ç”¨æšä¸¾å†™å•ä¾‹å®åœ¨å¤ªç®€å•äº†ï¼è¿™ä¹Ÿæ˜¯å®ƒæœ€å¤§çš„ä¼˜ç‚¹ã€‚ä¸‹é¢è¿™æ®µä»£ç å°±æ˜¯å£°æ˜æšä¸¾å®ä¾‹çš„é€šå¸¸åšæ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">enum</span> EasySingleton&#123;</div><div class="line">    INSTANCE;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡EasySingleton.INSTANCEæ¥è®¿é—®å®ä¾‹ï¼Œè¿™æ¯”è°ƒç”¨getInstance()æ–¹æ³•ç®€å•å¤šäº†ã€‚åˆ›å»ºæšä¸¾é»˜è®¤å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‹…å¿ƒdouble checked lockingï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–å¯¼è‡´é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="keyword">enum</span> <span class="class"><span class="keyword">class</span> <span class="title">EasySingleton</span></span>&#123;</div><div class="line">INSTANCE;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/4/12/162b9b7aa8c2779e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id
      
    
    </summary>
    
    
      <category term="Java" scheme="https://edward7zhang.github.io/tags/Java/"/>
    
      <category term="Kotlin" scheme="https://edward7zhang.github.io/tags/Kotlin/"/>
    
  </entry>
  
  <entry>
    <title>è®°ä¸€æ¬¡å‘†è‹¥æœ¨é¸¡çš„é¢è¯•</title>
    <link href="https://edward7zhang.github.io/2018/04/24/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%91%86%E8%8B%A5%E6%9C%A8%E9%B8%A1%E7%9A%84%E9%9D%A2%E8%AF%95/"/>
    <id>https://edward7zhang.github.io/2018/04/24/è®°ä¸€æ¬¡å‘†è‹¥æœ¨é¸¡çš„é¢è¯•/</id>
    <published>2018-04-24T14:24:14.000Z</published>
    <updated>2018-04-24T14:52:45.817Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è®°å½•ä¸€é“å¾ˆç®€å•å¾ˆç®€å•çš„å…¥é—¨é¢˜â€¦æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ªæˆ‘é«˜ä¸­å°±å­¦è¿‡çš„æ•°å­¦çŸ¥è¯†â€¦å‰ç§¯â€¦å¯æƒœå¹´ä¹…ä¸ç”¨â€¦åœ¨é¢è¯•çš„ç´§è¦å…³å¤´å°±æ˜¾å¾—å‘†è‹¥æœ¨é¸¡â€¦å¾ˆé—æ†¾æ²¡æœ‰è¡¨ç°å‡ºè‡ªå·±çš„çœŸå®æ°´å¹³â€¦</p></blockquote><pre><code>/* ** åœ¨ä¸€ä¸ªå¹³é¢ä¸­.ä»»æ„ä¸€ä¸ªç›´çº¿çº¿æ®µå¯ä»¥ç”±2ä¸ªç‚¹è¡¨ç¤º,ä»»æ„ä¸€ä¸ªç‚¹å¯ä»¥ç”±X,Yåæ ‡å€¼è¡¨ç¤º.*ä¾‹å¦‚çº¿æ®µ J ç”± ç‚¹A(x1, y1), B(x2, y2)è¡¨ç¤º. å…¶ä¸­åæ ‡å€¼ x,y éƒ½ä¸ºint. *æ±‚å†™å‡ºä¸€ä¸ªæ–¹æ³•, boolean checkIntersect(Line J, Line K); *æ£€æŸ¥åœ¨å¹³é¢ä¸­ç»™å‡ºçš„2ä¸ªçº¿æ®µæ˜¯å¦ç›¸äº¤, return true ä»£è¡¨çº¿æ®µç›¸äº¤, false ä¸ºä¸æƒ³äº¤. *è¯·è‡ªè¡Œå®šä¹‰çº¿æ®µLineçš„æ•°æ®ç»“æ„, å¹¶å¯ä»¥å‡è®¾ä¼ å…¥å‚æ•°Line J å’Œ Line K ä¸ºæœ‰æ•ˆè¾“å…¥. */</code></pre><hr><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> aiqyInterview;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CheckIntersect</span> </span>&#123;</div><div class="line"><span class="comment">/**</span></div><div class="line"> * </div><div class="line"> * <span class="doctag">@author</span> EdwardZhang</div><div class="line"> * åˆ¤æ–­çº¿æ®µç›¸äº¤ï¼š</div><div class="line"> * ä¸¤ä¸ªçº¿æ®µçš„äº¤ç‚¹ä¸ªæ•°å¯èƒ½æœ‰0ä¸ª 1ä¸ªæˆ–è€…æ— æ•°ä¸ª</div><div class="line"> * åˆ¤æ–­ä¸¤ä¸ªçº¿æ®µç›¸äº¤ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤ï¼š</div><div class="line"> * åˆ¤æ–­Aç‚¹Bç‚¹æ˜¯å¦åœ¨çº¿æ®µCDçš„ä¸¤ä¾§ï¼Œå³è®¡ç®—å‰ç§¯æ—¶å¼‚å·</div><div class="line"> * åˆ¤æ–­Cç‚¹å’ŒDç‚¹æ˜¯å¦åœ¨çº¿æ®µABçš„ä¸¤ä¾§ï¼Œå³è®¡ç®—å‰ç§¯æ—¶å¼‚å·</div><div class="line"> * ç„¶ååœ¨å¤„ç†ç‰¹æ®Šæƒ…å†µï¼Œå³ABCDå››ä¸ªç‚¹æœ‰è‡³å°‘ä¸‰ä¸ªç‚¹å…±çº¿çš„æƒ…å†µï¼Œ</div><div class="line"> * å³å‡ºç°å‰ç§¯ä¸ºé›¶çš„æƒ…å†µï¼Œå¦‚æœAç‚¹ä¸çº¿æ®µCDå…±çº¿ï¼Œ</div><div class="line"> * åˆ™è¦æŸ¥çœ‹Aç‚¹æ˜¯å¦åœ¨çº¿æ®µCDä¸Šï¼Œå…¶å®ƒæƒ…å†µä¾æ¬¡ç±»æ¨ã€‚</div><div class="line"> */</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line"><span class="keyword">int</span> x;</div><div class="line"><span class="keyword">int</span> y;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="keyword">return</span> x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setX</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line"><span class="keyword">this</span>.x = x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="keyword">return</span> y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setY</span><span class="params">(<span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line"><span class="keyword">this</span>.y = y;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span> </span>&#123;</div><div class="line">Point A = <span class="keyword">new</span> Point();</div><div class="line">Point B = <span class="keyword">new</span> Point();</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> Point <span class="title">getA</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="keyword">return</span> A;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setA</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">A.x = i;</div><div class="line">A.y = j;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> Point <span class="title">getB</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="keyword">return</span> B;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setB</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">B.x = i;</div><div class="line">B.y = j;</div><div class="line">&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">float</span> <span class="title">direct</span><span class="params">(Point i, Point j, Point k)</span> </span>&#123; <span class="comment">// è®¡ç®—å‰ç§¯</span></div><div class="line"><span class="keyword">return</span> (k.x - i.x) * (j.y - i.y) - (j.x - i.x) * (k.y - i.y);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">onSegment</span><span class="params">(Point a, Point b, Point c)</span> </span>&#123; <span class="comment">// å…±çº¿æ—¶ï¼Œåˆ¤æ–­ç‚¹æ˜¯å¦è½åœ¨çº¿æ®µ</span></div><div class="line"><span class="keyword">float</span> minx = Math.min(a.x, b.x);</div><div class="line"><span class="keyword">float</span> maxx = Math.max(a.x, b.x);</div><div class="line"><span class="keyword">float</span> miny = Math.min(a.y, b.y);</div><div class="line"><span class="keyword">float</span> maxy = Math.max(a.y, b.y);</div><div class="line"><span class="keyword">if</span> (c.x &gt;= minx &amp;&amp; c.x &lt;= maxx &amp;&amp; c.y &gt;= miny &amp;&amp; c.y &lt;= maxy) &#123;</div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">checkIntersect</span><span class="params">(Line X, Line Y)</span> </span>&#123;</div><div class="line"><span class="keyword">float</span> d1 = direct(Y.A, Y.B, X.A);</div><div class="line"><span class="keyword">float</span> d2 = direct(Y.A, Y.B, X.B);</div><div class="line"><span class="keyword">float</span> d3 = direct(X.A, X.B, Y.A);</div><div class="line"><span class="keyword">float</span> d4 = direct(X.A, X.B, Y.B);</div><div class="line"><span class="keyword">if</span> (d1 * d2 &lt; <span class="number">0</span> &amp;&amp; d3 * d4 &lt; <span class="number">0</span>)</div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span> (d1 == <span class="number">0</span> &amp;&amp; onSegment(Y.A, Y.B, X.A))</div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span> (d2 == <span class="number">0</span> &amp;&amp; onSegment(Y.A, Y.B, X.B))</div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span> (d3 == <span class="number">0</span> &amp;&amp; onSegment(X.A, X.B, Y.A))</div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"><span class="keyword">else</span> <span class="keyword">if</span> (d4 == <span class="number">0</span> &amp;&amp; onSegment(X.A, X.B, Y.B))</div><div class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">CheckIntersect checkIntersect = <span class="keyword">new</span> CheckIntersect();</div><div class="line">Line a = checkIntersect.new Line();</div><div class="line">Line b = checkIntersect.new Line();</div><div class="line">a.setA(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">a.setB(<span class="number">2</span>, <span class="number">2</span>);</div><div class="line">b.setA(<span class="number">2</span>, <span class="number">0</span>);</div><div class="line">b.setB(<span class="number">0</span>, <span class="number">2</span>);</div><div class="line">System.out.println(checkIntersect(a,b));<span class="comment">//ç›¸äº¤ true</span></div><div class="line">a.setA(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">a.setB(<span class="number">2</span>, <span class="number">2</span>);</div><div class="line">b.setA(<span class="number">2</span>, <span class="number">0</span>);</div><div class="line">b.setB(<span class="number">1</span>, <span class="number">0</span>);</div><div class="line">System.out.println(checkIntersect(a,b));<span class="comment">//ç›¸ç¦» false</span></div><div class="line">a.setA(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">a.setB(<span class="number">2</span>, <span class="number">2</span>);</div><div class="line">b.setA(<span class="number">2</span>, <span class="number">0</span>);</div><div class="line">b.setB(<span class="number">4</span>, <span class="number">2</span>);</div><div class="line">System.out.println(checkIntersect(a,b));<span class="comment">//å¹³è¡Œ false</span></div><div class="line">a.setA(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">a.setB(<span class="number">2</span>, <span class="number">2</span>);</div><div class="line">b.setA(<span class="number">1</span>, <span class="number">1</span>);</div><div class="line">b.setB(<span class="number">3</span>, <span class="number">3</span>);</div><div class="line">System.out.println(checkIntersect(a,b));<span class="comment">//åœ¨ä¸€æ¡ç›´çº¿ä¸Š true</span></div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è®°å½•ä¸€é“å¾ˆç®€å•å¾ˆç®€å•çš„å…¥é—¨é¢˜â€¦æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ªæˆ‘é«˜ä¸­å°±å­¦è¿‡çš„æ•°å­¦çŸ¥è¯†â€¦å‰ç§¯â€¦å¯æƒœå¹´ä¹…ä¸ç”¨â€¦åœ¨é¢è¯•çš„ç´§è¦å…³å¤´å°±æ˜¾å¾—å‘†è‹¥æœ¨é¸¡â€¦å¾ˆé—æ†¾æ²¡æœ‰è¡¨ç°å‡ºè‡ªå·±çš„çœŸå®æ°´å¹³â€¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;/* *

* åœ¨ä¸€ä¸ªå¹³é¢ä¸­.ä»»æ„ä¸€ä¸ª
      
    
    </summary>
    
    
      <category term="Interview" scheme="https://edward7zhang.github.io/tags/Interview/"/>
    
      <category term="Inspire" scheme="https://edward7zhang.github.io/tags/Inspire/"/>
    
  </entry>
  
  <entry>
    <title>è®¡ç®—æœºç³»åº”å±Šç”Ÿæ±‚èŒæŒ‡åŒ—</title>
    <link href="https://edward7zhang.github.io/2018/04/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E5%BA%94%E5%B1%8A%E7%94%9F%E6%B1%82%E8%81%8C%E6%8C%87%E5%8C%97/"/>
    <id>https://edward7zhang.github.io/2018/04/19/è®¡ç®—æœºç³»åº”å±Šç”Ÿæ±‚èŒæŒ‡åŒ—/</id>
    <published>2018-04-19T01:07:14.000Z</published>
    <updated>2018-04-19T05:18:21.396Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä»Šå¤©æ—©æ™¨çœ‹åˆ°äº†Easyå¤§å¤§çš„è¿™ç¯‡æ–‡ç« ï¼Œåœ¨æ–‡ç« ä¸­è¯»åˆ°äº†è‡ªå·±çš„å½±å­ï¼Œå¹¶ä¸”ä¹Ÿæ˜ç™½äº†è¿™æ®µæ—¶é—´è‡ªå·±åœ¨å®ä¹ æ‹›è˜ä¸­çš„ä¸è¶³ï¼Œå—ç›ŠåŒªæµ…ã€‚å¸Œæœ›æˆ‘çš„å¥½å‹å¯ä»¥çœ‹åˆ°ä»ä¸­å—ç›Š<br>ç‰¹æ­¤è½¬è½½ Fromï¼š<a href="https://github.com/easychen/career-guide-for-cs-graduate" target="_blank" rel="external">https://github.com/easychen/career-guide-for-cs-graduate</a></p></blockquote><h1 id="è®¡ç®—æœºç³»åº”å±Šç”Ÿæ±‚èŒæŒ‡åŒ—"><a href="#è®¡ç®—æœºç³»åº”å±Šç”Ÿæ±‚èŒæŒ‡åŒ—" class="headerlink" title="è®¡ç®—æœºç³»åº”å±Šç”Ÿæ±‚èŒæŒ‡åŒ—"></a>è®¡ç®—æœºç³»åº”å±Šç”Ÿæ±‚èŒæŒ‡åŒ—</h1><p>æœ€è¿‘å¸®äº†ä¸€ä¸ªæœ‹å‹çš„æœ‹å‹åšäº†ä¸‹èŒä¸šè§„åˆ’ï¼Œç»“åˆä¹‹å‰åœ¨å¾®åšä¸Šçš„ä¸€äº›é—®ç­”ï¼Œè§‰å¾—ä¸å°‘åº”å±Šç”ŸåŒå­¦å¯¹æ±‚èŒæœ‰è›®å¤šè¯¯è§£çš„ï¼Œæ‰€ä»¥è¿™é‡Œåˆ†äº«ä¸‹æˆ‘çš„ä¸€ç‚¹ç»éªŒå§ã€‚è™½ç„¶æœ¬æ–‡é¢˜ä¸ºæŒ‡åŒ—ï¼Œä½†åªæ˜¯ä¸€ä¸ªé¢å‘å¯¹è¡Œä¸šã€å¯¹ä¸šç•ŒæŠ€æœ¯ä¸ç†Ÿæ‚‰çš„åŒå­¦çš„æ“ä½œæ‰‹å†Œã€‚å„ä½æŠ€æœ¯å¤§ç‰›å¯èƒ½è§‰å¾—ç²—æµ…ï¼Œè¯·è§è°…ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh5iysqx1j20qy0f50xb.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure> <p>æœ¬æ–‡ç•¥é•¿ï¼Œä¼šè°ˆåŠä»¥ä¸‹é—®é¢˜ã€‚</p><ul><li>èŒä¸šè§„åˆ’è¶Šæ—©è¶Šå¥½</li><li>ä¸€å®šè¦çæƒœæ ¡æ‹›çš„æœºä¼šçª—å£</li><li>åº”å±Šç”Ÿçš„æ±‚èŒç­–ç•¥</li><li>æŠ€æœ¯èŒä½çš„é€‰æ‹©</li><li>è¯­è¨€å’ŒæŠ€æœ¯æ ˆçš„é€‰æ‹©</li><li>æŠ€æœ¯æ ˆçš„ä¼˜åŒ–</li><li>ç®€å†çš„ä¹¦å†™</li></ul><p>ä¸‹è¾¹æˆ‘ä»¬ä¸€ç‚¹ä¸€ç‚¹æ¥è®²ã€‚</p><blockquote><p>æœ¬æ–‡ä½œè€… @Easy ï¼ˆ <a href="http://weibo.com/easy" target="_blank" rel="external">weibo.com/easy</a> ï¼‰ï¼Œæ–¹ç³–å…¨æ ˆè¯¾ï¼ˆ <a href="http://quanzhanke.com" target="_blank" rel="external">quanzhanke.com</a> ï¼‰ä¸»è®²äººï¼Œæœ‰å¤šå¹´å¤§è§„æ¨¡ç½‘ç«™ã€äº‘å¹³å°å¼€å‘ç»éªŒã€æ›¾è¿è¥è¿‡ç”¨æˆ·æ•°åä¸‡çš„ç¨‹åºå‘˜æ‹å–å¹³å°ï¼Œä¸ºä¸Šåƒåç¨‹åºå‘˜æ‰¾è¿‡å·¥ä½œã€‚è½¬è½½è¯·ä¿ç•™ä»¥ä¸Šä½œè€…ä¿¡æ¯å’Œé“¾æ¥ï¼Œè°¢è°¢ã€‚</p></blockquote><p>å†…å®¹æ›´æ–°é€šçŸ¥</p><p>å¯å¾®ä¿¡æ‰«ç ï¼ˆæœªå…³æ³¨ç›´æ¥å…³æ³¨ï¼‰è®¢é˜…æœ¬æŒ‡åŒ—æ›´æ–°ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh6g6fiauj20by0byq3p.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure> <h2 id="èŒä¸šè§„åˆ’è¶Šæ—©è¶Šå¥½"><a href="#èŒä¸šè§„åˆ’è¶Šæ—©è¶Šå¥½" class="headerlink" title="èŒä¸šè§„åˆ’è¶Šæ—©è¶Šå¥½"></a>èŒä¸šè§„åˆ’è¶Šæ—©è¶Šå¥½</h2><p>èŒä¸šæ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„ä¸œè¥¿ï¼Œå®ƒæœ‰ä¸¤ç‚¹å¾ˆç‰¹åˆ«ï¼Œä¸€ä¸ªæ˜¯ã€Œä¸å¯é‡æ¥ã€ï¼Œå¦ä¸€ä¸ªæ˜¯ã€ŒéªŒè¯è€—æ—¶ã€ã€‚ä¹‹å‰å’Œä¸€ä¸ªè€å‹èŠå¤©ï¼Œä»–æ„Ÿå¹è¯´ï¼Œå›è¿‡å¤´çœ‹çœ‹ï¼Œè‡ªå·±çš„æ•´ä¸ªèŒä¸šè¿‡å¾—ä¹±ä¸ƒå…«ç³Ÿã€‚ç­‰åˆ°ç°åœ¨æ˜ç™½è¿™ç‚¹çš„æ—¶å€™ï¼Œå·²ç»æ¥ä¸åŠäº†ã€‚å› ä¸ºä¸€èˆ¬ä¸€æ®µèŒä¸šç»å†çŸ­åˆ™ä¸€åˆ°ä¸¤å¹´ï¼Œé•¿åˆ™ä¸‰åˆ°äº”å¹´ã€‚æ¢ä¸¤å®¶å…¬å¸ï¼Œåå¹´ä¸€æ™ƒå°±è¿‡å»äº†ã€‚å¦‚æœä½ åœ¨è¿™åå¹´ä¸­æ²¡æœ‰å¾ˆå¥½çš„æˆé•¿ï¼Œåˆä¸å¹¸èº«åœ¨æŸäº›å…¬å¸ï¼Œé‚£ä¸‰åå¤šå²å¯èƒ½å°±é¢ä¸´è¢«æ¸…é€€çš„å¤„å¢ƒäº†ã€‚</p><p>æˆ‘ä¸€èˆ¬ä¸å±‘äºå»å’Œåˆ«äººåˆ†äº«ä»€ä¹ˆäººç”Ÿç»éªŒï¼Œæ¯•ç«Ÿæœ‰äº›å‘ä¸è‡ªå·±è·³ä¸‹å»æ˜¯ä¸ä¼šç‰¢è®°åœ¨å¿ƒçš„ã€‚ä½†èŒä¸šçš„å‘ä¸ä¸€æ ·ï¼Œç­‰ä½ å‘ç°åœ¨å‘é‡Œæ—¶ï¼Œå¯èƒ½å·²ç»æ™šäº†ã€‚æ‰€ä»¥æˆ‘èŠ±äº†è›®å¤šæ—¶é—´æ¥ç ”ç©¶è¿™ä¸ªã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»è¯»è¯»æˆ‘çš„ã€Šç¨‹åºå‘˜è·³æ§½å…¨æ”»ç•¥ã€‹ï¼Œä¸“é—¨è®²èŒä¸šè§„åˆ’çš„ã€‚( åœ¨æˆ‘çš„ä¸ªäººç½‘ç«™ä¸Šå¯ä»¥å…è´¹è¯» <a href="http://t.cn/RYh1xhS" target="_blank" rel="external">æ–¹ç³–æ°”çƒğŸˆ|ç¨‹åºå‘˜è·³æ§½å…¨æ”»ç•¥</a> ) </p><h2 id="ä¸€å®šè¦çæƒœæ ¡æ‹›çš„æœºä¼šçª—å£"><a href="#ä¸€å®šè¦çæƒœæ ¡æ‹›çš„æœºä¼šçª—å£" class="headerlink" title="ä¸€å®šè¦çæƒœæ ¡æ‹›çš„æœºä¼šçª—å£"></a>ä¸€å®šè¦çæƒœæ ¡æ‹›çš„æœºä¼šçª—å£</h2><p>æˆ‘å¤§å­¦çš„è¯­æ–‡è€å¸ˆæ›¾å‘Šè¯«æˆ‘ä»¬è¯´ï¼Œäººç”Ÿå°±åƒå››å­£ä¸€æ ·ï¼Œæ˜¥å¤©è¯¥æ’­ç§ï¼Œä½ å»æ’­ç§ï¼Œç§‹å¤©è¯¥æ”¶è·ï¼Œä½ å»æ”¶è·ï¼Œè¿™æ ·æ˜¯æœ€çœåŠ›çš„ã€‚ä½ éè¦å€’è¿‡æ¥å‘¢ï¼Œä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œä½†å°±æ˜¯ä¼šå¾ˆç´¯ï¼Œä¼šä»˜å‡ºæ›´å¤šçš„ç²¾åŠ›å’Œä»£ä»·ã€‚</p><p>æ ¡æ‹›ä¹Ÿç±»ä¼¼ï¼Œå®ƒæ˜¯ç¤¾ä¼šå’Œä¼ä¸šä¸ºä»æœªæ­¥å…¥èŒåœºçš„åŒå­¦ç‰¹æ„å‡†å¤‡çš„ä¸€ä¸ªç»¿è‰²é€šé“ã€‚åœ¨è¿™ä¸ªé€šé“é‡Œï¼Œæˆ‘ä»¬å°†å€™é€‰äººå½“åšä¸€å¼ ç™½çº¸ï¼Œå¯ä»¥æ²¡æœ‰ç»éªŒã€æ²¡æœ‰è¡Œä¸šå¸¸è¯†ï¼Œåªè¦å¯¹å·¥ä½œå……æ»¡çƒ­æƒ…ã€æœ‰è¿˜ç®—èªæ˜çš„å¤´è„‘ï¼ŒåŸºæœ¬éƒ½ç®—æ˜¯åˆæ ¼çš„ã€‚ä¼ä¸šä¼šä¸ºè¿™äº›åŒå­¦å‡†å¤‡åŸ¹è®­ï¼Œå¹¶ç•™è¶³é€‚åº”æœŸï¼Œæœ‰çš„ç”šè‡³è¿˜ä¼šå®‰æ’ä¸€å¯¹ä¸€çš„è€å‘˜å·¥æ¥å¸¦ã€‚</p><p>ä½†æ˜¯ï¼Œä¸€æ—¦ä½ é”™è¿‡äº†å®ƒï¼Œé‚£ä¸€åˆ‡éƒ½ä¸ä¸€æ ·äº†ï¼Œå› ä¸ºä½ è¿›å…¥äº†åä¸ºã€Œç¤¾æ‹›ã€çš„çº¢æµ·ã€‚åœ¨è¿™é‡Œï¼Œæ‰€æœ‰å·²ç»æ¯•ä¸šçš„äººå˜æˆäº†ä½ çš„ç«äº‰å¯¹æ‰‹ï¼Œä¸ä½†è¦é¢å¯¹å’Œä½ ä¸€æ ·å·¥ä½œå¹´é™çš„äººç«äº‰ï¼Œè¿˜è¦é¢å¯¹å…¶ä»–å·¥ä½œæ—¶é—´æ›´é•¿ã€ç»éªŒæ›´ä¸°å¯Œçš„åŒè¡Œè·³æ§½å¸¦æ¥çš„ç«äº‰ã€‚ç”šè‡³ç»å¸¸å‘ç”Ÿå› ä¸ºæ‹›åˆ°äº†ä¸€ä¸ªä¸­çº§å²—ä½çš„å€™é€‰äººï¼Œå–æ¶ˆæ‰ä¸¤ä¸ªåˆçº§å²—ä½çš„æƒ…å†µã€‚</p><p>æ‰€ä»¥æ ¡æ‹›éå¸¸é‡è¦ï¼Œä¸€å®šä¸è¦é”™è¿‡ã€‚</p><h2 id="åº”å±Šç”Ÿçš„æ±‚èŒç­–ç•¥"><a href="#åº”å±Šç”Ÿçš„æ±‚èŒç­–ç•¥" class="headerlink" title="åº”å±Šç”Ÿçš„æ±‚èŒç­–ç•¥"></a>åº”å±Šç”Ÿçš„æ±‚èŒç­–ç•¥</h2><p>æ—¢ç„¶æ ¡æ‹›è¿™ä¹ˆé‡è¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ‰èƒ½åœ¨å…¶ä¸­å æ®ä¼˜åŠ¿å‘¢ï¼Ÿè®°ä½ä¸¤ä¸ªè¯ã€Œæ‹©ä¼˜å½•å–ã€å’Œã€Œè·‘èµ¢åŒå­¦ã€ã€‚</p><h3 id="æ‹©ä¼˜å½•å–"><a href="#æ‹©ä¼˜å½•å–" class="headerlink" title="æ‹©ä¼˜å½•å–"></a>æ‹©ä¼˜å½•å–</h3><p>åœ¨å¾®åšä¸Šç»å¸¸å¯ä»¥çœ‹åˆ°è¿™æ ·çš„é—®é¢˜ï¼šã€Œæˆ‘è¿™ä¸ªä¹Ÿä¼šã€é‚£ä¸ªä¹Ÿåˆæ ¼ï¼Œå‡­ä»€ä¹ˆä»–ä»¬å°±ä¸æ‹›æˆ‘å‘¢ï¼Ÿã€è¿™æ˜¯å…¸å‹çš„æ²¡æœ‰æ˜ç™½æ‹›è˜æœ¬è´¨çš„è¡¨ç°ã€‚è¦æ˜ç™½ï¼Œæ±‚èŒä¸æ˜¯ã€Œä¼šè€ƒã€è€Œæ˜¯ã€Œé«˜è€ƒã€ï¼Œä¸æ˜¯ä»€ä¹ˆäº§å“çš„å‡ºå‚åˆæ ¼æ ¡éªŒï¼Œè€Œæ˜¯ä¸€åœºä¸­å›½è¿™ä¸ªèµ„æºç´§ç¼ºå‹å›½å®¶é‡Œçš„åˆä¸€åœºä¼˜è´¨èµ„æºäº‰å¤ºæˆ˜ã€‚</p><p>é‚£äº›è–ªæ°´é«˜ã€å‘å±•ç©ºé—´å¥½çš„çŸ¥åä¼ä¸šï¼ˆåæ–‡ç®€ç§°å¤§å‚ï¼‰ï¼Œæ¯å¹´æ‹›è˜çš„äººæ•°æ˜¯ä¸€å®šçš„ã€‚æç«¯ç‚¹è¯´ï¼Œå¦‚æœç°åœ¨æ‰€æœ‰å€™é€‰äººçš„æ°´å¹³éƒ½ä¸‹è°ƒ20%ï¼Œä»–ä»¬ä¾ç„¶è¦æ‹›äººçš„ï¼Œä¸ç„¶æ²¡æ³•å‘å±•ï¼ˆä¸¥æ ¼è®²ä¼šæœ‰ä¸€äº›è°ƒæ•´ç©ºé—´ï¼Œä½†ä¹Ÿæ‰›ä¸äº†å¤šä¹…ï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œå°¤å…¶æ˜¯åœ¨æ ¡æ‹›é‡Œè¾¹ï¼Œã€Œç»å¯¹å€¼ã€å¹¶ä¸é‡è¦ï¼Œã€Œç›¸å¯¹å€¼ã€æ‰æ˜¯æœ€é‡è¦çš„ã€‚</p><h3 id="è·‘èµ¢åŒå­¦"><a href="#è·‘èµ¢åŒå­¦" class="headerlink" title="è·‘èµ¢åŒå­¦"></a>è·‘èµ¢åŒå­¦</h3><p>æˆ‘æ¥è®²ä¸€ä¸ªå¾ˆè€çš„ç«¥è¯ï¼Œå¬è¿‡çš„åŒå­¦è¯·è£…ä½œæ²¡å¬è¿‡ã€‚ä¸¤ä¸ªäººåœ¨æ£®æ—é‡Œè¾¹é‡åˆ°äº†ç†ŠğŸ»ï¼Œkuma çœ‹è§ä»–ä»¬å°±å—·å—·çš„è¿½äº†è¿‡æ¥ã€‚ä¸€ä¸ªåŒå­¦è½¬èº«å°±è·‘ï¼Œå¦ä¸€ä¸ªé—®ä»–è¯´ï¼Œæˆ‘ä»¬æ€ä¹ˆè·‘ä¹Ÿè·‘ä¸è¿‡ç†Šçš„ï¼Œé‚£è·‘æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè¿™ä¸ªåŒå­¦å›ç­”è¯´ï¼Œæˆ‘åªè¦è·‘èµ¢ä½ å°±å¥½äº†å‘€ã€‚</p><p>é‚£å…¶å®æ ¡æ‹›ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å®ƒä¸æ˜¯è¯´ä½ çš„èƒ½åŠ›è¦æœ‰å¤šå°‘ï¼Œå…¶å®å†ç‰›çš„åº”å±Šç”Ÿçš„æ°´å¹³æ”¾åˆ°è¡Œä¸šé‡Œè¾¹ï¼Œéƒ½æ˜¯ä¸å…¥æµçš„ï¼Œå› ä¸ºå¾ˆå¤šæ°´å¹³æ˜¯é æµ·é‡çš„ç”¨æˆ·å‹å‡ºæ¥çš„ï¼Œä½ æ²¡æœ‰é‡åˆ°è¿‡è¿™äº›åœºæ™¯ï¼Œæ€ä¹ˆå¯èƒ½çŸ¥é“æ€ä¹ˆå»åº”å¯¹ã€‚</p><p>æ‰€ä»¥åº”å±Šç”Ÿå’Œé‚£äº›ç¤¾æ‹›çš„å€™é€‰äººæ¯”ï¼Œé€šå¸¸éƒ½æ˜¯æ²¡å•¥èƒœç®—çš„ï¼Œä½†å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å’Œä»–ä»¬æ˜¯ä¸åŒçš„èµ›é“ã€‚è¦è·‘èµ¢ä¸€ä¸ªåœ¨å¤§å‚æ ¸å¿ƒå²—ä½å·¥ä½œäº†ä¸€ä¸¤å¹´çš„äººä¸å®¹æ˜“ï¼Œä½†è¦è·‘èµ¢é‚£äº›å’Œä½ ä¸€æ ·åœ¨å¤§å­¦åªå­¦äº†ä¸€å †ç†è®ºåŸºç¡€ï¼Œç”šè‡³ç†è®ºè¯¾éƒ½æ²¡å¥½å¥½å­¦å¤©å¤©åœ¨å¯å®¤åƒé¸¡çš„åŒå­¦ï¼Œå°±å®¹æ˜“å¾ˆå¤šäº†ã€‚</p><p>è¦æ‰¿è®¤ï¼Œå³ä½¿è¿™æ ·ï¼Œè¦è·‘èµ¢æŸäº›å¤©èµ„èªé¢–ã€èƒ½åŠ›æ‹”ç¾¤çš„å­¦éœ¸è¿˜æ˜¯æœ‰éš¾åº¦çš„ã€‚ä½†è¿™åœºæ¯”èµ›æ˜¯ä¸å…¬å¹³çš„ï¼Œå› ä¸ºå®ƒæ²¡è§„å®šæ¯ä¸ªäººå¿…é¡»åŒæ—¶å¼€å§‹è·‘ã€‚é²è¿…è¯´å¾—å¥½ï¼Œç¬¨é¸Ÿå…ˆé£ã€‚ï¼ˆé²è¿…ï¼šæˆ‘æ²¡æœ‰è¯´è¿‡ï¼‰å¦‚æœæˆ‘ä»¬èƒ½æ›´æ—©çš„è®¤è¯†åˆ°è¿™ç‚¹ï¼ŒèŠ±æ›´å¤šæ—¶é—´å»å‡†å¤‡ï¼Œé‚£ä¹ˆèµ¢çš„æ¦‚ç‡å°±ä¼šæˆå€æå‡ã€‚</p><p>æˆ‘æœ¬èº«å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚ä¸¥æ ¼çš„è®²ï¼Œæˆ‘çš„èƒ½åŠ›ç®—æ˜¯å¹³åº¸åä¸Šä¸€ç‚¹ç‚¹çš„ï¼Œè™½ç„¶åœ¨å½“æ—¶æ— è®ºå¦‚ä½•æˆ‘éƒ½ä¸ä¼šæ‰¿è®¤ã€‚å½“æˆ‘åœ¨å¤§ä¸€ä¸‹åŠæœŸè®¤è¯†åˆ°è¿™ä¸€ç‚¹æ—¶ï¼Œå°±å¼€å§‹è‡ªå­¦ PHPï¼Œå¤§äºŒçš„æ—¶å€™å†™äº†ä¸€å †æ²¡äººç”¨çš„å¼€æºé¡¹ç›®ï¼Œå¤§ä¸‰ä¸ŠåŠæœŸæ‰¾äº†å®¶å…¬å¸åšå…¼èŒï¼Œå·²ç»èƒ½æŠŠå­¦è´¹æŒ£å›æ¥äº†ã€‚å½“å¤§ä¸‰ä¸‹åŠæœŸå¼€å§‹æ‰¾å®ä¹ æ—¶ï¼Œæˆ‘çš„ç®€å†å·²ç»å¯ä»¥ç§’æ€åŒæ ¡åŒå­¦ï¼Œå°å°PK ä¸€æµé«˜æ ¡çš„åŒå­¦äº†ã€‚</p><p>æ‰€ä»¥ä½ ä»¥ä¸ºæ ¡æ‹›æ¯”çš„æ˜¯èƒ½åŠ›ï¼Œå…¶å®å¯¹äºæ‰§è¡ŒåŠ›ä¸­ç­‰ã€åŒæ ·å¤©èµ‹çš„åŒå­¦æ¥è®²ï¼Œæ ¡æ‹›æ¯”çš„å…¶å®æ˜¯è®¤çŸ¥ã€‚è¶Šæ—©è®¤è¯†åˆ°æœ¬è´¨çš„äººï¼Œå°±è¶Šå®¹æ˜“åœ¨è¿™åœºæ¸¸æˆé‡Œè¾¹èƒœå‡ºã€‚ä»è¿™ä¸ªè§’åº¦è®²ï¼ŒåšæŒè¯»åˆ°è¿™é‡Œçš„ä½ ï¼Œç”šè‡³å¯èƒ½å·²ç»èµ¢äº†ä¸€åŠäº†ã€‚æ‰€ä»¥è®°å¾—è¦æŠŠè¿™ç¯‡æ–‡ç« åˆ†äº«ç»™ä½ çš„å¥½æœ‹å‹ï¼Œç„¶ååƒä¸‡åˆ«è®©ä½ ä¸å–œæ¬¢çš„åŒå­¦çŸ¥é“ã€‚</p><h2 id="æŠ€æœ¯å²—ä½çš„é€‰æ‹©"><a href="#æŠ€æœ¯å²—ä½çš„é€‰æ‹©" class="headerlink" title="æŠ€æœ¯å²—ä½çš„é€‰æ‹©"></a>æŠ€æœ¯å²—ä½çš„é€‰æ‹©</h2><p>æŠ€æœ¯å²—ä½çš„å¤§ä½“åˆ†å¸ƒå¦‚å›¾ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh4nht0kdj20vn0hhmz8.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>ç°åœ¨å‡ ä¹æ‰€æœ‰çš„è½¯ä»¶éƒ½å·²ç»äº’è”ç½‘åŒ–äº†ï¼Œå°±ç®—æ²¡æœ‰äº’è”ç½‘åŒ–çš„ï¼Œå®ƒä»¥åä¹Ÿä¼šäº’è”ç½‘åŒ–ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä¸å•çº¯åœ°å»è¯´è½¯ä»¶å¼€å‘è¿™ä¸ªè¡Œä¸šäº†ã€‚</p><h4 id="å¼€å‘å²—"><a href="#å¼€å‘å²—" class="headerlink" title="å¼€å‘å²—"></a>å¼€å‘å²—</h4><p>é¦–å…ˆå°±æ˜¯å¼€å‘å²—ï¼Œè¿™ä¸ªå°±åŒ…æ‹¬äº†å‰ç«¯å¼€å‘ã€åç«¯å¼€å‘å’Œç§»åŠ¨å¼€å‘ã€‚</p><p>å‰ç«¯å¼€å‘å’Œåç«¯å¼€å‘ï¼Œä¸»è¦æ˜¯ B/S ç»“æ„é‡Œçš„ã€‚B/S ç»“æ„å°±æ˜¯ Browser-Server ç»“æ„ã€‚è€Œå‰ç«¯æŒ‡çš„å°±æ˜¯æµè§ˆå™¨è¿™ä¸ªç«¯ï¼›åç«¯æŒ‡çš„å°±æ˜¯æœåŠ¡å™¨è¿™ä¸ªç«¯ã€‚</p><h5 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h5><p>å‰ç«¯ä¸»è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯æŠŠä»æœåŠ¡å™¨ç«¯è¯»å–åˆ°çš„æ•°æ®å±•ç°ç»™ç”¨æˆ·ï¼Œç„¶åé€šè¿‡å„ç§ UI æ§ä»¶å’Œç”¨æˆ·äº’åŠ¨ï¼Œå†å°†æ–°çš„æ•°æ®é€å›æœåŠ¡å™¨ç«¯ã€‚å…·ä½“çš„æŠ€æœ¯åŒ…æ‹¬ HTMLã€CSSã€JavaScriptï¼Œè¿˜å¯èƒ½æœ‰ä¸€äº›åµŒå…¥æµè§ˆå™¨è¿è¡Œçš„ç»„ä»¶ï¼Œæ¯”å¦‚ Flash ã€ WebGL ã€‚</p><h5 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h5><p>åç«¯åˆ™ä¸»è¦é€æ•°æ®ç»™å‰ç«¯ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œä»¥å‰ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ï¼Œå°†æ•°æ®åœ¨æœåŠ¡å™¨ç«¯å…ˆæ¸²æŸ“å®Œï¼Œç„¶åå°†è¾“å‡ºçš„ç»“æœå‘é€ç»™å‰ç«¯ï¼›ç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šçš„æ–¹å¼æ˜¯å°†çº¯æ•°æ®é€šè¿‡ Json æˆ–è€… xml ç­‰æ ¼å¼å‘é€ç»™å‰ç«¯ï¼Œåœ¨æµè§ˆå™¨ä¸­é€šè¿‡ JS æ¥è¿›è¡Œæ¸²æŸ“ã€‚</p><p>æ‰€ä»¥ä»¥å‰å¾ˆå¤šåç«¯çš„å·¥ç¨‹å¸ˆå¾€å¾€ä¹Ÿæ‡‚ä¸€äº›å‰ç«¯çš„çŸ¥è¯†ï¼Œæ¯”å¦‚æˆ‘è®¤è¯†çš„å¾ˆå¤š PHP ç¨‹åºå‘˜ï¼Œä»–ä»¬ä¸ä½†æ‡‚ MySQL å’Œ Apacheï¼Œè¿˜æ‡‚ HTML ã€ CSS ã€ JS å’Œ PSã€‚è¿™ç§å‰åç«¯éƒ½æ‡‚çš„å·¥ç¨‹å¸ˆï¼Œä¹Ÿå«å…¨æ ˆå·¥ç¨‹å¸ˆã€‚</p><p>åç«¯å¯ä»¥ç”¨å„ç§è¯­è¨€å¼€å‘ï¼Œå›½å†…ç”¨çš„æ¯”è¾ƒå¤šçš„åŒ…æ‹¬ Javaã€PHP ï¼Œè¿˜æœ‰ç›¸å¯¹å°ä¼—ä¸€äº›çš„ Python ã€ Ruby ã€ Goã€‚å…¶å® C ä¹Ÿæ˜¯å¯ä»¥å†™åç«¯çš„ï¼Œä¸è¿‡ç°åœ¨å·²ç»å¾ˆå°‘æœ‰å…¬å¸ç›´æ¥ç”¨å®ƒå†™äº†ã€‚</p><p>åæ¥æœ‰äº† NodeJS ï¼ŒJavaScript ä¹Ÿèƒ½è·‘åˆ°åç«¯äº†ï¼Œæ‰€ä»¥å¾ˆå¤šå‰ç«¯å·¥ç¨‹å¸ˆä¹Ÿæœ‰äº†åç«¯å¼€å‘çš„èƒ½åŠ›ï¼Œä»–ä»¬ä¹Ÿå äº†å…¨æ ˆå·¥ç¨‹å¸ˆçš„å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚</p><h5 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h5><p>ç›¸å¯¹äº B/S ç»“æ„ï¼Œè¿˜æœ‰ C/S ç»“æ„ï¼Œå°±æ˜¯ Client-Server ã€‚C/S ç»“æ„ä¸‹ä¸ç”¨æµè§ˆå™¨æ¥å±•ç°æ•°æ®å’Œäº¤äº’ï¼Œè€Œæ˜¯ç”¨å®¢æˆ·ç«¯ï¼Œä¸€èˆ¬æ˜¯ Mac/Win/Linux ä¸‰å¤§å¹³å°ã€‚</p><h5 id="ç§»åŠ¨ç«¯"><a href="#ç§»åŠ¨ç«¯" class="headerlink" title="ç§»åŠ¨ç«¯"></a>ç§»åŠ¨ç«¯</h5><p>æ‰‹æœºå¤§æ½®èµ·æ¥ä»¥åï¼Œä¸ç®¡æ˜¯ B/S ç»“æ„è¿˜æ˜¯ C/S ç»“æ„ï¼Œå…¨éƒ¨ç§»åŠ¨åŒ–äº†ã€‚B/S ç»“æ„å¯¹åº”çš„å°±æ˜¯é€‚é…æ‰‹æœºæµè§ˆå™¨çš„ç§»åŠ¨ç½‘é¡µã€ä»¥åŠåµŒå…¥åœ¨å¾®ä¿¡ã€å¾®åšé‡Œè¾¹çš„ H5 é¡µé¢; C/S ç»“æ„å°±æ˜¯ APP ï¼Œä¸€èˆ¬è¦†ç›– iOS å’Œ Android ä¸¤ä¸ªä¸»æµå¹³å°ã€‚</p><p>é™¤äº†è¿™äº›æ ‡å‡†å¼€å‘å²—ï¼Œè€Œè¿˜æœ‰ä¸€äº›æ–°å…´æˆ–è€…ç›¸å¯¹å°ä¼—çš„å¼€å‘æ–¹å‘ï¼Œæ¯”å¦‚äººå·¥æ™ºèƒ½/ç®—æ³•å·¥ç¨‹å¸ˆã€åšæ™ºèƒ½ç¡¬ä»¶çš„ç¡¬ä»¶å¼€å‘å·¥ç¨‹å¸ˆã€ç»™ä¼ä¸šåšè§£å†³æ–¹æ¡ˆçš„ä¼ä¸šè½¯ä»¶å·¥ç¨‹å¸ˆã€‚</p><h4 id="å…¶ä»–å²—ä½"><a href="#å…¶ä»–å²—ä½" class="headerlink" title="å…¶ä»–å²—ä½"></a>å…¶ä»–å²—ä½</h4><p>è½¯ä»¶å¹¶ä¸æ˜¯å¼€å‘å‡ºæ¥å°±å®Œäº†çš„ï¼Œåœ¨ä¸Šçº¿æˆ–è€…å‘å¸ƒä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ã€Œæµ‹è¯•å·¥ç¨‹å¸ˆã€æ¥è¿›è¡Œæµ‹è¯•ï¼›è€Œä¸Šçº¿ä»¥åï¼Œè¿˜éœ€è¦ã€Œè¿ç»´å·¥ç¨‹å¸ˆã€æ¥ç®¡ç†å’Œä¼˜åŒ–æœåŠ¡å™¨é›†ç¾¤ã€‚ç°åœ¨æœåŠ¡å™¨éƒ½è™šæ‹ŸåŒ–å’Œå®¹å™¨åŒ–äº†ï¼Œè¿ç»´å·¥ç¨‹å¸ˆä¸­ä¹Ÿå‡ºç°äº†æ‡‚å¼€å‘çš„åˆ†æ”¯ï¼Œå«åš DevOpsã€‚</p><h4 id="ä¸­é«˜çº§å²—ä½"><a href="#ä¸­é«˜çº§å²—ä½" class="headerlink" title="ä¸­é«˜çº§å²—ä½"></a>ä¸­é«˜çº§å²—ä½</h4><p>ä¸ç®¡æ˜¯å¼€å‘å²—è¿˜æ˜¯æµ‹è¯•ã€è¿ç»´å²—ï¼Œéƒ½æœ‰å…¶å¯¹åº”çš„ä¸­é«˜çº§å²—ä½ã€‚å¼€å‘ä¸€èˆ¬æ˜¯æŠ€æœ¯ç»ç†ï¼›è¿ç»´ä¸€èˆ¬æ˜¯æ¶æ„å¸ˆï¼›æµ‹è¯•ä¸€èˆ¬æ˜¯æµ‹è¯•æ€»ç›‘ã€‚æŠ€æœ¯æ€»ç›‘ã€CTO å°±æ˜¯æ›´é«˜ä¸€çº§çš„èŒä½äº†ã€‚</p><p>ä»¥ä¸Šçš„èŒä½åˆ†ç±»æˆ‘ä»¬å‚è€ƒäº†æ‹›è˜ç½‘ç«™çš„åˆ†ç±»ï¼Œä¸ä¸€å®šå‡†ç¡®ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šå²—ä½æ²¡è¦†ç›–åˆ°ï¼Œä¸å°‘å…¬å¸ä¹Ÿä¼šæœ‰è‡ªå·±ç‹¬ç‰¹çš„å²—ä½è®¾ç½®ã€‚</p><h3 id="èŒä½çš„é€‰æ‹©"><a href="#èŒä½çš„é€‰æ‹©" class="headerlink" title="èŒä½çš„é€‰æ‹©"></a>èŒä½çš„é€‰æ‹©</h3><p>å¦‚æœèƒ½é€‰æ‹©çš„è¯ï¼Œä¸å»ºè®®ä¸€å¼€å§‹å°±é€‰è¿ç»´æˆ–è€…æµ‹è¯•ã€‚åŸå› æœ‰ä¸¤ä¸ªï¼šç¬¬ä¸€ï¼Œå› ä¸ºå®ƒä»¬è™½ç„¶å¾ˆé‡è¦ï¼Œä½†ä¸æ˜¯è½¯ä»¶å¼€å‘çš„æ ¸å¿ƒå²—ä½ã€‚ç¬¬äºŒï¼Œä»å¼€å‘å²—å¾€è¿™ä¸¤ä¸ªèŒä½è½¬éå¸¸å®¹æ˜“ï¼Œåä¹‹å´éå¸¸éš¾ã€‚</p><p>ä¹‹å‰åœ¨ç»™æ˜é‡‘å†™ã€Šç¨‹åºå‘˜èŒä¸šå°ç™½ä¹¦ã€‹çš„æ—¶å€™ï¼Œæˆ‘åšè¿‡ä¸€ä¸ªé‚®ä»¶è®¿è°ˆï¼Œä»¥é—®é¢˜çš„å½¢å¼é‡‡è®¿äº†å¤šä½åœ¨ä¸åŒé˜¶æ®µã€ä¸åŒå²—ä½ã€ä¸åŒåŸå¸‚çš„ç¨‹åºå‘˜çš„æ—¥å¸¸ã€‚å¤§å®¶å¯ä»¥è¯»ä¸€è¯»ï¼Œäº†è§£ä¸‹ã€‚<a href="https://juejin.im/book/59e17a7ff265da430629cc4e/section/59faea95f265da430d575a22" target="_blank" rel="external">ç¨‹åºå‘˜ä»¬çš„æ—¥å¸¸æ˜¯æ€æ ·çš„</a> ï¼ˆè™½ç„¶è¿™ä¸ªå°å†Œæ˜¯æ”¶è´¹çš„ï¼Œä½†è®¿è°ˆè¿™ä¸€ç« å´æ˜¯å¯ä»¥å…è´¹è¯»çš„ï¼Œä¸éœ€è¦è´­ä¹°å“ˆï¼‰</p><h2 id="è¯­è¨€å’ŒæŠ€æœ¯æ ˆçš„é€‰æ‹©"><a href="#è¯­è¨€å’ŒæŠ€æœ¯æ ˆçš„é€‰æ‹©" class="headerlink" title="è¯­è¨€å’ŒæŠ€æœ¯æ ˆçš„é€‰æ‹©"></a>è¯­è¨€å’ŒæŠ€æœ¯æ ˆçš„é€‰æ‹©</h2><h3 id="è¯­è¨€æ¦‚å†µ"><a href="#è¯­è¨€æ¦‚å†µ" class="headerlink" title="è¯­è¨€æ¦‚å†µ"></a>è¯­è¨€æ¦‚å†µ</h3><p>è™½ç„¶å‡ºäºæŸç§æ”¿æ²»æ­£ç¡®ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šè¯´ï¼Œè¯­è¨€ä¸é‡è¦ã€‚ä½†è¯­è¨€çœŸçš„ä¸é‡è¦ä¹ˆï¼Ÿå¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯ç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨èŒƒå›´ã€‚</p><p>åƒæ—¥è¯­å’Œè‹±è¯­ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯çœ‹åŠ¨ç”»ç©æ¸¸æˆç”¨çš„ï¼Œä¸€ä¸ªæ˜¯çœ‹èµ„æ–™å†™ä»£ç ç”¨çš„ã€‚ï¼ˆè¯¯ï¼‰<br>ä¸‹è¾¹ç®€å•ä»‹ç»ä¸‹æˆ‘çœ¼ä¸­çš„å„ä¸ªè¯­è¨€ã€‚</p><h4 id="C-C-ï¼š"><a href="#C-C-ï¼š" class="headerlink" title="C/C++ ï¼š"></a>C/C++ ï¼š</h4><p>ç³»ç»Ÿè¯­è¨€ï¼Œç”¨æ¥å†™åº•å±‚æ“ä½œç³»ç»Ÿã€é«˜æ€§èƒ½ä¸­é—´ä»¶å’ŒåµŒå…¥å¼å¼€å‘ã€‚</p><h4 id="Pythonï¼šäººå·¥æ™ºèƒ½çš„å¥½é€‰æ‹©"><a href="#Pythonï¼šäººå·¥æ™ºèƒ½çš„å¥½é€‰æ‹©" class="headerlink" title="Pythonï¼šäººå·¥æ™ºèƒ½çš„å¥½é€‰æ‹©"></a>Pythonï¼šäººå·¥æ™ºèƒ½çš„å¥½é€‰æ‹©</h4><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ æƒ³åšäººå·¥æ™ºèƒ½æ–¹å‘çš„è¯ï¼ŒPythonè¯­è¨€å°±æ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ã€‚å› ä¸ºå®ƒåœ¨å„ä¸ªå¤§å­¦å’Œç ”ç©¶æœºæ„ç”¨çš„éå¸¸å¤šï¼Œæœ‰æˆç†Ÿå¥½ç”¨çš„æ•°å­¦åº“ï¼Œé€‚åˆäºç§‘å­¦è®¡ç®—ã€‚åœ¨æ·±åº¦å­¦ä¹ ç­‰çƒ­é—¨æ–¹å‘ä¸Šï¼Œæœ‰å¤§é‡ç”¨ Python å¼€å‘çš„æ¡†æ¶ï¼Œæ–°å‡ºçš„ Paper ä¹Ÿèƒ½å¾ˆå¿«åœ¨ GitHub ä¸Šæ‰¾åˆ° Python çš„ä»£ç å®ç°ï¼Œå¯ä»¥è¯´æ˜¯ä¸äºŒé€‰æ‹©äº†ã€‚</p><h4 id="JavaScriptï¼šå‰ç«¯å’Œå…¨ç«¯"><a href="#JavaScriptï¼šå‰ç«¯å’Œå…¨ç«¯" class="headerlink" title="JavaScriptï¼šå‰ç«¯å’Œå…¨ç«¯"></a>JavaScriptï¼šå‰ç«¯å’Œå…¨ç«¯</h4><p>å¦‚æœä½ æƒ³åšå‰ç«¯ï¼Œé‚£ä¹ˆç›®å‰æ¥çœ‹ï¼Œé™¤äº† JavaScript è¿˜çœŸæ²¡æœ‰åˆ«çš„é€‰æ‹©ï¼Œå› ä¸ºç°åœ¨èƒ½åœ¨æµè§ˆå™¨é‡Œè¾¹è·‘èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯å®ƒäº†ã€‚è¿‡ä¸¤å¹´ç­‰ wasm æˆç†Ÿå¯èƒ½ä¼šæœ‰å…¶ä»–é€‰æ‹©ï¼Œä½†ç°åœ¨ï¼Œæ˜¯çœŸæ²¡æœ‰ã€‚</p><p>è€Œç›¸åº”çš„ï¼Œå¦‚æœä½ å­¦ä¼šäº† JavaScript ï¼Œæƒ³åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå†æŠŠåç«¯ç»™åšäº†ï¼Œé‚£ä¹ˆ Node.JS å°±æ˜¯éå¸¸å¥½çš„é€‰æ‹©ã€‚å› ä¸ºå®ƒä½¿ç”¨çš„å°±æ˜¯ JavaScript çš„è§£é‡Šå™¨ï¼ŒæŒ‰ JavaScript å†™å°±å¥½äº†ã€‚ä»å­¦ä¹ æˆæœ¬ä¸Šæ¥è®²ï¼Œå®ƒæ˜¯éå¸¸ä½çš„ï¼Œå¯ä»¥é€šè¿‡å¾ˆä½çš„æŠ•å…¥ï¼Œå°±è¿›å…¥äº†æœåŠ¡å™¨ç«¯çš„é¢†åŸŸã€‚</p><h4 id="PHPï¼šä¾ç„¶æ˜¯ç½‘ç«™é¦–é€‰"><a href="#PHPï¼šä¾ç„¶æ˜¯ç½‘ç«™é¦–é€‰" class="headerlink" title="PHPï¼šä¾ç„¶æ˜¯ç½‘ç«™é¦–é€‰"></a>PHPï¼šä¾ç„¶æ˜¯ç½‘ç«™é¦–é€‰</h4><p>å¦‚æœä½ è¦åšç½‘ç«™ï¼Œé‚£ä¹ˆ PHP å°±æ˜¯é¦–é€‰äº†ã€‚ä¸€æ–¹é¢æ˜¯æœ‰å¤§é‡çš„å¯ç”¨ä»£ç ï¼Œä¸–ç•Œä¸Šè¶…è¿‡80%çš„ç½‘ç«™éƒ½ç”¨çš„ PHPï¼ŒåŸºæœ¬ä¸Šä½ èƒ½æƒ³åˆ°çš„ç½‘ç«™åŠŸèƒ½ï¼Œéƒ½æœ‰èƒ½æ‰¾åˆ°çš„å®ç°ï¼Œæ‚¬å¿µåªæ˜¯æœ‰æ²¡æœ‰å…è´¹çš„ï¼›å¦ä¸€æ–¹é¢ï¼ŒPHP7 çš„æ€§èƒ½æå‡äº†å¾ˆå¤šï¼Œç”¨æ¥å†™ API ä¹Ÿéå¸¸å¥½ã€‚</p><p>å¦å¤–ä¸€ç‚¹ï¼Œå°±æ˜¯ç›®å‰ä½¿ç”¨ PHP çš„å›¢é˜Ÿéå¸¸å¤šï¼Œå³ä½¿åœ¨äºŒä¸‰çº¿åŸå¸‚ä¹Ÿæ¯”è¾ƒå®¹æ˜“æ‰¾åˆ°å·¥ä½œï¼Œå½“ç„¶ï¼Œç»„å»ºå›¢é˜Ÿä¹ŸåŒæ ·ç›¸å¯¹å®¹æ˜“ã€‚</p><h4 id="Javaï¼šå¤§æ•°æ®åˆ†æ"><a href="#Javaï¼šå¤§æ•°æ®åˆ†æ" class="headerlink" title="Javaï¼šå¤§æ•°æ®åˆ†æ"></a>Javaï¼šå¤§æ•°æ®åˆ†æ</h4><p>å¦‚æœä½ è¦åšå¤§æ•°æ®åˆ†æï¼Œé‚£ä¹ˆå¯èƒ½å°±ç¦»ä¸å¼€ Java äº†ã€‚<br>ä» Hadoop å¼€å§‹ä¸€ç³»åˆ—çš„ Google Big Table çš„å¼€æºå®ç°éƒ½æ˜¯ Java çš„ï¼Œç”¨äºæµ·é‡æ•°æ®æœç´¢çš„ Elastic Stack ä¹Ÿæ˜¯ Java çš„ã€‚</p><h4 id="Goï¼šäº‘è®¡ç®—å’Œå®¹å™¨ç®¡ç†"><a href="#Goï¼šäº‘è®¡ç®—å’Œå®¹å™¨ç®¡ç†" class="headerlink" title="Goï¼šäº‘è®¡ç®—å’Œå®¹å™¨ç®¡ç†"></a>Goï¼šäº‘è®¡ç®—å’Œå®¹å™¨ç®¡ç†</h4><p>å¦‚æœä½ ç°åœ¨è¦æƒ³å»åšäº‘è®¡ç®—ï¼Œé‚£ Go å°±æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚</p><p>å› ä¸ºå®ƒå°±æ˜¯ä¸ºäº†å¤§è§„æ¨¡è®¡ç®—è®¾è®¡çš„ï¼Œå¹¶å‘ç®¡ç†å’Œæ€§èƒ½éƒ½éå¸¸ä¸é”™ã€‚è€Œä¸”æœ‰å¾ˆå¤šäº‘è®¡ç®—çš„è½¯ä»¶ï¼Œå®ƒå°±æ˜¯ Go å†™çš„ï¼Œå¦‚æœä½ è¦å»ä¿®æ”¹å®ƒï¼Œè°ƒæ•´é‡Œè¾¹çš„å®ç°é€»è¾‘çš„è¯ï¼Œä¸ä¼š Go å¯èƒ½å¾ˆéº»çƒ¦ã€‚å½“ç„¶ï¼Œç†è®ºä¸Šè®²ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å®¹å™¨å’Œå¾®æœåŠ¡çš„æ–¹å¼æ¥æå®šï¼Œä½†è‚¯å®šæ¯”ç›´æ¥æ”¹ä»£ç éº»çƒ¦ã€‚</p><p>å¦å¤–åŒºå—é“¾çš„å¤§çƒ­å¹³å°ä»¥å¤ªåŠçš„å®˜æ–¹ï¼ˆæœ€å…·æ½œåŠ›ï¼‰å®ç°ï¼Œä¹Ÿæ˜¯Goåšçš„ã€‚é’±é€”å¤§å¤§çš„ã€‚</p><h3 id="è¯­è¨€çš„é€‰æ‹©"><a href="#è¯­è¨€çš„é€‰æ‹©" class="headerlink" title="è¯­è¨€çš„é€‰æ‹©"></a>è¯­è¨€çš„é€‰æ‹©</h3><h4 id="å…´è¶£ä¼˜å…ˆ"><a href="#å…´è¶£ä¼˜å…ˆ" class="headerlink" title="å…´è¶£ä¼˜å…ˆ"></a>å…´è¶£ä¼˜å…ˆ</h4><p>åœ¨è¯­è¨€çš„é€‰æ‹©ä¸Šï¼Œå°¤å…¶æ˜¯ç¬¬ä¸€é—¨è¯­è¨€çš„é€‰æ‹©ä¸Šï¼Œæˆ‘ä¸€ç›´æ¨èå…´è¶£ä¼˜å…ˆçš„åŸåˆ™ã€‚å› ä¸ºå¯¹åˆå­¦è€…è€Œè¨€ï¼Œå½“ä½ é‡åˆ°å›°éš¾åšæŒä¸ä¸‹å»æ—¶ï¼Œå…´è¶£ä¼šå¸®ä½ ä¸€æŠŠã€‚ä¸­å­¦æ—¶ä¸ºäº†æ”¹ä»™å‰‘ï¼Œæˆ‘è¿æ±‡ç¼–éƒ½è¯•ç€å­¦äº†ä¸ªå…¥é—¨ ğŸ¤£</p><h4 id="å¸‚åœºå…¶æ¬¡"><a href="#å¸‚åœºå…¶æ¬¡" class="headerlink" title="å¸‚åœºå…¶æ¬¡"></a>å¸‚åœºå…¶æ¬¡</h4><p>ä½†å…¶å®å¯¹ç»å¤§éƒ¨åˆ†åº”å±Šç”Ÿè€Œè¨€ï¼Œå¯¹å„ç§è¯­è¨€å¹¶æ²¡æœ‰ç‰¹åˆ«çš„åå¥½ã€‚è€Œä¸”ã€Œæ‰¾åˆ°å·¥ä½œã€è¿™ä»¶äº‹æ˜¯éå¸¸é‡è¦çš„ã€‚æ‰€ä»¥ä¸å…¶ç›²ç›®çš„é€‰æ‹©è¯­è¨€å­¦ä¹ ä¸å¦‚æ¥çœ‹çœ‹å„ä¸ªè¯­è¨€åœ¨æ‹›è˜å¸‚åœºçš„è¡¨ç°ã€‚</p><p>æˆ‘ä¹‹å‰å†™è¿‡ä¸€ä¸ªè„šæœ¬ï¼Œå¯ä»¥æŠ“å–å‡ ä¸ªäº’è”ç½‘æ‹›è˜å¤§ç«™çš„æ‹›è˜å¯äº‹ï¼Œå¹¶æŒ‰èŒä½å¯¹è–ªèµ„è¿›è¡Œç»Ÿè®¡ã€‚ä¸‹è¾¹æ˜¯æœ€è¿‘ä¸€å‘¨çš„ç»Ÿè®¡ç»“æœã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh4nzwnz0j20qo5ubkjn.jpg" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>å…ˆæ¥è¯´è¯´è¿™äº›æ•°æ®æ€ä¹ˆçœ‹ã€‚</p><p>èŒä½çƒ­åº¦ç±»ä¼¼äºæ‹›è˜èŒä½æ•°ï¼Œå’Œå…¶ä»–è¯­è¨€å¯¹æ¯”å°±èƒ½çœ‹å‡ºå·®è·ã€‚å¹³å‡è–ªèµ„ä¹‹æ‰€æœ‰æœ‰ä¸¤ä¸ªå€¼ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ä¸€èˆ¬æ‹›è˜æ—¶ä¼šç»™å‡ºè–ªèµ„çš„ä¸Šé™å’Œä¸‹é™ã€‚ä¸¥æ ¼çš„è®²ï¼Œè¿™å¹¶ä¸æ˜¯å½“å‰æŸä¸ªè¯­è¨€çš„ç¨‹åºå‘˜ä»¬çš„è–ªèµ„ï¼Œè€Œæ˜¯ä»–ä»¬ä¸‹ä¸€æ¬¡è·³æ§½æ—¶çš„å¯èƒ½è–ªèµ„ã€‚å¦å¤–ï¼Œéƒ¨åˆ†ä¼ä¸šå–œæ¬¢åœ¨ä¸Šé™å€¼ä¸Šè¾¹è™šé«˜ï¼Œæ‰€ä»¥æŠŠä¸Šé™ä¹˜80%å¯èƒ½æ›´åˆç†ã€‚è€Œä¸‹é™ä¸€èˆ¬æ¯”è¾ƒçœŸå®ï¼Œæ›´å…·å¤‡å¯¹æ¯”ä»·å€¼ã€‚</p><p>ç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹èƒ½å‘ç°ä»€ä¹ˆã€‚</p><h5 id="Java-çš„æ•°æ®éå¸¸ç‰›"><a href="#Java-çš„æ•°æ®éå¸¸ç‰›" class="headerlink" title="Java çš„æ•°æ®éå¸¸ç‰›"></a>Java çš„æ•°æ®éå¸¸ç‰›</h5><p>é¦–å…ˆæˆ‘ä»¬ä¼šå‘ç°ï¼ŒJava çš„èŒä½çƒ­åº¦éå¸¸é«˜ï¼Œå‡ ä¹åœ¨æ‰€æœ‰åŸå¸‚é‡Œè¾¹éƒ½æ˜¯æ’åç¬¬ä¸€çš„ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªç‰¹æ®ŠåŸå› ï¼Œå°±æ˜¯ Android èŒä½åŸºæœ¬ä¹Ÿæ˜¯ä½¿ç”¨ Java è¯­è¨€è¿›è¡Œå¼€å‘çš„ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªèŒä½æœ‰ä¸€äº›é‡å ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­¦å¥½ Java å…¶å®å¯ä»¥åŒæ—¶åº”è˜ Javaå·¥ç¨‹å¸ˆ å’Œ Android å·¥ç¨‹å¸ˆï¼ˆå¯èƒ½éœ€è¦é¢å¤–åœ¨å­¦ä¸€ç‚¹ç‚¹åº”ç”¨å¼€å‘çš„çŸ¥è¯†ï¼‰ï¼Œè¿™éå¸¸åˆ’ç®—ã€‚è€Œä»è–ªèµ„æ–¹é¢çœ‹ï¼ŒJava ä¹Ÿæ˜¯æ•°ä¸€æ•°äºŒçš„ã€‚</p><h5 id="å‰ç«¯ç´§è·Ÿå…¶å"><a href="#å‰ç«¯ç´§è·Ÿå…¶å" class="headerlink" title="å‰ç«¯ç´§è·Ÿå…¶å"></a>å‰ç«¯ç´§è·Ÿå…¶å</h5><p>ç´§éšå…¶åçš„æ˜¯å‰ç«¯èŒä½ã€‚å‰ç«¯æ˜¯ä¸ªéå¸¸æœ‰æ„æ€çš„ç‰¹ç‚¹ï¼Œé‚£å°±æ˜¯â€”â€”å‡ ä¹æ‰€æœ‰çš„å…¬å¸éƒ½ä¼šæ‹›å‰ç«¯ã€‚å¯¹æ¯” Java è€Œè¨€ï¼Œå¯èƒ½æœ‰å¾ˆå¤šå¤§å‚çš„åç«¯ç”¨çš„ä¸æ˜¯ Java ï¼Œé‚£ä»–ä»¬å°±ä¸éœ€è¦æ‹›è˜ Java å·¥ç¨‹å¸ˆã€‚å¦‚æœä½ éå¸¸æƒ³å»è¿™å®¶å…¬å¸ï¼Œä½†ä½ ä¼šçš„è¯­è¨€æ˜¯ Java ï¼Œé‚£ä¹ˆå°±å¯èƒ½å’Œæœºä¼šæ“¦è‚©è€Œè¿‡ã€‚è€Œå‰ç«¯å²—ä½çš„è¯ï¼Œæœºä¼šå°±å¯èƒ½å¤§å¾—å¤šã€‚è¿™æœ‰ç‚¹åƒè¡€å‹é‡Œè¾¹çš„Oå‹è¡€ï¼Œæ€ä¹ˆåœ°æ–¹éƒ½èƒ½ç”¨ã€‚å°±ç®—æ˜¯è‡ªä»¥ä¸ºç«™åœ¨é£Ÿç‰©é“¾é¡¶ç«¯é„™è§†ã€Œå¤å…¸äº’è”ç½‘ã€çš„åŒºå—é“¾å…¬å¸ä¹Ÿä¸å¾—ä¸æ‹›å‰ç«¯å‘¢ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚</p><p>é™¤äº†çœ‹çƒ­åº¦ï¼Œæˆ‘ä»¬ä¹Ÿè¦è€ƒè™‘åˆ°ç«äº‰ï¼Œæ¯”å¦‚ Java æ˜¯ä¸€ä¸ªã€Œä¼ ç»Ÿã€å²—ï¼Œå¾ˆå¤šè½¯ä»¶è¡Œä¸šçš„å·¥ç¨‹å¸ˆä¹Ÿæ˜¯ä¼š Java çš„ã€‚è€Œã€Œå‰ç«¯ã€æ˜¯ä¸€ä¸ªæ–°å…´çš„äº’è”ç½‘å²—ï¼Œä¸“ä¸šå‰ç«¯è¿˜ä¸ç®—å¤ªå¤šï¼ˆå’Œ Java æ¯”å•¦ï¼‰ï¼Œæ‰€ä»¥å…¥èŒéš¾åº¦è¯´ä¸å®šåè€Œä½ä¸€äº›ã€‚</p><h5 id="å…¶ä»–è¯­è¨€"><a href="#å…¶ä»–è¯­è¨€" class="headerlink" title="å…¶ä»–è¯­è¨€"></a>å…¶ä»–è¯­è¨€</h5><p>å…¶ä»–è¯­è¨€åœ¨å„ä¸ªåŸå¸‚çš„æ•°æ®å„ä¸ç›¸åŒï¼Œå¤§å®¶å¯ä»¥æŒ‘è‡ªå·±æ„Ÿå…´è¶£çš„çœ‹ã€‚æ¯”å¦‚ Go è¯­è¨€åœ¨åŒ—äº¬æ¯”å…¶ä»–åŸå¸‚çƒ­å‡ å€ï¼›åŒºå—é“¾è™½ç„¶çœ‹èµ·æ¥å¾ˆç«ï¼Œä½†å…¶å®èŒä½æ•°ä¹Ÿå°±æ¯” PHP çš„ä¸€åŠå¤šç‚¹ï¼›Ruby è™½ç„¶è–ªèµ„ä¸é”™ï¼Œä½†å²—ä½éå¸¸å°‘â€¦</p><p>æ€»ä¹‹è¯­è¨€çš„é€‰æ‹©å› äººè€Œå¼‚å› æ—¶è€Œå¼‚ï¼Œè¯·ç»¼åˆå„ç§è§†è§’å»é€‰æ‹©ä¸€ä¸ªé€‚åˆè‡ªå·±çš„ã€‚</p><h3 id="å­¦ä¹ è·¯çº¿å›¾"><a href="#å­¦ä¹ è·¯çº¿å›¾" class="headerlink" title="å­¦ä¹ è·¯çº¿å›¾"></a>å­¦ä¹ è·¯çº¿å›¾</h3><p>åœ¨é€‰æ‹©å¥½èŒä½å’Œè¯­è¨€åï¼Œå°±è¦å¯»æ‰¾å¯¹åº”çš„å­¦ä¹ è·¯çº¿å›¾è¿›è¡Œå­¦ä¹ äº†ã€‚è¿™é‡Œæ¨èè¿™ä¸ª Star æ•°é‡è¶…è¿‡4ä¸‡çš„è·¯çº¿å›¾ï¼ˆçš„ä¸­æ–‡ç‰ˆï¼‰ï¼š<a href="https://github.com/goodjack/developer-roadmap-chinese" target="_blank" rel="external">GitHub - goodjack/developer-roadmap-chinese: 2018 å¹´æˆç‚º Web é–‹ç™¼äººå“¡çš„è·¯ç·šåœ–</a></p><p>è™½ç„¶ä¸æ˜¯å¾ˆå…¨ï¼Œä½†ç»†èŠ‚ä¸é”™ã€‚</p><ul><li><a href="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh4nk3d0ej214d2xc4qp.jpg" target="_blank" rel="external">å‰ç«¯è·¯çº¿å›¾</a> </li><li><a href="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh4nlxc7hj210u2sc4qp.jpg" target="_blank" rel="external">åç«¯è·¯çº¿å›¾</a></li><li><a href="https://ws1.sinaimg.cn/large/40dfde6fgy1fqh4nj63kgj215i1bpduw.jpg" target="_blank" rel="external">DevOPsè·¯çº¿å›¾</a></li></ul><h2 id="æŠ€æœ¯æ ˆçš„ä¼˜åŒ–"><a href="#æŠ€æœ¯æ ˆçš„ä¼˜åŒ–" class="headerlink" title="æŠ€æœ¯æ ˆçš„ä¼˜åŒ–"></a>æŠ€æœ¯æ ˆçš„ä¼˜åŒ–</h2><p>ä¹‹å‰æˆ‘ä»¬åœ¨åˆ†æ Java æ•°æ®çš„æ—¶å€™ï¼Œå‘ç°ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ Java çš„æŠ€æœ¯æ ˆå¯ä»¥åŒæ—¶è¦†ç›–ä¸¤ä¸ªçƒ­é—¨èŒä½ â€”â€” Java å’Œ Androidï¼Œè¿™è®©æˆ‘ä»¬çš„æ±‚èŒç«äº‰åŠ›ä¸€ä¸‹ç¿»äº†ä¸€å€ã€‚é‚£ä¹ˆåœ¨å…¶ä»–çš„è¯­è¨€å’Œå²—ä½ä¸Šè¿˜å­˜ä¸å­˜åœ¨ç±»ä¼¼çš„æƒ…å†µå‘¢ï¼Ÿ</p><p>å…¶å®æ˜¯æœ‰çš„ï¼Œæ¯”å¦‚å‰ç«¯å²—ä½å°±æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ½œåŠ›çš„ä¾‹å­ï¼Œå®ƒçš„åç«¯è§£å†³æ–¹æ¡ˆ NodeJS æ­£åœ¨æ—¥ç›Šæµè¡Œ ã€‚åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œäº’è”ç½‘æ‹›è˜å¤§ç«™ æ‹‰å‹¾ç½‘ ä¸ŠåŒ—äº¬çš„ NodeJS èŒä½æ•°æ˜¯ 181ï¼Œä¸Šæµ·æ˜¯ 114ï¼Œæ·±åœ³æ˜¯ 65 ã€‚æ‰€ä»¥å­¦å®Œå‰ç«¯çŸ¥è¯†å†è¡¥ä¸€ä¸‹ NodeJS çš„æ”¶ç›Šæ˜¯ä¸é”™çš„ã€‚</p><p>ä½†è¿™ä¸ªæŠ€æœ¯æ ˆå…¶å®è¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå› ä¸ºä¸€ä¸ªå¶ç„¶çš„åŸå› ï¼Œæˆ‘ç»Ÿè®¡äº†ä¸€ä¸‹ PHP å²—ä½å’Œå‰ç«¯å²—ä½æ‹›è˜å¯äº‹é‡Œè¾¹å‡ºç°çš„æŠ€æœ¯å…³é”®è¯ï¼Œå‘ç°å…¶é‡åˆåº¦ç«Ÿç„¶é«˜äº60%ã€‚å…·ä½“çš„æŠ€æœ¯å…³é”®è¯å’Œçƒ­åº¦è§è¿™é‡Œ <a href="https://quanzhanke.github.io/ref/MAP.html" target="_blank" rel="external">ã€ŠPHP&amp;å‰ç«¯å²—ï¼ˆ1~3å¹´ï¼‰æ ¸å¿ƒæŠ€æœ¯ç‚¹åˆ†ææŠ¥å‘Šã€‹</a></p><p>å›å¤´ä¸€æƒ³å…¶å®ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œæ¯•ç«Ÿæ‹› PHP æ˜¯æ¥åšç½‘ç«™çš„ï¼ŒHTML CSS JS æ€»å¾—ä¼šä¸€äº›æ‰è¡Œã€‚è¿™æ„å‘³ç€PHPçš„åŒå­¦åªéœ€è¦è¡¥ä¸Šéƒ¨åˆ†å‰ç«¯çŸ¥è¯†ï¼Œæ¯”å¦‚ä¸»æµæ¡†æ¶ React / Vue / Angular å’Œ SPA å¼€å‘å°±å¯ä»¥åŒæ—¶åº”è˜ PHP å’Œ å‰ç«¯ èŒä½ã€‚</p><p>è¿™ä¼šæœ‰å¤šå¤§çš„ç«äº‰åŠ›å‘¢ï¼Ÿå‰ç«¯æ‹›è˜å¯äº‹é‡Œè¾¹ï¼Œæœ‰è¶…è¿‡ååˆ†ä¹‹ä¸€çš„ä¼ä¸šæåŠäº†PHPã€‚è¿™è¿˜æ²¡å®Œï¼ŒReact æœ‰ä¸€ä¸ªæ··åˆåº”ç”¨è§£å†³æ–¹æ¡ˆï¼Œå«åš React Nativeï¼Œå¯ä»¥ç›´æ¥ç”¨ React æ ˆæ¥å¼€å‘æ‰‹æœºAPPã€‚è¿™ä¸ªæŠ€æœ¯çš„éœ€æ±‚å¦‚ä½•å‘¢ï¼Ÿç°åœ¨æ‹‰å‹¾ç½‘ä¸ŠåŒ—äº¬çš„ React Native ç›¸å…³èŒä½æ•°æœ‰ 84 ã€‚</p><p>äºæ˜¯å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹© PHP + React + React Native çš„æŠ€æœ¯æ ˆï¼Œä»…ä»…å¤šå­¦ä¹ ä¸€ç‚¹çŸ¥è¯†ï¼Œå¯ä»¥æŠ•é€’çš„å²—ä½å°±ä»åŸæ¥çš„ 364 å˜æˆäº† 364 + 373 + 84 ã€‚ </p><p>è¿™å°±æ˜¯æŠ€æœ¯æ ˆä¼˜åŒ–çš„ç­–ç•¥ã€‚å…³äºè¿™ä¸ªæŠ€æœ¯æ ˆçš„ä¼˜åŒ–ç»“æ„ï¼Œå¯ä»¥çœ‹è¿™é‡Œ <a href="https://quanzhanke.github.io/0-0.html" target="_blank" rel="external">ã€Šæ–¹ç³–å…¨æ ˆå­¦ä¹ è·¯çº¿å›¾ã€‹</a>ï¼Œè¿™ä¸ªæ ˆè¿˜é¡ºä¾¿æŠŠåŒºå—é“¾åº”ç”¨å¼€å‘ä¹Ÿè¦†ç›–äº†ã€‚å¤§å®¶å¯ä»¥ä¸¾ä¸€åä¸‰ï¼Œå»ä¼˜åŒ–è‡ªå·±é€‰ä¸­çš„æŠ€æœ¯æ ˆã€‚</p><h2 id="ç®€å†çš„å†™ä½œ"><a href="#ç®€å†çš„å†™ä½œ" class="headerlink" title="ç®€å†çš„å†™ä½œ"></a>ç®€å†çš„å†™ä½œ</h2><p>ä¸è¦æœ€åæ‰¾å·¥ä½œçš„æ—¶å€™å†æ¥å†™ç®€å†ã€‚ç°åœ¨å°±å¼€å§‹å†™ï¼Œå³ä½¿ä½ ä»€ä¹ˆéƒ½ä¸ä¼šã€‚è¿™æ ·ä½ æ‰ä¼šçœŸåˆ‡çš„æ„Ÿå—åˆ°ï¼Œè‡ªå·±çš„ç¼ºç‚¹å’ŒåŠ£åŠ¿ã€‚ç„¶åé€šè¿‡ä¸æ–­çš„å­¦ä¹ ï¼Œå¾€ç®€å†ä¸Šè¿½åŠ æ–°çš„å†…å®¹ï¼Œç›´åˆ°ä½ è‡ªå·±çœ‹èµ·æ¥è§‰å¾—æœ‰ç«äº‰åŠ›äº†ï¼Œç®€å†æ‰ç®—é˜¶æ®µæ€§å®Œæˆäº†ã€‚</p><p>å…³äºç®€å†çš„å†™ä½œæŠ€å·§å’Œå·¥å…·ï¼Œæˆ‘ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« è¯¦ç»†è¯´æ˜ï¼Œå¯ä»¥ç‚¹è¿™é‡Œé˜…è¯» <a href="https://juejin.im/book/59e17a7ff265da430629cc4e/section/59faec225188252abc5db42c" target="_blank" rel="external">ã€Šå¦‚ä½•å†™å‡ºä¸€ä»½ä¸“ä¸šçš„æŠ€æœ¯ç®€å†ã€‹</a> ï¼ˆè¿™ç¯‡æ–‡ç« æœ¬èº«ä¾ç„¶æ˜¯å…è´¹çš„ï¼Œä¸ç”¨è´­ä¹°å°å†Œå°±èƒ½è¯»ï¼‰</p><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>( ç”±äºVç«™ä¸ŠæŸäº›åŒå­¦çš„ç–‘æƒ‘ï¼Œè¿™é‡Œæˆ‘ä¹Ÿè¡¥å……ä¸€ä¸‹å§ã€‚å­¦å¥½åŸºç¡€çŸ¥è¯†æ˜¯å¿…é¡»çš„ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ï¼Œå¦‚æœè¿™äº›åœ°æ–¹ä½ éƒ½ä¸¢åˆ†äº†ï¼Œè¿™äº›æŠ€å·§å°±éƒ½ç™½è´¹äº† )</p><p>( åˆ·é¢˜åº“æ˜¯é¢è¯•å¿…é¡»çš„ï¼Œä½†åªåˆ·é¢˜åº“å°±èˆæœ¬é€æœ«äº†ï¼Œå®è·µé©±åŠ¨çš„å­¦ä¹ ä¼šè®©ä½ å¯¹åŸºç¡€çš„ç†è§£æ›´æ·±å…¥ï¼Œè™½ç„¶è¾›è‹¦ç‚¹ã€‚é¡ºä¾¿poä¸€ä¸ªé¢˜åº“ç½‘ç«™ [nowcoder]<a href="https://www.nowcoder.com/" target="_blank" rel="external">https://www.nowcoder.com/</a>  )</p><p>ä¸çŸ¥ä¸è§‰å·²ç»å†™äº†è¿™ä¹ˆå¤šäº†ï¼Œå…¶å®è¿˜æœ‰ä¸€äº›å†…å®¹æƒ³è¯´ï¼Œä½†æš‚æ—¶å°±ä¸å†™åˆ°è¿™é‡Œäº†ã€‚</p><p>ç­‰ä»¥åæœ‰ç©ºæˆ‘å†æ•´ç†ä¸€ä¸ªå°å†Œå­å§ã€‚æˆ‘æŠŠæ–‡ç« ä¹ŸåŒæ—¶å‘å¸ƒåˆ°äº† GitHubï¼Œä»¥åçš„æ›´æ–°ä¼šé€šè¿‡ GitHub è¿›è¡Œï¼Œæ¬¢è¿ watch å’Œ star ã€‚<a href="https://github.com/easychen/career-guide-for-cs-graduate" target="_blank" rel="external">https://github.com/easychen/career-guide-for-cs-graduate</a></p><p>PSï¼šå¦‚æœä½ è¿˜ä¸çŸ¥é“æ€ä¹ˆç”¨ GitHubï¼Œé‚£ä¹ˆèµ¶ç´§å­¦å­¦å§ï¼Œè¿™å¯æ˜¯ç¨‹åºå‘˜çš„å¿…å¤‡ï¼ˆ<del>äº¤å‹</del>ï¼‰å·¥å…·å“¦ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä»Šå¤©æ—©æ™¨çœ‹åˆ°äº†Easyå¤§å¤§çš„è¿™ç¯‡æ–‡ç« ï¼Œåœ¨æ–‡ç« ä¸­è¯»åˆ°äº†è‡ªå·±çš„å½±å­ï¼Œå¹¶ä¸”ä¹Ÿæ˜ç™½äº†è¿™æ®µæ—¶é—´è‡ªå·±åœ¨å®ä¹ æ‹›è˜ä¸­çš„ä¸è¶³ï¼Œå—ç›ŠåŒªæµ…ã€‚å¸Œæœ›æˆ‘çš„å¥½å‹å¯ä»¥çœ‹åˆ°ä»ä¸­å—ç›Š&lt;br&gt;ç‰¹æ­¤è½¬è½½ Fromï¼š&lt;a href=&quot;https://github.com/easychen/
      
    
    </summary>
    
    
      <category term="Interview" scheme="https://edward7zhang.github.io/tags/Interview/"/>
    
      <category term="Inspire" scheme="https://edward7zhang.github.io/tags/Inspire/"/>
    
  </entry>
  
  <entry>
    <title>Androidç½‘ç»œç¼–ç¨‹é¢è¯•é¢˜é›†</title>
    <link href="https://edward7zhang.github.io/2018/04/17/Android%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%86/"/>
    <id>https://edward7zhang.github.io/2018/04/17/Androidç½‘ç»œç¼–ç¨‹é¢è¯•é¢˜é›†/</id>
    <published>2018-04-17T01:07:14.000Z</published>
    <updated>2018-04-17T01:39:28.610Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸€æ¬¡æ¬¡çš„æŒ‚äºä¸€é¢è®©æˆ‘ç­‹ç–²åŠ›ç«­â€¦æ„è¯†åˆ°è‡ªå·±å­˜åœ¨çœ¼é«˜æ‰‹ä½çš„çŠ¶æ€â€¦å‡†å¤‡é‡æ–°ä¸Šè·¯å¤¯å®åŸºç¡€<br>æœ¬ç‰‡æ–‡ç« Fork from <a href="https://github.com/guoxiaoxing/android-interview" target="_blank" rel="external">android-interview</a></p></blockquote><h2 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h2><h3 id="TCPä¸UDPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#TCPä¸UDPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="TCPä¸UDPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>TCPä¸UDPæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><ol><li>TCPé¢å‘è¿æ¥ï¼ˆå¦‚æ‰“ç”µè¯è¦å…ˆæ‹¨å·å»ºç«‹è¿æ¥ï¼‰;UDPæ˜¯æ— è¿æ¥çš„ï¼Œå³å‘é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥</li><li>TCPæä¾›å¯é çš„æœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡TCPè¿æ¥ä¼ é€çš„æ•°æ®ï¼Œæ— å·®é”™ï¼Œä¸ä¸¢å¤±ï¼Œä¸é‡å¤ï¼Œä¸”æŒ‰åºåˆ°è¾¾;UDPå°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜</li><li>TCPé¢å‘å­—èŠ‚æµï¼Œå®é™…ä¸Šæ˜¯TCPæŠŠæ•°æ®çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµ;UDPæ˜¯é¢å‘æŠ¥æ–‡çš„UDPæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œå› æ­¤ç½‘ç»œå‡ºç°æ‹¥å¡ä¸ä¼šä½¿æºä¸»æœºçš„å‘é€é€Ÿç‡é™ä½ï¼ˆå¯¹å®æ—¶åº”ç”¨å¾ˆæœ‰ç”¨ï¼Œå¦‚IPç”µè¯ï¼Œå®æ—¶è§†é¢‘ä¼šè®®ç­‰ï¼‰</li><li>æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ç‚¹åˆ°ç‚¹çš„;UDPæ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡</li><li>TCPé¦–éƒ¨å¼€é”€20å­—èŠ‚;UDPçš„é¦–éƒ¨å¼€é”€å°ï¼Œåªæœ‰8ä¸ªå­—èŠ‚</li><li>TCPçš„é€»è¾‘é€šä¿¡ä¿¡é“æ˜¯å…¨åŒå·¥çš„å¯é ä¿¡é“ï¼ŒUDPåˆ™æ˜¯ä¸å¯é ä¿¡é“</li></ol><h3 id="ç®€å•ä»‹ç»ä¸€ä¸‹TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹è¿‡ç¨‹ï¼Ÿ"><a href="#ç®€å•ä»‹ç»ä¸€ä¸‹TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹è¿‡ç¨‹ï¼Ÿ" class="headerlink" title="ç®€å•ä»‹ç»ä¸€ä¸‹TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹è¿‡ç¨‹ï¼Ÿ"></a>ç®€å•ä»‹ç»ä¸€ä¸‹TCPä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹è¿‡ç¨‹ï¼Ÿ</h3><p>TCPç”¨<a href="https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE#å»ºç«‹é€šè·¯" target="_blank" rel="external">ä¸‰æ¬¡æ¡æ‰‹</a>ï¼ˆthree-way handshakeï¼‰è¿‡ç¨‹åˆ›å»ºä¸€ä¸ªè¿æ¥ï¼Œä½¿ç”¨å››æ¬¡åˆ†æ‰‹<br>å…³é—­ä¸€ä¸ªè¿æ¥ã€‚</p><p>ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹çš„æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://github.com/guoxiaoxing/android-open-source-project-analysis/raw/master/art/practice/network/three_way_handshake.jpeg" width="500"></p><p>ä¸‰æ¬¡æ¡æ‰‹</p><ul><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥ã€‚å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºxï¼›ç„¶åï¼Œå®¢æˆ·ç«¯è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨çš„ç¡®è®¤ï¼›</li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°SYNæŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNæŠ¥æ–‡æ®µï¼Œéœ€è¦å¯¹è¿™ä¸ªSYNæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼Œè®¾ç½®Acknowledgment Numberä¸ºx+1(Sequence Number+1)ï¼›åŒæ—¶ï¼Œè‡ªå·±è‡ªå·±è¿˜è¦å‘é€SYNè¯·æ±‚ä¿¡æ¯ï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºyï¼›æœåŠ¡å™¨ç«¯å°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ”¾åˆ°ä¸€ä¸ªæŠ¥æ–‡æ®µï¼ˆå³SYN+ACKæŠ¥æ–‡æ®µï¼‰ä¸­ï¼Œä¸€å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKæŠ¥æ–‡æ®µã€‚ç„¶åå°†Acknowledgment Numberè®¾ç½®ä¸ºy+1ï¼Œå‘æœåŠ¡å™¨å‘é€ACKæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µå‘é€å®Œæ¯•ä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®ŒæˆTCPä¸‰æ¬¡æ¡æ‰‹ã€‚<br>å®Œæˆäº†ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å¯ä»¥å¼€å§‹ä¼ é€æ•°æ®ã€‚ä»¥ä¸Šå°±æ˜¯TCPä¸‰æ¬¡æ¡æ‰‹çš„æ€»ä½“ä»‹ç»ã€‚</li></ul><p>å››æ¬¡åˆ†æ‰‹</p><ul><li>ç¬¬ä¸€æ¬¡åˆ†æ‰‹ï¼šä¸»æœº1ï¼ˆå¯ä»¥ä½¿å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯æœåŠ¡å™¨ç«¯ï¼‰ï¼Œè®¾ç½®Sequence Numberå’ŒAcknowledgment Numberï¼Œå‘ä¸»æœº2å‘é€ä¸€ä¸ªFINæŠ¥æ–‡æ®µï¼›æ­¤æ—¶ï¼Œä¸»æœº1è¿›å…¥FIN_WAIT_1çŠ¶æ€ï¼›è¿™è¡¨ç¤ºä¸»æœº1æ²¡æœ‰æ•°æ®è¦å‘é€ç»™ä¸»æœº2äº†ï¼›</li><li>ç¬¬äºŒæ¬¡åˆ†æ‰‹ï¼šä¸»æœº2æ”¶åˆ°äº†ä¸»æœº1å‘é€çš„FINæŠ¥æ–‡æ®µï¼Œå‘ä¸»æœº1å›ä¸€ä¸ªACKæŠ¥æ–‡æ®µï¼ŒAcknowledgment Numberä¸ºSequence NumberåŠ 1ï¼›ä¸»æœº1è¿›å…¥FIN_WAIT_2çŠ¶æ€ï¼›ä¸»æœº2å‘Šè¯‰ä¸»æœº1ï¼Œæˆ‘â€œåŒæ„â€ä½ çš„å…³é—­è¯·æ±‚ï¼›</li><li>ç¬¬ä¸‰æ¬¡åˆ†æ‰‹ï¼šä¸»æœº2å‘ä¸»æœº1å‘é€FINæŠ¥æ–‡æ®µï¼Œè¯·æ±‚å…³é—­è¿æ¥ï¼ŒåŒæ—¶ä¸»æœº2è¿›å…¥LAST_ACKçŠ¶æ€ï¼›</li><li>ç¬¬å››æ¬¡åˆ†æ‰‹ï¼šä¸»æœº1æ”¶åˆ°ä¸»æœº2å‘é€çš„FINæŠ¥æ–‡æ®µï¼Œå‘ä¸»æœº2å‘é€ACKæŠ¥æ–‡æ®µï¼Œç„¶åä¸»æœº1è¿›å…¥TIME_WAITçŠ¶æ€ï¼›ä¸»æœº2æ”¶åˆ°ä¸»æœº1çš„ACKæŠ¥æ–‡æ®µä»¥åï¼Œå°±å…³é—­è¿æ¥ï¼›æ­¤æ—¶ï¼Œä¸»æœº1ç­‰å¾…2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜Serverç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œä¸»æœº1ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚</li></ul><p>ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡åˆ†æ‰‹ä¹Ÿæ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„æ¦‚å¿µï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜ä¸€ä¸‹ã€‚</p><p>ä¸‰æ¬¡æ¡æ‰‹</p><blockquote><p>ä¾‹å¦‚ä½ å°æ—¶å€™å‡ºå»ç©ï¼Œç»å¸¸ç©å¿˜äº†å›å®¶åƒé¥­ã€‚ä½ å¦ˆå¦ˆä¹Ÿç»å¸¸è¿‡æ¥å–Šä½ ã€‚å¦‚æœä½ æ²¡æœ‰èµ°è¿œï¼Œåœ¨é—¨å£çš„å°åœŸå †ä¸Šç©æ³¥å·´ï¼Œä½ å¦ˆå¦ˆä¼šå–Šï¼šâ€å°æ–°ï¼Œå›å®¶åƒé¥­äº†â€ã€‚ä½ å¬åˆ°åä¼šå›åº”ï¼šâ€çŸ¥é“äº†ï¼Œä¸€ä¼šå°±å›å»â€ã€‚å¦ˆå¦ˆå¬<br>åˆ°ä½ çš„å›åº”ååˆè¯´ï¼šâ€å¿«ç‚¹å›æ¥ï¼Œé¥­è¦å‡‰äº†â€ã€‚è¿™æ ·ä½ å¦ˆå¦ˆå’Œä½ å°±å®Œæˆäº†ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ã€‚ğŸ˜è¯´åˆ°è¿™é‡Œä½ ä¹Ÿå¯ä»¥ç†è§£ä¸‰æ¬¡æ¡æ‰‹çš„å¿…è¦æ€§ï¼Œå°‘äº†å…¶ä¸­ä¸€ä¸ªç¯èŠ‚ï¼Œå¦ä¸€æ–¹å°±ä¼šé™·å…¥ç­‰å¾…ä¹‹ä¸­ã€‚</p></blockquote><p>ä¸‰æ¬¡æ¡æ‰‹çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯.</p><p>å››æ¬¡åˆ†æ‰‹</p><blockquote><p>ä¾‹å¦‚å¶åƒè¨€æƒ…å‰§å¹²å‡€åˆ©è½çš„åˆ†æ‰‹ï¼Œå¥³ä¸»å¯¹ç”·ä¸»è¯´ï¼šæˆ‘ä»¬åˆ†æ‰‹å§ğŸ™„ï¼Œç”·ä¸»è¯´ï¼šåˆ†å°±åˆ†å§ğŸ˜°ã€‚å¥³ä¸»è¯´ï¼šä½ æœç„¶æ˜¯ä¸çˆ±æˆ‘äº†ï¼Œä½ åªçŸ¥é“è®©æˆ‘å¤šå–çƒ­æ°´ğŸ™„ã€‚ç”·ä¸»è¯´ï¼šäº‹åˆ°å¦‚ä»Šä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œç¥ä½ å¹¸ç¦ğŸ™ƒã€‚å››æ¬¡åˆ†æ‰‹å®Œæˆã€‚è¯´åˆ°è¿™é‡Œä½ å¯ä»¥ç†è§£<br>äº†å››æ¬¡åˆ†æ‰‹çš„å¿…è¦æ€§ï¼Œç¬¬ä¸€æ¬¡æ˜¯å¥³æ–¹ï¼ˆå®¢æˆ·ç«¯ï¼‰æå‡ºåˆ†æ‰‹ï¼Œç¬¬äºŒæ¬¡æ˜¯ç”·ä¸»ï¼ˆæœåŠ¡ç«¯ï¼‰åŒæ„å¥³ä¸»åˆ†æ‰‹ï¼Œç¬¬ä¸‰æ¬¡æ˜¯å¥³ä¸»ç¡®å®šç”·ä¸»ä¸å†çˆ±å¥¹ï¼Œä¹ŸåŒæ„ç”·ä¸»åˆ†æ‰‹ã€‚ç¬¬å››æ¬¡ä¸¤äººå½»åº•æ‹œæ‹œï¼ˆæ–­å¼€è¿æ¥ï¼‰ã€‚</p></blockquote><p>å› ä¸ºTCPæ˜¯å…¨åŒå·¥æ¨¡å¼ï¼Œæ‰€ä»¥å››æ¬¡åˆ†æ‰‹çš„ç›®çš„å°±æ˜¯ä¸ºäº†å¯é åœ°å…³é—­è¿æ¥ã€‚</p><h3 id="TCPå¦‚ä½•ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼Ÿ"><a href="#TCPå¦‚ä½•ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼Ÿ" class="headerlink" title="TCPå¦‚ä½•ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼Ÿ"></a>TCPå¦‚ä½•ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼Ÿ</h3><ol><li>ç¡®è®¤å’Œé‡ä¼ ï¼šæ¥æ”¶æ–¹æ”¶åˆ°æŠ¥æ–‡åå°±ä¼šè¿›è¡Œç¡®è®¤ï¼Œå‘é€æ–¹ä¸€æ®µæ—¶é—´æ²¡æœ‰æ”¶åˆ°ç¡®è®¤å°±ä¼šé‡ä¼ ã€‚</li><li>æ•°æ®æ ¡éªŒã€‚</li><li>æ•°æ®åˆç†åˆ†ç‰‡ä¸æ’åºï¼ŒTCPä¼šå¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡ï¼Œæ¥æ”¶æ–¹ä¼šç¼“å­˜ä¸ºæŒ‰åºåˆ°è¾¾çš„æ•°æ®ï¼Œé‡æ–°æ’åºåå†æäº¤ç»™åº”ç”¨å±‚ã€‚</li><li>æµç¨‹æ§åˆ¶ï¼šå½“æ¥æ”¶æ–¹æ¥ä¸åŠæ¥æ”¶å‘é€çš„æ•°æ®æ—¶ï¼Œåˆ™ä¼šæç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿåº¦ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚</li><li>æ‹¥å¡æ§åˆ¶ï¼šå½“ç½‘ç»œå‘ç”Ÿæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚</li></ol><h3 id="HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>HTTPä¸HTTPSæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><blockquote><p><a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">HTTPS</a>æ˜¯ä¸€ç§é€šè¿‡è®¡ç®—æœºç½‘ç»œè¿›è¡Œå®‰å…¨é€šä¿¡çš„ä¼ è¾“åè®®ã€‚HTTPSç»ç”±HTTPè¿›è¡Œé€šä¿¡ï¼Œä½†åˆ©ç”¨SSL/TLSæ¥åŠ å¯†æ•°æ®åŒ…ã€‚HTTPSå¼€å‘çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æä¾›å¯¹ç½‘ç«™æœåŠ¡å™¨çš„èº«ä»½<br>è®¤è¯ï¼Œä¿æŠ¤äº¤æ¢æ•°æ®çš„éšç§ä¸å®Œæ•´æ€§ã€‚</p></blockquote><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºä¸¤ä¸ªçš„åŒºåˆ«ï¼š</p><p><img src="https://github.com/guoxiaoxing/android-open-source-project-analysis/raw/master/art/practice/network/http_https.png" width="500"></p><p>æ³¨ï¼šTLSæ˜¯SSLçš„å‡çº§æ›¿ä»£ç‰ˆï¼Œå…·ä½“å‘å±•å†å²å¯ä»¥å‚è€ƒ<a href="https://zh.wikipedia.org/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" target="_blank" rel="external">ä¼ è¾“å±‚å®‰å…¨æ€§åè®®</a>ã€‚</p><p>HTTPä¸HTTPSåœ¨å†™æ³•ä¸Šçš„åŒºåˆ«ä¹Ÿæ˜¯å‰ç¼€çš„ä¸åŒï¼Œå®¢æˆ·ç«¯å¤„ç†çš„æ–¹å¼ä¹Ÿä¸åŒï¼Œå…·ä½“è¯´æ¥ï¼š</p><ul><li>å¦‚æœURLçš„åè®®æ˜¯HTTPï¼Œåˆ™å®¢æˆ·ç«¯ä¼šæ‰“å¼€ä¸€æ¡åˆ°æœåŠ¡ç«¯ç«¯å£80ï¼ˆé»˜è®¤ï¼‰çš„è¿æ¥ï¼Œå¹¶å‘å…¶å‘é€è€çš„HTTPè¯·æ±‚ã€‚</li><li>å¦‚æœURLçš„åè®®æ˜¯HTTPSï¼Œåˆ™å®¢æˆ·ç«¯ä¼šæ‰“å¼€ä¸€æ¡åˆ°æœåŠ¡ç«¯ç«¯å£443ï¼ˆé»˜è®¤ï¼‰çš„è¿æ¥ï¼Œç„¶åä¸æœåŠ¡å™¨æ¡æ‰‹ï¼Œä»¥äºŒè¿›åˆ¶æ ¼å¼ä¸æœåŠ¡å™¨äº¤æ¢ä¸€äº›SSLçš„å®‰å…¨å‚æ•°ï¼Œé™„ä¸ŠåŠ å¯†çš„<br>HTTPè¯·æ±‚ã€‚</li></ul><p>æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°ï¼ŒHTTPSæ¯”HTTPå¤šäº†ä¸€å±‚ä¸SSLçš„è¿æ¥ï¼Œè¿™ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯SSLæ¡æ‰‹çš„è¿‡ç¨‹ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸»è¦å®Œæˆä»¥ä¸‹å·¥ä½œï¼š</p><ul><li>äº¤æ¢åè®®ç‰ˆæœ¬å·</li><li>é€‰æ‹©ä¸€ä¸ªä¸¤ç«¯éƒ½äº†è§£çš„å¯†ç </li><li>å¯¹ä¸¤ç«¯çš„èº«ä»½è¿›è¡Œè®¤è¯</li><li>ç”Ÿæˆä¸´æ—¶çš„ä¼šè¯å¯†é’¥ï¼Œä»¥ä¾¿åŠ å¯†ä¿¡é“ã€‚</li></ul><p>SSLæ¡æ‰‹æ˜¯ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒå¤æ‚çš„è¿‡ç¨‹ï¼Œæ›´å¤šå…³äºSSLæ¡æ‰‹çš„è¿‡ç¨‹ç»†èŠ‚å¯ä»¥å‚è€ƒ<a href="https://www.wosign.com/faq/faq2016-0309-04.htm" target="_blank" rel="external">TLS/SSLæ¡æ‰‹è¿‡ç¨‹</a></p><p>SSL/TSLçš„å¸¸è§å¼€æºå®ç°æ˜¯OpenSSLï¼ŒOpenSSLæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„è½¯ä»¶åº“åŒ…ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨è¿™ä¸ªåŒ…æ¥è¿›è¡Œå®‰å…¨é€šä¿¡ï¼Œé¿å…çªƒå¬ï¼ŒåŒæ—¶ç¡®è®¤å¦ä¸€ç«¯è¿æ¥è€…çš„èº«ä»½ã€‚è¿™ä¸ªåŒ…å¹¿æ³›è¢«åº”ç”¨åœ¨äº’è”ç½‘çš„ç½‘é¡µæœåŠ¡å™¨ä¸Šã€‚<br>æ›´å¤šæºäºOpenSSLçš„æŠ€æœ¯ç»†èŠ‚å¯ä»¥å‚è€ƒ<a href="https://www.openssl.org/" target="_blank" rel="external">OpenSSL</a>ã€‚</p><h3 id="è°ˆä¸€è°ˆå¯¹HTTPç¼“å­˜çš„ç†è§£ï¼Ÿ"><a href="#è°ˆä¸€è°ˆå¯¹HTTPç¼“å­˜çš„ç†è§£ï¼Ÿ" class="headerlink" title="è°ˆä¸€è°ˆå¯¹HTTPç¼“å­˜çš„ç†è§£ï¼Ÿ"></a>è°ˆä¸€è°ˆå¯¹HTTPç¼“å­˜çš„ç†è§£ï¼Ÿ</h3><p>HTTPçš„ç¼“å­˜æœºåˆ¶ä¹Ÿæ˜¯ä¾èµ–äºè¯·æ±‚å’Œå“åº”headeré‡Œçš„å‚æ•°ç±»å®ç°çš„ï¼Œæœ€ç»ˆå“åº”å¼ä»ç¼“å­˜ä¸­å»ï¼Œè¿˜æ˜¯ä»æœåŠ¡ç«¯é‡æ–°æ‹‰å–ï¼ŒHTTPçš„ç¼“å­˜æœºåˆ¶çš„æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>ğŸ‘‰ ç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹å¤§å›¾</p><p><img src="https://github.com/guoxiaoxing/android-open-framwork-analysis/raw/master/art/okhttp/http_cache_structure.png" width="600"></p><p>HTTPçš„ç¼“å­˜å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>å¼ºåˆ¶ç¼“å­˜ï¼šéœ€è¦æœåŠ¡ç«¯å‚ä¸åˆ¤æ–­æ˜¯å¦ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼Œå½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æ•°æ®æ˜¯ï¼ŒæœåŠ¡ç«¯è¿”å›äº†ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼ˆExpiresä¸Cache-Controlï¼‰ï¼Œæ²¡æœ‰è¿‡æœŸå°±å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼Œå¦åˆ™åˆ™ä¸é€‚ç”¨ï¼Œæ— éœ€å†å‘æœåŠ¡ç«¯è¯¢é—®ã€‚</li><li>å¯¹æ¯”ç¼“å­˜ï¼šéœ€è¦æœåŠ¡ç«¯å‚ä¸åˆ¤æ–­æ˜¯å¦ç»§ç»­ä½¿ç”¨ç¼“å­˜ï¼Œå½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æ•°æ®æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå°†ç¼“å­˜æ ‡è¯†ï¼ˆLast-Modified/If-Modified-Sinceä¸Etag/If-None-Matchï¼‰ä¸æ•°æ®ä¸€èµ·è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°†ä¸¤è€…éƒ½å¤‡ä»½åˆ°ç¼“å­˜ä¸­ ï¼Œå†æ¬¡è¯·æ±‚æ•°æ®æ—¶ï¼Œå®¢æˆ·ç«¯å°†ä¸Šæ¬¡å¤‡ä»½çš„ç¼“å­˜<br>æ ‡è¯†å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ ¹æ®ç¼“å­˜æ ‡è¯†è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¿”å›304ï¼Œåˆ™è¡¨ç¤ºé€šçŸ¥å®¢æˆ·ç«¯å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚</li></ul><p>å¼ºåˆ¶ç¼“å­˜ä¼˜å…ˆäºå¯¹æ¯”ç¼“å­˜ã€‚</p><p>ä¸Šé¢æåˆ°å¼ºåˆ¶ç¼“å­˜ä½¿ç”¨çš„çš„ä¸¤ä¸ªæ ‡è¯†ï¼š</p><ul><li>Expiresï¼šExpiresçš„å€¼ä¸ºæœåŠ¡ç«¯è¿”å›çš„åˆ°æœŸæ—¶é—´ï¼Œå³ä¸‹ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œè¯·æ±‚æ—¶é—´å°äºæœåŠ¡ç«¯è¿”å›çš„åˆ°æœŸæ—¶é—´ï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®ã€‚åˆ°æœŸæ—¶é—´æ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ—¶é—´å¯èƒ½æœ‰è¯¯å·®ã€‚</li><li>Cache-Controlï¼šExpiresæœ‰ä¸ªæ—¶é—´æ ¡éªŒçš„é—®é¢˜ï¼Œæ‰€æœ‰HTTP1.1é‡‡ç”¨Cache-Controlæ›¿ä»£Expiresã€‚</li></ul><p>Cache-Controlçš„å–å€¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>private:             å®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ã€‚</li><li>public:              å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ã€‚</li><li>max-age=xxx:   ç¼“å­˜çš„å†…å®¹å°†åœ¨ xxx ç§’åå¤±æ•ˆ</li><li>no-cache:          éœ€è¦ä½¿ç”¨å¯¹æ¯”ç¼“å­˜æ¥éªŒè¯ç¼“å­˜æ•°æ®ã€‚</li><li>no-store:           æ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šç¼“å­˜ï¼Œå¼ºåˆ¶ç¼“å­˜ï¼Œå¯¹æ¯”ç¼“å­˜éƒ½ä¸ä¼šè§¦å‘ã€‚</li></ul><p>æˆ‘ä»¬å†æ¥çœ‹çœ‹å¯¹æ¯”ç¼“å­˜çš„ä¸¤ä¸ªæ ‡è¯†ï¼š</p><p><strong>Last-Modified/If-Modified-Since</strong></p><p>Last-Modified è¡¨ç¤ºèµ„æºä¸Šæ¬¡ä¿®æ”¹çš„æ—¶é—´ã€‚</p><p>å½“å®¢æˆ·ç«¯å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯è¿”å›èµ„æºä¸Šæ¬¡ä¿®æ”¹çš„æ—¶é—´ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Last-Modified: Tue, <span class="number">12</span> Jan <span class="number">2016</span> <span class="number">09</span>:<span class="number">31</span>:<span class="number">27</span> GMT</div></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å†æ¬¡å‘é€ï¼Œä¼šåœ¨headeré‡Œæºå¸¦If-Modified-Sinceã€‚å°†ä¸Šæ¬¡æœåŠ¡ç«¯è¿”å›çš„èµ„æºæ—¶é—´ä¸Šä¼ ç»™æœåŠ¡ç«¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">If-Modified-Since: Tue, <span class="number">12</span> Jan <span class="number">2016</span> <span class="number">09</span>:<span class="number">31</span>:<span class="number">27</span> GMT</div></pre></td></tr></table></figure><p>æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„èµ„æºä¿®æ”¹æ—¶é—´ï¼Œä¸è‡ªå·±å½“å‰çš„èµ„æºä¿®æ”¹æ—¶é—´è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœè‡ªå·±çš„èµ„æºä¿®æ”¹æ—¶é—´å¤§äºå®¢æˆ·ç«¯å‘æ¥çš„èµ„æºä¿®æ”¹æ—¶é—´ï¼Œåˆ™è¯´æ˜èµ„æºåšè¿‡ä¿®æ”¹ï¼Œ<br>åˆ™è¿”å›200è¡¨ç¤ºéœ€è¦é‡æ–°è¯·æ±‚èµ„æºï¼Œå¦åˆ™è¿”å›304è¡¨ç¤ºèµ„æºæ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚</p><p>ä¸Šé¢æ˜¯ä¸€ç§æ—¶é—´æˆ³æ ‡è®°èµ„æºæ˜¯å¦ä¿®æ”¹çš„æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ç§èµ„æºæ ‡è¯†ç ETagçš„æ–¹å¼æ¥æ ‡è®°æ˜¯å¦ä¿®æ”¹ï¼Œå¦‚æœæ ‡è¯†ç å‘ç”Ÿæ”¹å˜ï¼Œåˆ™è¯´æ˜èµ„æºå·²ç»è¢«ä¿®æ”¹ï¼ŒETagä¼˜å…ˆçº§é«˜äºLast-Modifiedã€‚</p><p><strong>Etag/If-None-Match</strong></p><p>ETagæ˜¯èµ„æºæ–‡ä»¶çš„ä¸€ç§æ ‡è¯†ç ï¼Œå½“å®¢æˆ·ç«¯å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šè¿”å›å½“å‰èµ„æºçš„æ ‡è¯†ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ETag: <span class="string">"5694c7ef-24dc"</span></div></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯å†æ¬¡å‘é€ï¼Œä¼šåœ¨headeré‡Œæºå¸¦ä¸Šæ¬¡æœåŠ¡ç«¯è¿”å›çš„èµ„æºæ ‡è¯†ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">If-None-Match:<span class="string">"5694c7ef-24dc"</span></div></pre></td></tr></table></figure><p>æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„èµ„æºæ ‡è¯†ç ï¼Œåˆ™ä¼šä¸è‡ªå·±å½“å‰çš„èµ„æºå—è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸åŒï¼Œåˆ™è¯´æ˜èµ„æºå·²ç»è¢«ä¿®æ”¹ï¼Œåˆ™è¿”å›200ï¼Œå¦‚æœç›¸åŒåˆ™è¯´æ˜èµ„æºæ²¡æœ‰è¢«ä¿®æ”¹ï¼Œè¿”å›<br>304ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚</p><h3 id="HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Œè¯ä¹¦å¦‚ä½•æ ¡éªŒï¼Ÿ"><a href="#HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Œè¯ä¹¦å¦‚ä½•æ ¡éªŒï¼Ÿ" class="headerlink" title="HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Œè¯ä¹¦å¦‚ä½•æ ¡éªŒï¼Ÿ"></a>HTTPSæ˜¯å¦‚ä½•ä¿è¯å®‰å…¨çš„ï¼Œè¯ä¹¦å¦‚ä½•æ ¡éªŒï¼Ÿ</h3><h3 id="HTTPå¦‚ä½•å®ç°é•¿è¿æ¥ï¼Ÿ"><a href="#HTTPå¦‚ä½•å®ç°é•¿è¿æ¥ï¼Ÿ" class="headerlink" title="HTTPå¦‚ä½•å®ç°é•¿è¿æ¥ï¼Ÿ"></a>HTTPå¦‚ä½•å®ç°é•¿è¿æ¥ï¼Ÿ</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä¸€æ¬¡æ¬¡çš„æŒ‚äºä¸€é¢è®©æˆ‘ç­‹ç–²åŠ›ç«­â€¦æ„è¯†åˆ°è‡ªå·±å­˜åœ¨çœ¼é«˜æ‰‹ä½çš„çŠ¶æ€â€¦å‡†å¤‡é‡æ–°ä¸Šè·¯å¤¯å®åŸºç¡€&lt;br&gt;æœ¬ç‰‡æ–‡ç« Fork from &lt;a href=&quot;https://github.com/guoxiaoxing/android-interview&quot; target=
      
    
    </summary>
    
    
      <category term="Android" scheme="https://edward7zhang.github.io/tags/Android/"/>
    
      <category term="Interview" scheme="https://edward7zhang.github.io/tags/Interview/"/>
    
  </entry>
  
  <entry>
    <title>HTTPåè®®å¤ä¹ </title>
    <link href="https://edward7zhang.github.io/2018/04/16/HTTP%E5%8D%8F%E8%AE%AE/"/>
    <id>https://edward7zhang.github.io/2018/04/16/HTTPåè®®/</id>
    <published>2018-04-16T02:43:13.000Z</published>
    <updated>2018-04-16T13:58:56.825Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å¥‡è¿¹èˆ¬çš„è…¾è®¯ç¬”è¯•é€šè¿‡äº†ï¼Œæ˜¨å¤©ä¸‹åˆç»è¿‡äº†ä¸€é¢â€¦å‘ç°ä¹‹å‰ç€çœ¼äºAndroidä¸Javaçš„çŸ¥è¯†è€Œæ²¡æœ‰å¯¹è®¡ç®—æœºç½‘ç»œç³»ç»Ÿçš„å¤ä¹ â€¦å¯¼è‡´äº†è¿™æ¬¡é¢è¯•çš„æ»‘é“å¢â€¦æ‰€ä»¥æƒ³è¿›è¿™æ ·çš„ä¸€çº¿å¤§å‚åšä¸€ååˆæ ¼çš„ç¨‹åºå‘˜è¿˜æ˜¯è¦å…¨é¢å‘å±•â€¦ä¸èƒ½é¡¾æ­¤å¤±å½¼</p></blockquote><h1 id="Httpåè®®"><a href="#Httpåè®®" class="headerlink" title="Httpåè®®"></a>Httpåè®®</h1><hr><ul><li>é»˜è®¤ç«¯å£ï¼š80</li></ul><h2 id="Httpåè®®çš„ä¸»è¦ç‰¹ç‚¹"><a href="#Httpåè®®çš„ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="Httpåè®®çš„ä¸»è¦ç‰¹ç‚¹"></a>Httpåè®®çš„ä¸»è¦ç‰¹ç‚¹</h2><hr><ol><li>æ”¯æŒå®¢æˆ·ï¼æœåŠ¡å™¨æ¨¡å¼</li><li>ç®€å•å¿«é€Ÿï¼šå®¢æˆ·å‘æœåŠ¡ç«¯è¯·æ±‚æœåŠ¡æ—¶ï¼Œåªéœ€ä¼ é€è¯·æ±‚æ–¹å¼å’Œè·¯å¾„ã€‚</li><li>çµæ´»ï¼šå…è®¸ä¼ è¾“ä»»æ„ç±»å‹çš„æ•°æ®å¯¹è±¡ã€‚ç”±Content-TypeåŠ ä»¥æ ‡è®°ã€‚</li><li>æ— è¿æ¥ï¼šæ¯æ¬¡å“åº”ä¸€ä¸ªè¯·æ±‚ï¼Œå“åº”å®Œæˆä»¥åå°±æ–­å¼€è¿æ¥ã€‚</li><li>æ— çŠ¶æ€ï¼šæœåŠ¡å™¨ä¸ä¿å­˜æµè§ˆå™¨çš„ä»»ä½•ä¿¡æ¯ã€‚æ¯æ¬¡æäº¤çš„è¯·æ±‚ä¹‹é—´æ²¡æœ‰å…³è”ã€‚</li></ol><h3 id="éæŒç»­æ€§å’ŒæŒç»­æ€§"><a href="#éæŒç»­æ€§å’ŒæŒç»­æ€§" class="headerlink" title="éæŒç»­æ€§å’ŒæŒç»­æ€§"></a>éæŒç»­æ€§å’ŒæŒç»­æ€§</h3><hr><ul><li>HTTP1.0é»˜è®¤éæŒç»­æ€§ï¼›HTTP1.1é»˜è®¤æŒç»­æ€§</li></ul><h4 id="æŒç»­æ€§"><a href="#æŒç»­æ€§" class="headerlink" title="æŒç»­æ€§"></a>æŒç»­æ€§</h4><p>æµè§ˆå™¨å’ŒæœåŠ¡å™¨å»ºç«‹TCPè¿æ¥åï¼Œå¯ä»¥è¯·æ±‚å¤šä¸ªå¯¹è±¡</p><h4 id="éæŒç»­æ€§"><a href="#éæŒç»­æ€§" class="headerlink" title="éæŒç»­æ€§"></a>éæŒç»­æ€§</h4><p>æµè§ˆå™¨å’ŒæœåŠ¡å™¨å»ºç«‹TCPè¿æ¥åï¼Œåªèƒ½è¯·æ±‚ä¸€ä¸ªå¯¹è±¡</p><h3 id="éæµæ°´çº¿å’Œæµæ°´çº¿"><a href="#éæµæ°´çº¿å’Œæµæ°´çº¿" class="headerlink" title="éæµæ°´çº¿å’Œæµæ°´çº¿"></a>éæµæ°´çº¿å’Œæµæ°´çº¿</h3><hr><p>ç±»ä¼¼äºç»„æˆé‡Œé¢çš„æµæ°´æ“ä½œ</p><ul><li>æµæ°´çº¿ï¼šä¸å¿…ç­‰åˆ°æ”¶åˆ°æœåŠ¡å™¨çš„å›åº”å°±å‘é€ä¸‹ä¸€ä¸ªæŠ¥æ–‡ã€‚</li><li>éæµæ°´çº¿ï¼šå‘å‡ºä¸€ä¸ªæŠ¥æ–‡ï¼Œç­‰åˆ°å“åº”ï¼Œå†å‘ä¸‹ä¸€ä¸ªæŠ¥æ–‡ã€‚ç±»ä¼¼TCPã€‚</li></ul><h4 id="POSTå’ŒGETçš„åŒºåˆ«"><a href="#POSTå’ŒGETçš„åŒºåˆ«" class="headerlink" title="POSTå’ŒGETçš„åŒºåˆ«"></a>POSTå’ŒGETçš„åŒºåˆ«</h4><table><thead><tr><th>Postä¸€èˆ¬ç”¨äºæ›´æ–°æˆ–è€…æ·»åŠ èµ„æºä¿¡æ¯</th><th style="text-align:center">Getä¸€èˆ¬ç”¨äºæŸ¥è¯¢æ“ä½œï¼Œè€Œä¸”åº”è¯¥æ˜¯å®‰å…¨å’Œå¹‚ç­‰çš„</th></tr></thead><tbody><tr><td>Postæ›´åŠ å®‰å…¨</td><td style="text-align:center">Getä¼šæŠŠè¯·æ±‚çš„ä¿¡æ¯æ”¾åˆ°URLçš„åé¢</td></tr><tr><td>Postä¼ è¾“é‡ä¸€èˆ¬æ— å¤§å°é™åˆ¶</td><td style="text-align:center">Getä¸èƒ½å¤§äº2KB</td></tr><tr><td>Postæ‰§è¡Œæ•ˆç‡ä½</td><td style="text-align:center">Getæ‰§è¡Œæ•ˆç‡ç•¥é«˜</td></tr></tbody></table><h4 id="ä¸ºä»€ä¹ˆPOSTæ•ˆç‡ä½ï¼ŒGetæ•ˆç‡é«˜"><a href="#ä¸ºä»€ä¹ˆPOSTæ•ˆç‡ä½ï¼ŒGetæ•ˆç‡é«˜" class="headerlink" title="ä¸ºä»€ä¹ˆPOSTæ•ˆç‡ä½ï¼ŒGetæ•ˆç‡é«˜"></a>ä¸ºä»€ä¹ˆPOSTæ•ˆç‡ä½ï¼ŒGetæ•ˆç‡é«˜</h4><hr><ul><li>Getå°†å‚æ•°æ‹¼æˆURL,æ”¾åˆ°headeræ¶ˆæ¯å¤´é‡Œä¼ é€’</li><li>Postç›´æ¥ä»¥é”®å€¼å¯¹çš„å½¢å¼æ”¾åˆ°æ¶ˆæ¯ä½“ä¸­ä¼ é€’ã€‚</li><li>ä½†ä¸¤è€…çš„æ•ˆç‡å·®è·å¾ˆå°å¾ˆå°</li></ul><h2 id="Https"><a href="#Https" class="headerlink" title="Https"></a>Https</h2><hr><ul><li>ç«¯å£å·æ˜¯443</li><li>æ˜¯ç”±SSL+Httpåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ã€‚</li></ul><h1 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h1><hr><h3 id="ä½¿ç”¨TCP"><a href="#ä½¿ç”¨TCP" class="headerlink" title="ä½¿ç”¨TCP"></a>ä½¿ç”¨TCP</h3><hr><p>å®¢æˆ·ç«¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Socket socket = new Socket(&quot;ip&quot;, ç«¯å£);</div><div class="line"></div><div class="line">InputStream is = socket.getInputStream();</div><div class="line">DataInputStream dis = new DataInputStream(is);</div><div class="line"></div><div class="line">OutputStream os = socket.getOutputStream();</div><div class="line">DataInputStream dos = new DataOutputStream(os);</div></pre></td></tr></table></figure><p>æœåŠ¡å™¨ç«¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ServerSocket serverSocket = new ServerSocket(ç«¯å£);</div><div class="line">Socket socket = serverSocket.accept();</div><div class="line">//è·å–æµçš„æ–¹å¼ä¸å®¢æˆ·ç«¯ä¸€æ ·</div></pre></td></tr></table></figure><p>è¯»å–è¾“å…¥æµ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">byte[] buffer = new byte[1024]; </div><div class="line">do&#123; </div><div class="line">int count = is.read(buffer); </div><div class="line">if(count &lt;= 0)&#123; break; &#125;</div><div class="line">else&#123; </div><div class="line">// å¯¹bufferä¿å­˜æˆ–è€…åšäº›å…¶ä»–æ“ä½œ </div><div class="line">&#125; </div><div class="line">&#125;</div><div class="line">while(true);</div></pre></td></tr></table></figure><h2 id="ä½¿ç”¨UDP"><a href="#ä½¿ç”¨UDP" class="headerlink" title="ä½¿ç”¨UDP"></a>ä½¿ç”¨UDP</h2><p>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¸€æ ·çš„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">DatagramSocket socket = new DatagramSocket(ç«¯å£);</div><div class="line">InetAddress serverAddress = InetAddress.getbyName(&quot;ip&quot;);</div><div class="line">//å‘é€</div><div class="line">DatagramPackage packet = new DatagramPacket(buffer, length, host, port);</div><div class="line">socket.send(packet);</div><div class="line">//æ¥æ”¶</div><div class="line">byte[] buf = new byte[1024];</div><div class="line">DatagramPacket packet = new DatagramPacket(buf, 1024);</div><div class="line">Socket.receive(packet);</div></pre></td></tr></table></figure><h1 id="TCPä¸UDP"><a href="#TCPä¸UDP" class="headerlink" title="TCPä¸UDP"></a>TCPä¸UDP</h1><hr><p><strong>é¢å‘æŠ¥æ–‡çš„ä¼ è¾“æ–¹å¼</strong>æ˜¯åº”ç”¨å±‚äº¤ç»™UDPå¤šé•¿çš„æŠ¥æ–‡ï¼ŒUDPå°±ç…§æ ·å‘é€ï¼Œå³ä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ã€‚å› æ­¤ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»é€‰æ‹©åˆé€‚å¤§å°çš„æŠ¥æ–‡ã€‚è‹¥æŠ¥æ–‡å¤ªé•¿ï¼Œåˆ™IPå±‚éœ€è¦åˆ†ç‰‡ï¼Œé™ä½æ•ˆç‡ã€‚è‹¥å¤ªçŸ­ï¼Œä¼šæ˜¯IPå¤ªå°ã€‚UDPå¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œåº”ç”¨å±‚äº¤ç»™UDPå¤šé•¿çš„æŠ¥æ–‡ï¼ŒUDPå°±ç…§æ ·å‘é€ï¼Œå³ä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ã€‚<br><strong>é¢å‘å­—èŠ‚æµ</strong>çš„è¯ï¼Œè™½ç„¶åº”ç”¨ç¨‹åºå’ŒTCPçš„äº¤äº’æ˜¯ä¸€æ¬¡ä¸€ä¸ªæ•°æ®å—ï¼ˆå¤§å°ä¸ç­‰ï¼‰ï¼Œä½†TCPæŠŠåº”ç”¨ç¨‹åºçœ‹æˆæ˜¯ä¸€è¿ä¸²çš„æ— ç»“æ„çš„å­—èŠ‚æµã€‚TCPæœ‰ä¸€ä¸ªç¼“å†²ï¼Œå½“åº”ç”¨ç¨‹åºä¼ é€çš„æ•°æ®å—å¤ªé•¿ï¼ŒTCPå°±å¯ä»¥æŠŠå®ƒåˆ’åˆ†çŸ­ä¸€äº›å†ä¼ é€ã€‚å¦‚æœåº”ç”¨ç¨‹åºä¸€æ¬¡åªå‘é€ä¸€ä¸ªå­—èŠ‚ï¼ŒTCPä¹Ÿå¯ä»¥ç­‰å¾…ç§¯ç´¯æœ‰è¶³å¤Ÿå¤šçš„å­—èŠ‚åå†æ„æˆæŠ¥æ–‡æ®µå‘é€å‡ºå»ã€‚</p><h2 id="TCPåè®®"><a href="#TCPåè®®" class="headerlink" title="TCPåè®®"></a>TCPåè®®</h2><hr><hr><ul><li>Transmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®</li><li>é¢å‘è¿æ¥çš„åè®®</li><li>éœ€è¦ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥</li><li>éœ€è¦å››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥</li><li>TCPæŠ¥å¤´æœ€å°é•¿åº¦ï¼š20å­—èŠ‚<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://hi.csdn.net/attachment/201108/7/0_131271823564Rx.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure></li></ul><h3 id="ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š"><a href="#ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š"></a>ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š</h3><hr><hr><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://img-blog.csdn.net/20170104214009596?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2h1c2xlaQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><ol><li>å®¢æˆ·ç«¯å‘é€ï¼šSYN = 1, SEQ = X, ç«¯å£å·</li><li>æœåŠ¡å™¨å›å¤ï¼šSYN = 1, ack = X + 1, SEQ = Yï¼ŒACK = 1</li><li>å®¢æˆ·ç«¯å‘é€ï¼šack = Y + 1, SEQ = X + 1,ACK = 1</li></ol><ul><li>SYN â€“ å»ºç«‹è¿æ¥ä½</li><li>ACK â€“ å“åº”ä½</li><li>SEQ â€“ é¡ºåºå·ç </li><li><p>ack â€“ ç¡®è®¤å·</p><blockquote><p>ç¡®è®¤åº”ç­”ä¿¡å·ACK = æ”¶åˆ°çš„SEQ + 1ã€‚<br>è¿æ¥å»ºç«‹ä¸­ï¼ŒåŒæ­¥ä¿¡å·SYNå§‹ç»ˆä¸º1ã€‚è¿æ¥å»ºç«‹åï¼ŒåŒæ­¥ä¿¡å·SYN=0ã€‚</p></blockquote></li><li><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šä¸»æœºAå‘é€ä½ç ä¸ºSYN = 1ï¼Œéšæœºäº§ç”ŸSEQ = 1234567çš„æ•°æ®åŒ…åˆ°æœåŠ¡å™¨ï¼Œä¸»æœºBç”±SYN = 1çŸ¥é“ï¼ŒAè¦å»ºç«‹è”æœº</p></li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šä¸»æœºBæ”¶åˆ°è¯·æ±‚åè¦ç¡®è®¤è”æœºä¿¡æ¯ï¼Œå‘Aå‘é€ACK = ï¼ˆä¸»æœºAçš„SEQ+1ï¼‰ï¼ŒSYN = 1ï¼Œack = 1ï¼Œéšæœºäº§ç”ŸSEQ = 3452671çš„åŒ…ï¼›</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šä¸»æœºAæ”¶åˆ°åæ£€æŸ¥ackæ˜¯å¦æ­£ç¡®ï¼Œå³ç¬¬ä¸€æ¬¡å‘é€çš„ï¼ˆSEQ+1ï¼‰ï¼Œä»¥åŠä½ç ACKæ˜¯å¦ä¸º1ï¼Œè‹¥æ­£ç¡®ï¼Œä¸»æœºAä¼šå†å‘é€ack = ï¼ˆä¸»æœºBçš„SEQ+1ï¼‰ï¼ŒACK = 1ï¼Œä¸»æœºBæ”¶åˆ°åç¡®è®¤SEQå€¼ä¸ACK = 1åˆ™è¿æ¥å»ºç«‹æˆåŠŸã€‚</li></ul><h3 id="å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹"><a href="#å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹"></a>å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹</h3><hr><hr><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://hi.csdn.net/attachment/201108/7/0_1312718564tZXD.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><ol><li>Aå‘Bæå‡ºåœæ­¢è¿æ¥è¯·æ±‚ï¼ŒFIN = 1</li><li>Bæ”¶åˆ°ï¼ŒACK = 1</li><li>Bå‘Aæå‡ºåœæ­¢è¿æ¥è¯·æ±‚ï¼ŒFIN = 1</li><li>Aæ”¶åˆ°ï¼ŒACK = 1</li></ol><ul><li>FIN â€“ å…³é—­è¿æ¥</li><li>SYN â€“ å»ºç«‹è¿æ¥ä½</li><li>ACK â€“ å“åº”ä½</li><li>SEQ â€“ é¡ºåºå·ç </li><li>ack â€“ ç¡®è®¤å·<br><strong>ä¼˜ç‚¹ï¼š</strong> </li></ul><hr><ul><li>å¯é ï¼Œç¨³å®š<pre><code>1ã€ä¼ é€’æ•°æ®å‰ï¼Œä¼šæœ‰ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥2ã€ä¼ é€’æ•°æ®æ—¶ï¼Œæœ‰ç¡®è®¤ã€çª—å£ã€é‡ä¼ ã€æ‹¥å¡æ§åˆ¶3ã€ä¼ é€’æ•°æ®åï¼Œä¼šæ–­å¼€è¿æ¥èŠ‚çœç³»ç»Ÿèµ„æº</code></pre></li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><hr><ul><li><p>ä¼ è¾“æ…¢ï¼Œæ•ˆç‡ä½ï¼Œå ç”¨ç³»ç»Ÿèµ„æºé«˜<br>1ã€ä¼ é€’æ•°æ®å‰ï¼Œå»ºç«‹è¿æ¥éœ€è¦è€—æ—¶<br>2ã€ä¼ é€’æ•°æ®æ—¶ï¼Œç¡®è®¤ã€é‡ä¼ ã€æ‹¥å¡ç­‰ä¼šæ¶ˆè€—å¤§é‡æ—¶é—´ä»¥åŠCPUå’Œå†…å­˜ç­‰ç¡¬ä»¶èµ„æº</p></li><li><p>æ˜“è¢«æ”»å‡»<br>1ã€å› ä¸ºæœ‰ç¡®è®¤æœºåˆ¶ï¼Œä¸‰æ¬¡æ¡æ‰‹ç­‰æœºåˆ¶ï¼Œå®¹æ˜“è¢«äººåˆ©ç”¨ï¼Œå®ç°DOS ã€DDOSæ”»å‡»</p></li></ul><p><strong>å¦‚ä½•ä¿è¯æ¥æ”¶çš„é¡ºåºæ€§ï¼š</strong></p><hr><p>TCPåè®®ä½¿ç”¨SEQå’ŒACKæœºåˆ¶ä¿è¯äº†é¡ºåºæ€§<br>TCPçš„æ¯ä¸ªæŠ¥æ–‡éƒ½æ˜¯æœ‰åºå·çš„ã€‚ç¡®è®¤åº”ç­”ä¿¡å·ACK=æ”¶åˆ°çš„SEQ+1</p><p><strong>ã€æ³¨æ„ã€‘ä¸­æ–­è¿æ¥ç«¯å¯ä»¥æ˜¯Clientç«¯ï¼Œä¹Ÿå¯ä»¥æ˜¯Serverç«¯ã€‚</strong></p><p>å‡è®¾Clientç«¯å‘èµ·ä¸­æ–­è¿æ¥è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘é€FINæŠ¥æ–‡ã€‚Serverç«¯æ¥åˆ°FINæŠ¥æ–‡åï¼Œæ„æ€æ˜¯è¯´â€æˆ‘Clientç«¯æ²¡æœ‰æ•°æ®è¦å‘ç»™ä½ äº†â€ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œåˆ™ä¸å¿…æ€¥ç€å…³é—­Socketï¼Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚æ‰€ä»¥ä½ å…ˆå‘é€ACKï¼Œâ€å‘Šè¯‰Clientç«¯ï¼Œä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¯·ç»§ç»­ä½ ç­‰æˆ‘çš„æ¶ˆæ¯â€ã€‚è¿™ä¸ªæ—¶å€™Clientç«¯å°±è¿›å…¥FIN_WAITçŠ¶æ€ï¼Œç»§ç»­ç­‰å¾…Serverç«¯çš„FINæŠ¥æ–‡ã€‚å½“Serverç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘Clientç«¯å‘é€FINæŠ¥æ–‡ï¼Œâ€å‘Šè¯‰Clientç«¯ï¼Œå¥½äº†ï¼Œæˆ‘è¿™è¾¹æ•°æ®å‘å®Œäº†ï¼Œå‡†å¤‡å¥½å…³é—­è¿æ¥äº†â€ã€‚Clientç«¯æ”¶åˆ°FINæŠ¥æ–‡åï¼Œâ€å°±çŸ¥é“å¯ä»¥å…³é—­è¿æ¥äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ç›¸ä¿¡ç½‘ç»œï¼Œæ€•Serverç«¯ä¸çŸ¥é“è¦å…³é—­ï¼Œæ‰€ä»¥å‘é€ACKåè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œå¦‚æœServerç«¯æ²¡æœ‰æ”¶åˆ°ACKåˆ™å¯ä»¥é‡ä¼ ã€‚â€œï¼ŒServerç«¯æ”¶åˆ°ACKåï¼Œâ€å°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†â€ã€‚Clientç«¯ç­‰å¾…äº†2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜Serverç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œæˆ‘Clientç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚Okï¼ŒTCPè¿æ¥å°±è¿™æ ·å…³é—­äº†ï¼</p><p>æ•´ä¸ªè¿‡ç¨‹Clientç«¯æ‰€ç»å†çš„çŠ¶æ€å¦‚ä¸‹ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://hi.csdn.net/attachment/201108/7/0_1312719804oSkK.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure> <p>è€ŒServerç«¯æ‰€ç»å†çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="http://hi.csdn.net/attachment/201108/7/0_1312719833030b.gif" alt="" title="">                </div>                <div class="image-caption"></div>            </figure> <p><strong>ã€æ³¨æ„ã€‘</strong> åœ¨TIME_WAITçŠ¶æ€ä¸­ï¼Œå¦‚æœTCP clientç«¯æœ€åä¸€æ¬¡å‘é€çš„ACKä¸¢å¤±äº†ï¼Œå®ƒå°†é‡æ–°å‘é€ã€‚TIME_WAITçŠ¶æ€ä¸­æ‰€éœ€è¦çš„æ—¶é—´æ˜¯ä¾èµ–äºå®ç°æ–¹æ³•çš„ã€‚å…¸å‹çš„å€¼ä¸º30ç§’ã€1åˆ†é’Ÿå’Œ2åˆ†é’Ÿã€‚ç­‰å¾…ä¹‹åè¿æ¥æ­£å¼å…³é—­ï¼Œå¹¶ä¸”æ‰€æœ‰çš„èµ„æº(åŒ…æ‹¬ç«¯å£å·)éƒ½è¢«é‡Šæ”¾ã€‚</p><h2 id="UDPåè®®"><a href="#UDPåè®®" class="headerlink" title="UDPåè®®"></a>UDPåè®®</h2><hr><hr><ul><li>User Data Protocolï¼Œç”¨æˆ·æ•°æ®åŒ…åè®®</li><li>é¢å‘æ— è¿æ¥çš„åè®®</li><li>UDPæŠ¥å¤´åªæœ‰8å­—èŠ‚</li></ul><p><strong>ç®€ä»‹ï¼š</strong></p><hr><ul><li>ä¼ è¾“æ•°æ®ä¹‹å‰æºç«¯å’Œç»ˆç«¯ä¸å»ºç«‹è¿æ¥ï¼Œå½“å®ƒæƒ³ä¼ é€æ—¶å°±ç®€å•åœ°å»æŠ“å–æ¥è‡ªåº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œå¹¶å°½å¯èƒ½å¿«çš„æŠŠå®ƒæ‰”åˆ°ç½‘ç»œä¸Š</li><li>åœ¨å‘é€ç«¯ï¼ŒUDPä¼ é€æ•°æ®çš„é€Ÿåº¦ä»…ä»…æ˜¯å—åº”ç”¨ç¨‹åºç”Ÿæˆæ•°æ®çš„é€Ÿåº¦ã€è®¡ç®—æœºçš„èƒ½åŠ›å’Œä¼ è¾“å¸¦å®½çš„é™åˆ¶</li><li>åœ¨æ¥æ”¶ç«¯ï¼ŒUDPæŠŠæ¯ä¸ªæ¶ˆæ¯æ®µæ”¾åœ¨é˜Ÿåˆ—ä¸­ï¼Œåº”ç”¨ç¨‹åºæ¯æ¬¡ä»é˜Ÿåˆ—ä¸­è¯»ä¸€ä¸ªæ¶ˆæ¯æ®µ</li><li>ç”±äºä¼ è¾“æ•°æ®ä¸å»ºç«‹è¿æ¥ï¼Œå› æ­¤ä¹Ÿå°±ä¸éœ€è¦ç»´æŠ¤è¿æ¥çŠ¶æ€ï¼ŒåŒ…æ‹¬æ”¶å‘çŠ¶æ€ç­‰ï¼Œå› æ­¤ä¸€å°æœåŠ¡æœºå¯åŒæ—¶å‘å¤šä¸ªå®¢æˆ·æœºä¼ è¾“ç›¸åŒçš„æ¶ˆæ¯</li><li>UDPä¿¡æ¯åŒ…çš„æ ‡é¢˜å¾ˆçŸ­ï¼Œåªæœ‰8ä¸ªå­—èŠ‚ï¼Œç›¸å¯¹äºTCPçš„20ä¸ªå­—èŠ‚ä¿¡æ¯åŒ…çš„é¢å¤–å¼€é”€å¾ˆå°</li><li>ååé‡ä¸å—æ‹¥æŒ¤æ§åˆ¶ç®—æ³•çš„è°ƒèŠ‚ï¼Œåªå—åº”ç”¨è½¯ä»¶ç”Ÿæˆæ•°æ®çš„é€Ÿç‡ã€ä¼ è¾“å¸¦å®½ã€æºç«¯å’Œç»ˆç«¯ä¸»æœºæ€§èƒ½çš„é™åˆ¶</li><li>UDPä½¿ç”¨å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜ï¼Œå› æ­¤ä¸»æœºä¸éœ€è¦ç»´æŒå¤æ‚çš„é“¾æ¥çŠ¶æ€è¡¨ã€‚</li><li>UDPæ˜¯é¢å‘æŠ¥æ–‡çš„ã€‚å‘é€æ–¹çš„UDPå¯¹åº”ç”¨ç¨‹åºäº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œåœ¨æ·»åŠ é¦–éƒ¨åå°±å‘ä¸‹äº¤ä»˜ç»™IPå±‚ã€‚æ—¢ä¸æ‹†åˆ†ï¼Œä¹Ÿä¸åˆå¹¶ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œï¼Œå› æ­¤ï¼Œåº”ç”¨ç¨‹åºéœ€è¦é€‰æ‹©åˆé€‚çš„æŠ¥æ–‡å¤§å°ã€‚</li></ul><blockquote><p>ä½¿ç”¨â€œpingâ€å‘½ä»¤æ¥æµ‹è¯•ä¸¤å°ä¸»æœºä¹‹é—´TCP/IPé€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œå…¶å®â€œpingâ€å‘½ä»¤çš„åŸç†å°±æ˜¯å‘å¯¹æ–¹ä¸»æœºå‘é€UDPæ•°æ®åŒ…ï¼Œç„¶åå¯¹æ–¹ä¸»æœºç¡®è®¤æ”¶åˆ°æ•°æ®åŒ…ï¼Œå¦‚æœæ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾çš„æ¶ˆæ¯åŠæ—¶åé¦ˆå›æ¥ï¼Œé‚£ä¹ˆç½‘ç»œå°±æ˜¯é€šçš„ã€‚</p></blockquote><p><strong>ä¼˜ç‚¹ï¼š</strong></p><hr><ul><li><p>ä¼ è¾“é€Ÿç‡å¿«<br>1ã€ä¼ è¾“æ•°æ®å‰ï¼Œä¸éœ€è¦åƒTCPä¸€æ ·å»ºç«‹è¿æ¥<br>2ã€ä¼ è¾“æ•°æ®æ—¶ï¼Œæ²¡æœ‰ç¡®è®¤ã€çª—å£ã€é‡ä¼ ã€æ‹¥å¡æ§åˆ¶ç­‰æœºåˆ¶</p></li><li><p>è¾ƒå®‰å…¨<br>1ã€ç”±äºæ²¡æœ‰äº†TCPçš„ä¸€äº›æœºåˆ¶ï¼Œè¢«æ”»å‡»è€…åˆ©ç”¨çš„æ¼æ´å°±å°‘äº†</p></li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><hr><ul><li>ä¸å¯é ï¼Œä¸ç¨³å®š<br>1ã€ç”±äºæ²¡æœ‰äº†TCPçš„æœºåˆ¶ï¼Œåœ¨æ•°æ®ä¼ è¾“æ—¶å¦‚æœç½‘ç»œä¸å¥½ï¼Œå¾ˆå¯èƒ½ä¸¢åŒ…</li></ul><p><strong>ç”¨UDPåè®®é€šè®¯æ—¶æ€æ ·å¾—çŸ¥ç›®æ ‡æœºæ˜¯å¦è·å¾—äº†æ•°æ®åŒ…</strong></p><hr><p>ä»¿é€ TCPçš„åšæ³•ï¼Œæ¯å‘ä¸€ä¸ªUDPåŒ…ï¼Œéƒ½åœ¨é‡Œé¢åŠ ä¸€ä¸ªSEQåºå·ï¼Œæ¥æ”¶æ–¹æ”¶åˆ°åŒ…åï¼Œå°†SEQåºå·å›å¤ç»™å‘é€æ–¹ã€‚å¦‚æœå‘é€æ–¹åœ¨æŒ‡å®šæ—¶é—´ä»¥å†…æ²¡æœ‰æ”¶åˆ°å›åº”ï¼Œè¯´æ˜ä¸¢åŒ…äº†ã€‚</p><h2 id="TCPä¸UDPçš„åŒºåˆ«"><a href="#TCPä¸UDPçš„åŒºåˆ«" class="headerlink" title="TCPä¸UDPçš„åŒºåˆ«"></a>TCPä¸UDPçš„åŒºåˆ«</h2><hr><table class="table table-bordered table-striped table-condensed"><br>    <tr><br>        <td>TCPé¢å‘<strong>æœ‰é“¾æ¥</strong>çš„é€šä¿¡æœåŠ¡</td><br>        <td>UDPé¢å‘<strong>æ— è¿æ¥</strong>çš„é€šä¿¡æœåŠ¡</td><br>    </tr><br>    <tr><br>        <td>TCPæä¾›å¯é çš„é€šä¿¡ä¼ è¾“</td><br>        <td>UDPä¸å¯é ,ä¼šä¸¢åŒ…</td><br>    </tr><br>    <tr><br>        <td>TCPä¿è¯æ•°æ®é¡ºåº</td><br>        <td>UDPä¸ä¿è¯</td><br>    </tr><br>    <tr><br>        <td>TCPæ•°æ®æ— è¾¹ç•Œ</td><br>        <td>UDPæœ‰è¾¹ç•Œ</td><br>    </tr><br>    <tr><br>        <td>TCPé€Ÿåº¦å¿«</td><br>        <td>UDPé€Ÿåº¦æ…¢</td><br>    </tr><br>    <tr><br>        <td>TCPé¢å‘å­—èŠ‚æµ</td><br>        <td>UDPé¢å‘æŠ¥æ–‡</td><br>    </tr><br>    <tr><br>        <td>TCPä¸€å¯¹ä¸€</td><br>        <td>UDPå¯ä»¥ä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤š</td><br>    </tr><br>    <tr><br>        <td>TCPæŠ¥å¤´è‡³å°‘20å­—èŠ‚</td><br>        <td>UDPæŠ¥å¤´8å­—èŠ‚</td><br>    </tr><br>    <tr><br>        <td>TCPæœ‰æµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶</td><br>        <td>UDPæ²¡æœ‰</td><br>    </tr><br></table><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p><strong>ä¸ºä»€ä¹ˆUDPæ¯”TCPå¿«</strong></p><hr><ol><li>TCPéœ€è¦ä¸‰æ¬¡æ¡æ‰‹</li><li>TCPæœ‰æ‹¥å¡æ§åˆ¶ï¼Œæ§åˆ¶æµé‡ç­‰æœºåˆ¶</li></ol><p><strong>ä¸ºä»€ä¹ˆTCPæ¯”UDPå¯é </strong></p><hr><ol><li>TCPæ˜¯é¢å‘æœ‰è¿æ¥çš„ï¼Œå»ºç«‹è¿æ¥ä¹‹åæ‰å‘é€æ•°æ®ï¼›è€ŒUDPåˆ™ä¸ç®¡å¯¹æ–¹å­˜ä¸å­˜åœ¨éƒ½ä¼šå‘é€æ•°æ®ã€‚</li><li>TCPæœ‰ç¡®è®¤æœºåˆ¶ï¼Œæ¥æ”¶ç«¯æ¯æ”¶åˆ°ä¸€ä¸ªæ­£ç¡®åŒ…éƒ½ä¼šå›åº”ç»™å‘é€ç«¯ã€‚è¶…æ—¶æˆ–è€…æ•°æ®åŒ…ä¸å®Œæ•´çš„è¯å‘é€ç«¯ä¼šé‡ä¼ ã€‚UDPæ²¡æœ‰ã€‚å› æ­¤å¯èƒ½ä¸¢åŒ…ã€‚</li></ol><p><strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨TCP</strong></p><hr><p>å½“å¯¹ç½‘ç»œé€šè®¯è´¨é‡æœ‰è¦æ±‚çš„æ—¶å€™ï¼Œæ¯”å¦‚ï¼šæ•´ä¸ªæ•°æ®è¦å‡†ç¡®æ— è¯¯çš„ä¼ é€’ç»™å¯¹æ–¹ï¼Œè¿™å¾€å¾€ç”¨äºä¸€äº›è¦æ±‚å¯é çš„åº”ç”¨ï¼Œæ¯”å¦‚HTTPã€HTTPSã€FTPç­‰ä¼ è¾“æ–‡ä»¶çš„åè®®ï¼ŒPOPã€SMTPç­‰é‚®ä»¶ä¼ è¾“çš„åè®®ã€‚<br>åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¸¸è§ä½¿ç”¨TCPåè®®çš„åº”ç”¨å¦‚ä¸‹ï¼š<br>æµè§ˆå™¨ï¼Œç”¨çš„HTTP<br>FlashFXPï¼Œç”¨çš„FTP<br>Outlookï¼Œç”¨çš„POPã€SMTP<br>Puttyï¼Œç”¨çš„Telnetã€SSH<br>QQæ–‡ä»¶ä¼ è¾“</p><p><strong>ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨UDPï¼š</strong></p><hr><p>å½“å¯¹ç½‘ç»œé€šè®¯è´¨é‡è¦æ±‚ä¸é«˜çš„æ—¶å€™ï¼Œè¦æ±‚ç½‘ç»œé€šè®¯é€Ÿåº¦èƒ½å°½é‡çš„å¿«ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨UDPã€‚<br>æ¯”å¦‚ï¼Œæ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œå¸¸è§ä½¿ç”¨UDPåè®®çš„åº”ç”¨å¦‚ä¸‹ï¼š<br>QQè¯­éŸ³<br>QQè§†é¢‘<br>TFTP</p><p><strong>TCPæ— è¾¹ç•Œï¼ŒUDPæœ‰è¾¹ç•Œ</strong></p><hr><p><strong>TCPæ— è¾¹ç•Œ</strong></p><p>å®¢æˆ·ç«¯åˆ†å¤šæ¬¡å‘é€æ•°æ®ç»™æœåŠ¡å™¨ï¼Œè‹¥æœåŠ¡å™¨çš„ç¼“å†²åŒºå¤Ÿå¤§ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ç«¯ä¼šåœ¨å®¢æˆ·ç«¯å‘é€å®Œä¹‹åä¸€æ¬¡æ€§æ¥æ”¶è¿‡æ¥ï¼Œæ‰€ä»¥æ˜¯æ— è¾¹ç•Œçš„ï¼›</p><p><strong>UDPæœ‰è¾¹ç•Œ</strong></p><p>å®¢æˆ·ç«¯æ¯å‘é€ä¸€æ¬¡ï¼ŒæœåŠ¡å™¨ç«¯å°±ä¼šæ¥æ”¶ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´å‘é€å¤šå°‘æ¬¡å°±ä¼šæ¥æ”¶å¤šå°‘æ¬¡ï¼Œå› æ­¤æ˜¯æœ‰è¾¹ç•Œçš„ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ</strong></p><hr><p>å› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œâ€œä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†â€ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ¬¡æ¡æ‰‹</p><p><strong>ä¸ºä»€ä¹ˆTIME_WAITçŠ¶æ€éœ€è¦ç»è¿‡2MSL(æœ€å¤§æŠ¥æ–‡æ®µç”Ÿå­˜æ—¶é—´)æ‰èƒ½è¿”å›åˆ°CLOSEçŠ¶æ€ï¼Ÿ</strong></p><hr><p>è™½ç„¶æŒ‰é“ç†ï¼Œå››ä¸ªæŠ¥æ–‡éƒ½å‘é€å®Œæ¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›å…¥CLOSEçŠ¶æ€äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»å‡è±¡ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæœ‰å¯ä»¥æœ€åä¸€ä¸ªACKä¸¢å¤±ã€‚æ‰€ä»¥TIME_WAITçŠ¶æ€æ˜¯ç”¨æ¥é‡å‘å¯èƒ½ä¸¢å¤±çš„ACKæŠ¥æ–‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å¥‡è¿¹èˆ¬çš„è…¾è®¯ç¬”è¯•é€šè¿‡äº†ï¼Œæ˜¨å¤©ä¸‹åˆç»è¿‡äº†ä¸€é¢â€¦å‘ç°ä¹‹å‰ç€çœ¼äºAndroidä¸Javaçš„çŸ¥è¯†è€Œæ²¡æœ‰å¯¹è®¡ç®—æœºç½‘ç»œç³»ç»Ÿçš„å¤ä¹ â€¦å¯¼è‡´äº†è¿™æ¬¡é¢è¯•çš„æ»‘é“å¢â€¦æ‰€ä»¥æƒ³è¿›è¿™æ ·çš„ä¸€çº¿å¤§å‚åšä¸€ååˆæ ¼çš„ç¨‹åºå‘˜è¿˜æ˜¯è¦å…¨é¢å‘å±•â€¦ä¸èƒ½é¡¾æ­¤å¤±å½¼&lt;/p&gt;
&lt;/blockquote&gt;

      
    
    </summary>
    
    
      <category term="Network" scheme="https://edward7zhang.github.io/tags/Network/"/>
    
  </entry>
  
</feed>
