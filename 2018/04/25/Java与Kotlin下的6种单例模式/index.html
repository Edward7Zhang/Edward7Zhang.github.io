<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'true', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    

    



    <meta charset="utf-8">
    
    <meta name="google-site-verification" content="true">
    
    
    
    <title>Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ | EdwardZhang&#39;s Blog | Life starts at the end of your comfort zone. âš½ ğŸ‚ ğŸƒ ğŸš´ âŒ¨ï¸</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Java,Kotlin">
    <meta name="description" content="å‰è¨€ æœ€è¿‘åœ¨å­¦ä¹ Kotlinï¼Œç”±äºGoogleç²‘ç²‘æŠŠè¿™ä¸€è¯­è¨€ææºä¸ºå®˜æ–¹æŒ‡å®šï¼Œå¹¶ä¸”å¯¹äºç§»åŠ¨ç«¯ç­‰å¼€å‘å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ï¼Œä½œä¸ºä¸€åAndroidDeveloperå­¦ä¹ Kotlinæ˜¯å¿…è¦çš„ã€‚å½“åˆåœ¨å­¦ä¹ Javaæ—¶å¯¹å•ä¾‹æ¨¡å¼çš„å…­ç§ä¹¦å†™ä¸åº”ç”¨è®°å¿†æ·±åˆ»æ‰€ä»¥è¿™æ¬¡å¯¹ä¸åŒå•ä¾‹æ¨¡å¼çš„Javaä¸Kotlinå®ç°è¿›è¡Œäº†åˆ†åˆ«æ¢è®¨ã€‚  å…­ç§æ¨¡å¼å¦‚ä¸‹ï¼š  é¥¿æ±‰æ¨¡å¼ æ‡’æ±‰æ¨¡å¼ çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼ åŒé‡æ ¡éªŒé”å¼ é™æ€å†…éƒ¨ç±»å¼ æšä¸¾å¼">
<meta name="keywords" content="Java,Kotlin">
<meta property="og:type" content="article">
<meta property="og:title" content="Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼">
<meta property="og:url" content="https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/index.html">
<meta property="og:site_name" content="EdwardZhang&#39;s Blog">
<meta property="og:description" content="å‰è¨€ æœ€è¿‘åœ¨å­¦ä¹ Kotlinï¼Œç”±äºGoogleç²‘ç²‘æŠŠè¿™ä¸€è¯­è¨€ææºä¸ºå®˜æ–¹æŒ‡å®šï¼Œå¹¶ä¸”å¯¹äºç§»åŠ¨ç«¯ç­‰å¼€å‘å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ï¼Œä½œä¸ºä¸€åAndroidDeveloperå­¦ä¹ Kotlinæ˜¯å¿…è¦çš„ã€‚å½“åˆåœ¨å­¦ä¹ Javaæ—¶å¯¹å•ä¾‹æ¨¡å¼çš„å…­ç§ä¹¦å†™ä¸åº”ç”¨è®°å¿†æ·±åˆ»æ‰€ä»¥è¿™æ¬¡å¯¹ä¸åŒå•ä¾‹æ¨¡å¼çš„Javaä¸Kotlinå®ç°è¿›è¡Œäº†åˆ†åˆ«æ¢è®¨ã€‚  å…­ç§æ¨¡å¼å¦‚ä¸‹ï¼š  é¥¿æ±‰æ¨¡å¼ æ‡’æ±‰æ¨¡å¼ çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼ åŒé‡æ ¡éªŒé”å¼ é™æ€å†…éƒ¨ç±»å¼ æšä¸¾å¼">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2018/4/12/162b9b7aa8c2779e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
<meta property="og:updated_time" content="2018-04-26T11:15:00.285Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼">
<meta name="twitter:description" content="å‰è¨€ æœ€è¿‘åœ¨å­¦ä¹ Kotlinï¼Œç”±äºGoogleç²‘ç²‘æŠŠè¿™ä¸€è¯­è¨€ææºä¸ºå®˜æ–¹æŒ‡å®šï¼Œå¹¶ä¸”å¯¹äºç§»åŠ¨ç«¯ç­‰å¼€å‘å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ï¼Œä½œä¸ºä¸€åAndroidDeveloperå­¦ä¹ Kotlinæ˜¯å¿…è¦çš„ã€‚å½“åˆåœ¨å­¦ä¹ Javaæ—¶å¯¹å•ä¾‹æ¨¡å¼çš„å…­ç§ä¹¦å†™ä¸åº”ç”¨è®°å¿†æ·±åˆ»æ‰€ä»¥è¿™æ¬¡å¯¹ä¸åŒå•ä¾‹æ¨¡å¼çš„Javaä¸Kotlinå®ç°è¿›è¡Œäº†åˆ†åˆ«æ¢è®¨ã€‚  å…­ç§æ¨¡å¼å¦‚ä¸‹ï¼š  é¥¿æ±‰æ¨¡å¼ æ‡’æ±‰æ¨¡å¼ çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼ åŒé‡æ ¡éªŒé”å¼ é™æ€å†…éƒ¨ç±»å¼ æšä¸¾å¼">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2018/4/12/162b9b7aa8c2779e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1">
    
        <link rel="alternate" type="application/atom+xml" title="EdwardZhang&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">EdwardZhang</h5>
          <a href="mailto:super7edwardzhang@gmail.com" title="super7edwardzhang@gmail.com" class="mail">super7edwardzhang@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Homepage
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/photo"  >
                <i class="icon icon-lg icon-photo"></i>
                Album
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Edward7Zhang" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/u/3100298257/home?wvr=5" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://www.instagram.com/major7edward/" target="_blank" >
                <i class="icon icon-lg icon-instagram"></i>
                Instagram
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/link"  >
                <i class="icon icon-lg icon-link"></i>
                Friends&#39; Link
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-04-25T05:44:14.000Z" itemprop="datePublished" class="page-time">
  2018-04-25
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#å‰è¨€"><span class="post-toc-number">1.</span> <span class="post-toc-text">å‰è¨€</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#é¥¿æ±‰æ¨¡å¼ï¼šstatic-final-field"><span class="post-toc-number">2.</span> <span class="post-toc-text">é¥¿æ±‰æ¨¡å¼ï¼šstatic final field</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"><span class="post-toc-number">3.</span> <span class="post-toc-text">æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"><span class="post-toc-number">4.</span> <span class="post-toc-text">çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#åŒé‡æ ¡éªŒé”å¼"><span class="post-toc-number">5.</span> <span class="post-toc-text">åŒé‡æ ¡éªŒé”å¼</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#é™æ€å†…éƒ¨ç±»å¼"><span class="post-toc-number">6.</span> <span class="post-toc-text">é™æ€å†…éƒ¨ç±»å¼</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#æšä¸¾å¼ï¼šEnum"><span class="post-toc-number">7.</span> <span class="post-toc-text">æšä¸¾å¼ï¼šEnum</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-04-25 13:44:14" datetime="2018-04-25T05:44:14.000Z"  itemprop="datePublished">2018-04-25</time>

            


            
<span id="busuanzi_container_page_pv" title="æ–‡ç« æ€»é˜…è¯»é‡" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p><img src="https://user-gold-cdn.xitu.io/2018/4/12/162b9b7aa8c2779e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1"></p>
<hr>
<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote>
<p>æœ€è¿‘åœ¨å­¦ä¹ Kotlinï¼Œç”±äºGoogleç²‘ç²‘æŠŠè¿™ä¸€è¯­è¨€ææºä¸ºå®˜æ–¹æŒ‡å®šï¼Œå¹¶ä¸”å¯¹äºç§»åŠ¨ç«¯ç­‰å¼€å‘å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ï¼Œä½œä¸ºä¸€åAndroidDeveloperå­¦ä¹ Kotlinæ˜¯å¿…è¦çš„ã€‚<br>å½“åˆåœ¨å­¦ä¹ Javaæ—¶å¯¹å•ä¾‹æ¨¡å¼çš„å…­ç§ä¹¦å†™ä¸åº”ç”¨è®°å¿†æ·±åˆ»<br>æ‰€ä»¥è¿™æ¬¡å¯¹ä¸åŒå•ä¾‹æ¨¡å¼çš„Javaä¸Kotlinå®ç°è¿›è¡Œäº†åˆ†åˆ«æ¢è®¨ã€‚</p>
</blockquote>
<p>å…­ç§æ¨¡å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>é¥¿æ±‰æ¨¡å¼</li>
<li>æ‡’æ±‰æ¨¡å¼</li>
<li>çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</li>
<li>åŒé‡æ ¡éªŒé”å¼</li>
<li>é™æ€å†…éƒ¨ç±»å¼</li>
<li>æšä¸¾å¼</li>
</ul>
<hr>
<h1 id="é¥¿æ±‰æ¨¡å¼ï¼šstatic-final-field"><a href="#é¥¿æ±‰æ¨¡å¼ï¼šstatic-final-field" class="headerlink" title="é¥¿æ±‰æ¨¡å¼ï¼šstatic final field"></a>é¥¿æ±‰æ¨¡å¼ï¼šstatic final field</h1><p>é¥¿æ±‰å¼å…¶å®æ˜¯ä¸€ç§æ¯”è¾ƒå½¢è±¡çš„ç§°è°“ã€‚æ—¢ç„¶é¥¿ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶å€™å°±æ¯”è¾ƒç€æ€¥ï¼Œé¥¿äº†å˜›ï¼Œäºæ˜¯åœ¨è£…è½½ç±»çš„æ—¶å€™å°±åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚<br>è¿™ç§æ–¹æ³•éå¸¸ç®€å•ï¼Œå› ä¸ºå•ä¾‹çš„å®ä¾‹è¢«å£°æ˜æˆ static å’Œ final å˜é‡äº†ï¼Œåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»åˆ°å†…å­˜ä¸­æ—¶å°±ä¼šåˆå§‹åŒ–ï¼Œæ‰€ä»¥åˆ›å»ºå®ä¾‹æœ¬èº«æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line">	<span class="comment">//ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–</span></div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton instance = <span class="keyword">new</span> Singleton();</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Kotlinå¼•å…¥äº† <code>object</code>ç±»å‹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“å£°æ˜å•ä¾‹æ¨¡å¼<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="keyword">object</span> Singleton</div></pre></td></tr></table></figure></p>
<p>è¿™ç§æ–¹å¼å’Œ Java å•ä¾‹æ¨¡å¼çš„é¥¿æ±‰å¼ä¸€æ ·ï¼Œä¸è¿‡æ¯” Java ä¸­çš„å®ç°ä»£ç é‡å°‘å¾ˆå¤šï¼Œå…¶å®æ˜¯ä¸ªè¯­æ³•ç³–ï¼ˆKotlinæ¼«å±±éé‡éƒ½æ˜¯è¯­æ³•ç³–ï¼‰ã€‚åç¼–è¯‘ç”Ÿæˆçš„ class æ–‡ä»¶åå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">static</span> &#123;</div><div class="line">        Singleton singleton = <span class="keyword">new</span> Singleton();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;</div><div class="line">        INSTANCE = <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»åç¼–è¯‘çš„ä»£ç å¯ä»¥çœ‹å‡º object å¯¹è±¡å®é™…ä¸Šè¿˜æ˜¯åˆ©ç”¨äº† INSTANCE é™æ€å˜é‡ï¼Œä½†æ˜¯åœ¨Javaå’ŒKotlinæ··ç¼–æ—¶ï¼ŒJavaä»£ç ä¸­è°ƒç”¨åˆ™éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨å¦‚ä¸‹<code>Singleton.INSTANCE.test()</code>,Kolintä¸­è°ƒç”¨æ—¶åªéœ€è¦ä½¿ç”¨<code>Singleton.test()</code>ã€‚<br>è¿™ç§å®ç°æ–¹å¼åœ¨ç±»åŠ è½½æ—¶å°±åˆ›å»ºäº†å•ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥è‚¯å®šæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰é¥¿æ±‰å¼å®ç°æ–¹å¼çš„é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚æœæ„é€ æ–¹æ³•ä¸­æœ‰è€—æ—¶æ“ä½œçš„è¯ï¼Œä¼šå¯¼è‡´è¿™ä¸ªç±»çš„åŠ è½½æ¯”è¾ƒæ…¢ã€‚</li>
<li>é¥¿æ±‰å¼ä¸€å¼€å§‹å°±åˆ›å»ºå®ä¾‹ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è°ƒç”¨ï¼Œä¼šé€ æˆèµ„æºæµªè´¹ã€‚</li>
<li>è¿˜æœ‰ä¸€ä¸ª Java é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼æ²¡æœ‰çš„é—®é¢˜ï¼šæ— æ³•è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œobject ä¸­ä¸å…è®¸ constructor å‡½æ•°ã€‚</li>
</ul>
<h1 id="æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"><a href="#æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨"></a>æ‡’æ±‰æ¨¡å¼ï¼šçº¿ç¨‹ä¸å®‰å…¨</h1><p>æ‡’æ±‰å¼å…¶å®æ˜¯ä¸€ç§æ¯”è¾ƒå½¢è±¡çš„ç§°è°“ã€‚æ—¢ç„¶æ‡’ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ—¶å€™å°±ä¸ç€æ€¥ã€‚ä¼šä¸€ç›´ç­‰åˆ°é©¬ä¸Šè¦ä½¿ç”¨å¯¹è±¡å®ä¾‹çš„æ—¶å€™æ‰ä¼šåˆ›å»ºï¼Œæ‡’äººå˜›ï¼Œæ€»æ˜¯æ¨è„±ä¸å¼€çš„æ—¶å€™æ‰ä¼šçœŸæ­£å»æ‰§è¡Œå·¥ä½œï¼Œå› æ­¤åœ¨è£…è½½å¯¹è±¡çš„æ—¶å€™ä¸åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">			instance = <span class="keyword">new</span> Singleton()ï¼›</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™æ®µä»£ç ç®€å•æ˜äº†ï¼Œè€Œä¸”ä½¿ç”¨äº†æ‡’åŠ è½½æ¨¡å¼ï¼Œä½†æ˜¯å´å­˜åœ¨è‡´å‘½çš„é—®é¢˜ã€‚å½“æœ‰å¤šä¸ªçº¿ç¨‹å¹¶è¡Œè°ƒç”¨ getInstance() çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å¤šçº¿ç¨‹ä¸‹ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlin</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>()&#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">var</span> instance : Singleton? = <span class="literal">null</span></div><div class="line">        <span class="keyword">get</span>()&#123;</div><div class="line">            <span class="keyword">if</span>(field == <span class="literal">null</span>)&#123;</div><div class="line">                field = Singleton()</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> field</div><div class="line">        &#125; </div><div class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">get</span><span class="params">()</span></span>:Singleton&#123;</div><div class="line">            <span class="keyword">return</span> instance!!</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°åœ¨Kotlinå®ç°ä¸­ï¼Œæˆ‘ä»¬è®©å…¶<strong>ä¸»æ„é€ å‡½æ•°ç§æœ‰åŒ–</strong>å¹¶è‡ªå®šä¹‰äº†å…¶<strong>å±æ€§è®¿é—®å™¨</strong>ï¼Œå…¶ä½™å†…å®¹å¤§åŒå°å¼‚ã€‚</p>
<ul>
<li>å¦‚æœä¸æ¸…æ¥šKotlinæ„é€ å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ã€‚è¯·ç‚¹å‡» - - - <a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Fclasses.html" target="_blank" rel="external">æ„é€ å‡½æ•°</a></li>
<li>ä¸æ¸…æ¥šKotlinçš„å±æ€§ä¸è®¿é—®å™¨ï¼Œè¯·ç‚¹å‡» - - -<a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Fproperties.html" target="_blank" rel="external">å±æ€§å’Œå­—æ®µ</a></li>
</ul>
<h1 id="çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"><a href="#çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼"></a>çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰æ¨¡å¼</h1><p>ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†æ•´ä¸ª getInstance() æ–¹æ³•è®¾ä¸ºåŒæ­¥ï¼ˆsynchronizedï¼‰ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">			instance = <span class="keyword">new</span> Singleton()ï¼›</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è™½ç„¶åšåˆ°äº†çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸”è§£å†³äº†å¤šå®ä¾‹çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒå¹¶ä¸é«˜æ•ˆã€‚å› ä¸ºåœ¨ä»»ä½•æ—¶å€™åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ getInstance() æ–¹æ³•ã€‚ä½†æ˜¯åŒæ­¥æ“ä½œåªéœ€è¦åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ‰è¢«éœ€è¦ï¼Œå³ç¬¬ä¸€æ¬¡åˆ›å»ºå•ä¾‹å®ä¾‹å¯¹è±¡æ—¶ã€‚è¿™å°±å¼•å‡ºäº†åŒé‡æ£€éªŒé”ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlin</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>() &#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">var</span> instance: Singleton? = <span class="literal">null</span></div><div class="line">            <span class="keyword">get</span>() &#123;</div><div class="line">                <span class="keyword">if</span> (field == <span class="literal">null</span>) &#123;</div><div class="line">                    field = Singleton()</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> field</div><div class="line">            &#125;</div><div class="line">        <span class="meta">@Synchronized</span></div><div class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">get</span><span class="params">()</span></span>: Singleton&#123;</div><div class="line">            <span class="keyword">return</span> instance!!</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¤§å®¶éƒ½çŸ¥é“åœ¨ä½¿ç”¨æ‡’æ±‰å¼ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨åŒæ­¥é”ï¼Œåœ¨Kotlinä¸­ï¼Œå¦‚æœä½ éœ€è¦å°†æ–¹æ³•å£°æ˜ä¸ºåŒæ­¥ï¼Œéœ€è¦æ·»åŠ  <strong>@Synchronized</strong> æ³¨è§£</p>
<h1 id="åŒé‡æ ¡éªŒé”å¼"><a href="#åŒé‡æ ¡éªŒé”å¼" class="headerlink" title="åŒé‡æ ¡éªŒé”å¼"></a>åŒé‡æ ¡éªŒé”å¼</h1><p>åŒé‡æ£€éªŒé”æ¨¡å¼ï¼ˆdouble checked locking patternï¼‰ï¼Œæ˜¯ä¸€ç§ä½¿ç”¨åŒæ­¥å—åŠ é”çš„æ–¹æ³•ã€‚ç¨‹åºå‘˜ç§°å…¶ä¸ºåŒé‡æ£€æŸ¥é”ï¼Œå› ä¸ºä¼šæœ‰ä¸¤æ¬¡æ£€æŸ¥ instance == nullï¼Œä¸€æ¬¡æ˜¯åœ¨åŒæ­¥å—å¤–ï¼Œä¸€æ¬¡æ˜¯åœ¨åŒæ­¥å—å†…ã€‚ä¸ºä»€ä¹ˆåœ¨åŒæ­¥å—å†…è¿˜è¦å†æ£€éªŒä¸€æ¬¡ï¼Ÿå› ä¸ºå¯èƒ½ä¼šæœ‰å¤šä¸ªçº¿ç¨‹ä¸€èµ·è¿›å…¥åŒæ­¥å—å¤–çš„ ifï¼Œå¦‚æœåœ¨åŒæ­¥å—å†…ä¸è¿›è¡ŒäºŒæ¬¡æ£€éªŒçš„è¯å°±ä¼šç”Ÿæˆå¤šä¸ªå®ä¾‹äº†ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line">	<span class="comment">/**</span></div><div class="line">	 * volatileä¿è¯äº†ï¼š</div><div class="line">	 * 1.instanceå†å¤šçº¿ç¨‹ä¸‹çš„å¹¶å‘å¯è§æ€§</div><div class="line">	 * 2.ç¦æ­¢instanceåœ¨æ“ä½œæ—¶çš„æŒ‡ä»¤é‡æ’åº</div><div class="line">	 */</div><div class="line">	<span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getIntance</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="comment">//ç¬¬ä¸€æ¬¡åˆ¤ç©ºï¼Œä¿è¯ä¸å¿…è¦çš„åŒæ­¥</span></div><div class="line">		<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">			<span class="comment">//synchronizedå¯¹SingletonåŠ å…¨å±€é”ï¼Œä¿è¯æ¯æ¬¡åªè¦ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºå®ä¾‹</span></div><div class="line">			<span class="keyword">synchronized</span>(Singleton.class)&#123;</div><div class="line">				<span class="comment">//ç¬¬äºŒæ¬¡åˆ¤ç©ºæ—¶ä¸ºäº†åœ¨nullçš„æƒ…å†µä¸‹åˆ›å»ºå®ä¾‹</span></div><div class="line">				<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</div><div class="line">					instance = <span class="keyword">new</span> Singleton();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æœ‰äº›äººè®¤ä¸ºä½¿ç”¨ volatile çš„åŸå› æ˜¯å¯è§æ€§ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä¿è¯çº¿ç¨‹åœ¨æœ¬åœ°ä¸ä¼šå­˜æœ‰ instance çš„å‰¯æœ¬ï¼Œæ¯æ¬¡éƒ½æ˜¯å»ä¸»å†…å­˜ä¸­è¯»å–ã€‚ä½†å…¶å®æ˜¯ä¸å¯¹çš„ã€‚<strong>ä½¿ç”¨ volatile çš„ä¸»è¦åŸå› æ˜¯å…¶å¦ä¸€ä¸ªç‰¹æ€§ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–ã€‚</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨ volatile å˜é‡çš„èµ‹å€¼æ“ä½œåé¢ä¼šæœ‰ä¸€ä¸ªå†…å­˜å±éšœï¼ˆç”Ÿæˆçš„æ±‡ç¼–ä»£ç ä¸Šï¼‰ï¼Œè¯»æ“ä½œä¸ä¼šè¢«é‡æ’åºåˆ°å†…å­˜å±éšœä¹‹å‰</strong>ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå–æ“ä½œå¿…é¡»åœ¨æ‰§è¡Œå®Œ 1-2-3 ä¹‹åæˆ–è€… 1-3-2 ä¹‹åï¼Œä¸å­˜åœ¨æ‰§è¡Œåˆ° 1-3 ç„¶åå–åˆ°å€¼çš„æƒ…å†µã€‚</p>
<ul>
<li>ä»ã€Œå…ˆè¡Œå‘ç”ŸåŸåˆ™ã€çš„è§’åº¦ç†è§£çš„è¯ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ª volatile å˜é‡çš„å†™æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹è¿™ä¸ªå˜é‡çš„è¯»æ“ä½œï¼ˆè¿™é‡Œçš„â€œåé¢â€æ˜¯æ—¶é—´ä¸Šçš„å…ˆåé¡ºåºï¼‰ã€‚</li>
</ul>
<p>ä½†æ˜¯ç‰¹åˆ«æ³¨æ„åœ¨ Java 5 ä»¥å‰çš„ç‰ˆæœ¬ä½¿ç”¨äº† volatile çš„åŒæ£€é”è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚å…¶åŸå› æ˜¯ Java 5 ä»¥å‰çš„ JMM ï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰æ˜¯å­˜åœ¨ç¼ºé™·çš„ï¼Œå³æ—¶å°†å˜é‡å£°æ˜æˆ volatile ä¹Ÿä¸èƒ½å®Œå…¨é¿å…é‡æ’åºï¼Œä¸»è¦æ˜¯ volatile å˜é‡å‰åçš„ä»£ç ä»ç„¶å­˜åœ¨é‡æ’åºé—®é¢˜ã€‚è¿™ä¸ª volatile å±è”½é‡æ’åºçš„é—®é¢˜åœ¨ Java 5 ä¸­æ‰å¾—ä»¥ä¿®å¤ï¼Œæ‰€ä»¥åœ¨è¿™ä¹‹åæ‰å¯ä»¥æ”¾å¿ƒä½¿ç”¨ volatileã€‚</p>
<p>ç›¸ä¿¡ä½ ä¸ä¼šå–œæ¬¢è¿™ç§å¤æ‚åˆéšå«é—®é¢˜çš„æ–¹å¼ï¼Œå½“ç„¶æˆ‘ä»¬æœ‰æ›´å¥½çš„å®ç°çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼çš„åŠæ³•ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>()&#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span>&#123;</div><div class="line">        <span class="keyword">val</span> instance: Singleton <span class="keyword">by</span> lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED)&#123;</div><div class="line">            SingletonDemo()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å“‡ï¼å°ä¼™ä¼´ä»¬æƒŠå–œä¸ï¼Œæ„Ÿä¸æ„ŸåŠ¨å•Šã€‚æˆ‘ä»¬å±…ç„¶å‡ è¡Œä»£ç å°±å®ç°äº†å¤šè¡Œçš„Javaä»£ç ã€‚å…¶ä¸­æˆ‘ä»¬è¿ç”¨åˆ°äº†Kotlinçš„<strong>å»¶è¿Ÿå±æ€§ Lazy</strong>ã€‚</p>
<p><strong>Lazy</strong>æ˜¯æ¥å—ä¸€ä¸ª lambda å¹¶è¿”å›ä¸€ä¸ª Lazy å®ä¾‹çš„å‡½æ•°ï¼Œè¿”å›çš„å®ä¾‹å¯ä»¥ä½œä¸ºå®ç°å»¶è¿Ÿå±æ€§çš„å§”æ‰˜ï¼š ç¬¬ä¸€æ¬¡è°ƒç”¨ get() ä¼šæ‰§è¡Œå·²ä¼ é€’ç»™ lazy() çš„ lambda è¡¨è¾¾å¼å¹¶è®°å½•ç»“æœï¼Œ åç»­è°ƒç”¨ get() åªæ˜¯è¿”å›è®°å½•çš„ç»“æœã€‚</p>
<p>è¿™é‡Œè¿˜æœ‰æœ‰ä¸¤ä¸ªé¢å¤–çš„çŸ¥è¯†ç‚¹ã€‚</p>
<ul>
<li><a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Flambdas.html" target="_blank" rel="external">é«˜é˜¶å‡½æ•°</a></li>
<li><a href="https://link.juejin.im?target=https%3A%2F%2Fwww.kotlincn.net%2Fdocs%2Freference%2Fdelegated-properties.html" target="_blank" rel="external">å§”æ‰˜å±æ€§</a></li>
</ul>
<p>å¦‚æœä½ äº†è§£ä»¥ä¸ŠçŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹Lazyçš„å†…éƒ¨å®ç°ã€‚</p>
<ul>
<li>Lazyå†…éƒ¨å®ç°</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">lazy</span><span class="params">(mode: <span class="type">LazyThreadSafetyMode</span>, initializer: ()</span></span> -&gt; T): Lazy&lt;T&gt; =</div><div class="line">        <span class="keyword">when</span> (mode) &#123;</div><div class="line">            LazyThreadSafetyMode.SYNCHRONIZED -&gt; SynchronizedLazyImpl(initializer)</div><div class="line">            LazyThreadSafetyMode.PUBLICATION -&gt; SafePublicationLazyImpl(initializer)</div><div class="line">            LazyThreadSafetyMode.NONE -&gt; UnsafeLazyImpl(initializer)</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p>è§‚å¯Ÿä¸Šè¿°ä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬ä¼ å…¥çš„<strong>mode = LazyThreadSafetyMode.SYNCHRONIZED</strong>ï¼Œ é‚£ä¹ˆä¼šç›´æ¥èµ° SynchronizedLazyImplï¼Œæˆ‘ä»¬ç»§ç»­è§‚å¯ŸSynchronizedLazyImplã€‚</p>
<ul>
<li>Lazyæ¥å£</li>
</ul>
<p>SynchronizedLazyImplå®ç°äº†Lazyæ¥å£ï¼ŒLazyå…·ä½“æ¥å£å¦‚ä¸‹ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Lazy</span>&lt;<span class="type">out T</span>&gt; </span>&#123;</div><div class="line">     <span class="comment">//å½“å‰å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¸€æ—¦å®ä¾‹åŒ–åï¼Œè¯¥å¯¹è±¡ä¸ä¼šå†æ”¹å˜</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">val</span> value: T</div><div class="line">    <span class="comment">//è¿”å›trueè¡¨ç¤ºï¼Œå·²ç»å»¶è¿Ÿå®ä¾‹åŒ–è¿‡äº†ï¼Œfalse è¡¨ç¤ºï¼Œæ²¡æœ‰è¢«å®ä¾‹åŒ–ï¼Œ</span></div><div class="line">    <span class="comment">//ä¸€æ—¦æ–¹æ³•è¿”å›trueï¼Œè¯¥æ–¹æ³•ä¼šä¸€ç›´è¿”å›true,ä¸”ä¸ä¼šå†ç»§ç»­å®ä¾‹åŒ–</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">isInitialized</span><span class="params">()</span></span>: <span class="built_in">Boolean</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç»§ç»­æŸ¥çœ‹SynchronizedLazyImplï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<ul>
<li>SynchronizedLazyImplå†…éƒ¨å®ç°</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">SynchronizedLazyImpl</span>&lt;<span class="type">out T</span>&gt;</span>(initializer: () -&gt; T, lock: Any? = <span class="literal">null</span>) : Lazy&lt;T&gt;, Serializable &#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">var</span> initializer: (() -&gt; T)? = initializer</div><div class="line">    <span class="meta">@Volatile</span> <span class="keyword">private</span> <span class="keyword">var</span> _value: Any? = UNINITIALIZED_VALUE</div><div class="line">    <span class="comment">// final field is required to enable safe publication of constructed instance</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">val</span> lock = lock ?: <span class="keyword">this</span></div><div class="line"></div><div class="line">    <span class="keyword">override</span> <span class="keyword">val</span> value: T</div><div class="line">        <span class="keyword">get</span>() &#123;</div><div class="line">            <span class="keyword">val</span> _v1 = _value</div><div class="line">            <span class="comment">//åˆ¤æ–­æ˜¯å¦å·²ç»åˆå§‹åŒ–è¿‡ï¼Œå¦‚æœåˆå§‹åŒ–è¿‡ç›´æ¥è¿”å›ï¼Œä¸åœ¨è°ƒç”¨é«˜çº§å‡½æ•°å†…éƒ¨é€»è¾‘</span></div><div class="line">            <span class="keyword">if</span> (_v1 !== UNINITIALIZED_VALUE) &#123;</div><div class="line">                <span class="meta">@Suppress(<span class="meta-string">"UNCHECKED_CAST"</span>)</span></div><div class="line">                <span class="keyword">return</span> _v1 <span class="keyword">as</span> T</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">return</span> synchronized(lock) &#123;</div><div class="line">                <span class="keyword">val</span> _v2 = _value</div><div class="line">                <span class="keyword">if</span> (_v2 !== UNINITIALIZED_VALUE) &#123;</div><div class="line">                    <span class="meta">@Suppress(<span class="meta-string">"UNCHECKED_CAST"</span>)</span> (_v2 <span class="keyword">as</span> T)</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">val</span> typedValue = initializer!!()<span class="comment">//è°ƒç”¨é«˜çº§å‡½æ•°è·å–å…¶è¿”å›å€¼</span></div><div class="line">                    _value = typedValue   <span class="comment">//å°†è¿”å›å€¼èµ‹å€¼ç»™_value,ç”¨äºä¸‹æ¬¡åˆ¤æ–­æ—¶ï¼Œç›´æ¥è¿”å›é«˜çº§å‡½æ•°çš„è¿”å›å€¼</span></div><div class="line">                    initializer = <span class="literal">null</span></div><div class="line">                    typedValue  </div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">		<span class="comment">//çœç•¥éƒ¨åˆ†ä»£ç </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å‘ç° SynchronizedLazyImpl è¦†ç›–äº†Lazyæ¥å£çš„valueå±æ€§ï¼Œå¹¶ä¸”é‡æ–°äº†å…¶å±æ€§è®¿é—®å™¨ã€‚å…¶å…·ä½“é€»è¾‘ä¸Javaçš„åŒé‡æ£€éªŒæ˜¯ç±»ä¼¼çš„ã€‚</p>
<p>åˆ°é‡Œè¿™é‡Œå…¶å®å¤§å®¶è¿˜æ˜¯è‚¯å®šæœ‰ç–‘é—®ï¼Œæˆ‘è¿™é‡Œ<strong>åªæ˜¯å®ä¾‹åŒ–äº†SynchronizedLazyImplå¯¹è±¡ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå€¼çš„è·å–ï¼Œå®ƒæ˜¯æ€ä¹ˆæ‹¿åˆ°é«˜é˜¶å‡½æ•°çš„è¿”å›å€¼å‘¢ï¼Ÿ</strong>ã€‚è¿™é‡Œåˆæ¶‰åŠåˆ°äº†<strong>å§”æ‰˜å±æ€§</strong>ã€‚</p>
<p>å§”æ‰˜å±æ€§è¯­æ³•æ˜¯ï¼š val/var &lt;å±æ€§å&gt;: &lt;ç±»å‹&gt; by &lt;è¡¨è¾¾å¼&gt;ã€‚åœ¨ by åé¢çš„è¡¨è¾¾å¼æ˜¯è¯¥ å§”æ‰˜ï¼Œ å› ä¸ºå±æ€§å¯¹åº”çš„ get()ï¼ˆå’Œ set()ï¼‰ä¼šè¢«å§”æ‰˜ç»™å®ƒçš„ getValue() å’Œ setValue() æ–¹æ³•ã€‚ å±æ€§çš„å§”æ‰˜ä¸å¿…å®ç°ä»»ä½•çš„æ¥å£ï¼Œä½†æ˜¯éœ€è¦æä¾›ä¸€ä¸ª getValue() å‡½æ•°ï¼ˆå’Œ setValue()â€”â€”å¯¹äº var å±æ€§ï¼‰ã€‚</p>
<p>è€ŒLazy.ktæ–‡ä»¶ä¸­ï¼Œå£°æ˜äº†Lazyæ¥å£çš„getValueæ‰©å±•å‡½æ•°ã€‚æ•…åœ¨æœ€ç»ˆèµ‹å€¼çš„æ—¶å€™ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@kotlin.internal.InlineOnly</div><div class="line">//è¿”å›åˆå§‹åŒ–çš„å€¼ã€‚</div><div class="line">public inline operator fun &lt;T&gt; Lazy&lt;T&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T = value</div></pre></td></tr></table></figure>
<h1 id="é™æ€å†…éƒ¨ç±»å¼"><a href="#é™æ€å†…éƒ¨ç±»å¼" class="headerlink" title="é™æ€å†…éƒ¨ç±»å¼"></a>é™æ€å†…éƒ¨ç±»å¼</h1><p>è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ã€ŠEffective Javaã€‹ä¸Šæ‰€æ¨èçš„ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span></span>&#123;</div><div class="line">		<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE = <span class="keyword">new</span> Singleton();</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> SingletonHolder.INSTANCE;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™ç§å†™æ³•ä»ç„¶ä½¿ç”¨JVMæœ¬èº«æœºåˆ¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚ç”±äºé™æ€å•ä¾‹å¯¹è±¡æ²¡æœ‰ä½œä¸ºSingletonçš„æˆå‘˜å˜é‡ç›´æ¥å®ä¾‹åŒ–ï¼Œå› æ­¤ç±»åŠ è½½æ—¶ä¸ä¼šå®ä¾‹åŒ–Singletonï¼Œ<strong>ç¬¬ä¸€æ¬¡è°ƒç”¨getInstance()æ—¶å°†å†…éƒ¨ç±»SingletonHodler</strong>ï¼Œåœ¨è¯¥å†…éƒ¨ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªstaticç±»å‹çš„å˜é‡INSTANCEï¼Œæ­¤æ—¶ä¼šé¦–å…ˆåˆå§‹åŒ–è¿™ä¸ªæˆå‘˜å˜é‡ï¼Œç”±Javaè™šæ‹Ÿæœºæ¥ä¿è¯å…¶çº¿ç¨‹å®‰å…¨æ€§ï¼Œç¡®ä¿è¯¥æˆå‘˜å˜é‡åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ã€‚ç”±äºgetInstance()æ–¹æ³•æ²¡æœ‰ä»»ä½•çº¿ç¨‹é”å®šï¼Œå› æ­¤å…¶æ€§èƒ½ä¸ä¼šé€ æˆä»»ä½•å½±å“ã€‚</p>
<p>ç”±äºSingletonHodleræ˜¯ç§æœ‰çš„ï¼Œé™¤äº†getInstance()ä¹‹å¤–æ²¡æœ‰åŠæ³•è®¿é—®å®ƒï¼Œå› æ­¤å®ƒæ˜¯æ‡’æ±‰å¼çš„ï¼›åŒæ—¶è¯»å–å®ä¾‹çš„æ—¶å€™ä¸ä¼šè¿›è¡ŒåŒæ­¥ï¼Œæ²¡æœ‰æ€§èƒ½ç¼ºé™·ï¼›ä¹Ÿä¸ä¾èµ–JDKç‰ˆæœ¬ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> <span class="keyword">private</span> <span class="keyword">constructor</span></span>() &#123;</div><div class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</div><div class="line">        <span class="keyword">val</span> instance = SingletonHolder.holder</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">object</span> SingletonHolder &#123;</div><div class="line">        <span class="keyword">val</span> holder= Singleton()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="æšä¸¾å¼ï¼šEnum"><a href="#æšä¸¾å¼ï¼šEnum" class="headerlink" title="æšä¸¾å¼ï¼šEnum"></a>æšä¸¾å¼ï¼šEnum</h1><p>ç”¨æšä¸¾å†™å•ä¾‹å®åœ¨å¤ªç®€å•äº†ï¼è¿™ä¹Ÿæ˜¯å®ƒæœ€å¤§çš„ä¼˜ç‚¹ã€‚ä¸‹é¢è¿™æ®µä»£ç å°±æ˜¯å£°æ˜æšä¸¾å®ä¾‹çš„é€šå¸¸åšæ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Javaå®ç°</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">enum</span> EasySingleton&#123;</div><div class="line">    INSTANCE;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡EasySingleton.INSTANCEæ¥è®¿é—®å®ä¾‹ï¼Œè¿™æ¯”è°ƒç”¨getInstance()æ–¹æ³•ç®€å•å¤šäº†ã€‚åˆ›å»ºæšä¸¾é»˜è®¤å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‹…å¿ƒdouble checked lockingï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–å¯¼è‡´é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Kotlinå®ç°</span></div><div class="line"><span class="keyword">enum</span> <span class="class"><span class="keyword">class</span> <span class="title">EasySingleton</span></span>&#123;</div><div class="line">	INSTANCE;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2018-04-26T11:15:00.285Z" itemprop="dateUpdated">2018-04-26 19:15:00</time>
</span><br>


        
        Original Linkï¼š<a href="/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/" target="_blank" rel="external">https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/</a>
        
    </div>
    
    <footer>
        <a href="https://edward7zhang.github.io">
            <img src="/img/avatar.jpg" alt="EdwardZhang">
            EdwardZhang
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kotlin/">Kotlin</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/&title=ã€ŠJavaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ã€‹ â€” EdwardZhang's Blog&pic=https://edward7zhang.github.io/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/&title=ã€ŠJavaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ã€‹ â€” EdwardZhang's Blog&source=Life starts at the end of your comfort zone." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠJavaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ã€‹ â€” EdwardZhang's Blog&url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/&via=https://edward7zhang.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/04/27/ä¸‰å¹´ä¸‰æœˆä¸‰å¤©ä¸‰å°æ—¶/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">ä¸‰å¹´ä¸‰æœˆä¸‰å¤©ä¸‰å°æ—¶</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/04/24/è®°ä¸€æ¬¡å‘†è‹¥æœ¨é¸¡çš„é¢è¯•/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">è®°ä¸€æ¬¡å‘†è‹¥æœ¨é¸¡çš„é¢è¯•</h4>
      </a>
    </div>
  
</nav>



    


<section class="comments" id="comments">
    <div id="disqus_thread"></div>
    <script>
    var disqus_shortname = 'EdwardZhang777';
    lazyScripts.push('//' + disqus_shortname + '.disqus.com/embed.js')
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>













</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        ç«™ç‚¹æ€»è®¿å®¢æ•°ï¼š<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        ç«™ç‚¹æ€»è®¿é—®é‡ï¼š<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>EdwardZhang &copy; 2016 - 2019</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/&title=ã€ŠJavaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ã€‹ â€” EdwardZhang's Blog&pic=https://edward7zhang.github.io/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/&title=ã€ŠJavaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ã€‹ â€” EdwardZhang's Blog&source=Life starts at the end of your comfort zone." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠJavaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼ã€‹ â€” EdwardZhang's Blog&url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/&via=https://edward7zhang.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://edward7zhang.github.io/2018/04/25/Javaä¸Kotlinä¸‹çš„6ç§å•ä¾‹æ¨¡å¼/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACuUlEQVR42u3aQXIbMQwEQP//0841LmflGYBMlKrek0uWVmweFtAQHx/x9fnb9fr1p1e+//fpPcl9Dl94eHh4i6W//vqn/86Wnvydb9PTqvDw8PDu8Z6eqLMHd1IMkoXmW/b4Oh4eHt6b8TbNbvKpZPvw8PDw/hferAAkd0uKAR4eHt478NoW9vHHf/D+1/i8SBzOWvDw8PBiXtv+vsPfV8738PDw8Nan6skDN2md2wO2zd2+3AcPDw/vAq9tZ2ejA6eGBtp14uHh4d3g7RfxGtaGv7OG/vF78fDw8K7x8h/5ySJmEe3FcBYPDw/vKC8PFGbstlS0BSZq5fHw8PCO8vJAIR8jmA25tkUlKhV4eHh4F3ibpc/evwk4Xse7jwo8PDy8o7z8IZ5g2qAhb76HbT0eHh7eNV47VtUeZSUP9Nnm/rDFeHh4eBd47SFWOw61gW2GCfDw8PDu8TbDo8NQdTE6kLfdP4QReHh4eAteWx42D/dNqz0b9sLDw8P7V7z8y9qjrHyz2g4ZDw8P7x6vDUaTVrtd4uxwK1o5Hh4e3gXe5rC/HSnIh6XyZr3dXDw8PLw9L2+a27a4jYPzMYJixAEPDw/vAm/zmN7ECrMYdxgr4+Hh4V3m5T/+k2LQloS8GOSbjoeHh/f3ebNDqWTp+9g3KiF4eHh4l3mz4LWNCZJiMHtnHUbg4eHhrXmzUDUpALMwt2C0LTUeHh7eIV794dHAUxJhJJioSODh4eEd5X2W14zajhq0nypKAh4eHt6al1+bm7YBR/7ZvHjg4eHhneUlxWBWGDZR7D4iwcPDw7vNm40F5K35sfZ3lrXg4eHhvQEvP8LfxArtMdgfXsfDw8N7A167rHxUqw2Fo0gCDw8P7xovP3zK89I2RW4P1YrCgIeHh3eU1/7gnyHbLWhb6lW0gYeHh5fyfgFYi1S5xzuXQgAAAABJRU5ErkJggg==" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '42';
            clearTimeout(titleTime);
        } else {
            document.title = 'Donâ€˜t Panicï¼';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
